"use strict";(self.webpackChunkamit_kumar_rathi=self.webpackChunkamit_kumar_rathi||[]).push([[2273],{63231:function(e,t,n){function r(e){return null!=s(e)||null!=u(e)}function i(e){return o.test(e)}function a(e){var t;return null!==(t=s(e))&&void 0!==t?t:u(e)}function u(e){var t=new Date(e);return function(e,t){if(Number.isNaN(e.getTime()))return!1;var n=!0;if(c&&/\d+\W*$/.test(t)){var r=t.match(/[a-zA-Z]{2,}/);if(r){for(var i=!1,a=0;!i&&a<=r.length;)i=!l.test(r[a]),a++;n=!i}}return n}(t,e)?Number.isNaN(t.getTime())?null:t.getTime()-6e4*t.getTimezoneOffset():null}function s(e){var t,n,r,i,a=o.exec(e);if(null===a||void 0===a||!a.groups)return null;var u=a.groups,s=+u.year,l=+u.month-1,c=+u.day,p=+(null!==(t=u.hours)&&void 0!==t?t:"0"),f=+(null!==(n=u.minutes)&&void 0!==n?n:"0"),d=+(null!==(r=u.seconds)&&void 0!==r?r:"0");if(p>23)return null;if(f>59)return null;if(d>59)return null;var h,v=null!==(i=u.ms)&&void 0!==i?i:"0",m=v?+v.padEnd(3,"0").substring(0,3):0;if(u.isUTC||!u.offsetSign)h=Date.UTC(s,l,c,p,f,d,m);else{var g=+u.offsetHours,y=+u.offsetMinutes;h=6e4*("+"===u.offsetSign?-1:1)*(60*g+y)+Date.UTC(s,l,c,p,f,d,m)}return Number.isNaN(h)?null:h}n.d(t,{mu:function(){return i},of:function(){return r},sG:function(){return a}});var o=(0,n(70804).Z)(/^(?:(\x2D?\d{4,})\x2D(\d{2})\x2D(\d{2}))(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?)?(?:(Z)|(?:(\+|\x2D)(\d{2}):(\d{2})))?$/,{year:1,month:2,day:3,hours:4,minutes:5,seconds:6,ms:7,isUTC:8,offsetSign:9,offsetHours:10,offsetMinutes:11});var l=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,c=!Number.isNaN(new Date("technology 10").getTime())},29616:function(e,t,n){n.d(t,{Qc:function(){return f},WU:function(){return l},lt:function(){return p}});var r=n(1413),i=n(29439),a=n(643),u=n(36257),s={ar:[".",","],bg:[",","\xa0"],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,u.Kd)(),t=(e=e.toLowerCase())in s;if(!t){var n=e.split("-");n.length>1&&n[0]in s&&(e=n[0],t=!0),t||(e="en")}var r=(0,i.Z)(s[e],3),a=r[0],o=r[1],l=r[2];return{decimal:a,group:o,pattern:void 0===l?"#,##0.###":l}}function l(e,t){var n=o((t=(0,r.Z)({},t)).locale);t.customs=n;var i=t.pattern||n.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,n){var r=(n=n||{}).customs.group,i=n.customs.decimal,a=t.split(";"),u=a[0];if((t=a[e<0?1:0]||"-"+u).includes("%"))e*=100;else if(t.includes("\u2030"))e*=1e3;else{if(t.includes("\xa4"))throw new Error("currency notation not supported");if(t.includes("E"))throw new Error("exponential notation not supported")}var s=c,o=u.match(s);if(!o)throw new Error("unable to find a number expression in pattern: "+t);return!1===n.fractional&&(n.places=0),t.replace(s,function(e,t,n){!0===(n=n||{}).places&&(n.places=0),n.places===1/0&&(n.places=6);var r=t.split("."),i="string"==typeof n.places&&n.places.indexOf(","),a=n.places;i?a=n.places.substring(i+1):+a>=0||(a=(r[1]||[]).length),n.round<0||(e=Number(e.toFixed(Number(a))));var u=String(Math.abs(e)).split("."),s=u[1]||"";if(r[1]||n.places){i&&(n.places=n.places.substring(0,i));var o=void 0!==n.places?n.places:r[1]&&r[1].lastIndexOf("0")+1;+o>s.length&&(u[1]=s.padEnd(Number(o),"0")),+a<s.length&&(u[1]=s.substr(0,Number(a)))}else u[1]&&u.pop();var l=r[0].replace(",",""),c=l.indexOf("0");-1!==c&&(c=l.length-c,c>u[0].length&&(u[0]=u[0].padStart(c,"0")),l.includes("#")||(u[0]=u[0].substr(u[0].length-c)));var p,f,d=r[0].lastIndexOf(",");if(-1!==d){p=r[0].length-d-1;var h=r[0].substr(0,d);-1!==(d=h.lastIndexOf(","))&&(f=h.length-d-1)}for(var v=[],m=u[0];m;){var g=m.length-p;v.push(g>0?m.substr(g):m),m=g>0?m.slice(0,g):"",f&&(p=f,f=void 0)}return u[0]=v.reverse().join(n.group||","),u.join(n.decimal||".")}(e,o[0],{decimal:i,group:r,places:n.places,round:n.round}))}(e,i,t)}var c=/[#0,]*[#0](?:\.0*#*)?/;function p(e){var t=o((e=e||{}).locale),n=e.pattern||t.pattern,r=t.group,i=t.decimal,u=1;if(n.includes("%"))u/=100;else if(n.includes("\u2030"))u/=1e3;else if(n.includes("\xa4"))throw new Error("currency notation not supported");var s=n.split(";");1===s.length&&s.push("-"+s[0]);var l=h(s,(function(t){return(t="(?:"+(0,a.Qs)(t,".")+")").replace(c,(function(t){var n={signed:!1,separator:e.strict?r:[r,""],fractional:e.fractional,decimal:i,exponent:!1},a=t.split("."),s=e.places;1===a.length&&1!==u&&(a[1]="###"),1===a.length||0===s?n.fractional=!1:(void 0===s&&(s=e.pattern?a[1].lastIndexOf("0")+1:1/0),s&&null==e.fractional&&(n.fractional=!0),!e.places&&+s<a[1].length&&(s+=","+a[1].length),n.places=s);var o=a[0].split(",");return o.length>1&&(n.groupSize=o.pop().length,o.length>1&&(n.groupSize2=o.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!String(e.places).startsWith("0")||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);var t=d(e),n=h(e.fractional,(function(t){var n="";return t&&0!==e.places&&(n="\\"+e.decimal,e.places===1/0?n="(?:"+n+"\\d+)?":n+="\\d{"+e.places+"}"),n}),!0),r=t+n;return n&&(r="(?:(?:"+r+")|(?:"+n+"))"),r+h(e.exponent,(function(t){return t?"([eE]"+d({signed:e.eSigned})+")":""}))}(n)+")"}))}),!0);return{regexp:l.replaceAll(/[\xa0 ]/g,"[\\s\\xa0]"),group:r,decimal:i,factor:u}}function f(e,t){var n=p(t),r=new RegExp("^"+n.regexp+"$").exec(e);if(!r)return NaN;var i=r[1];if(!r[1]){if(!r[2])return NaN;i=r[2],n.factor*=-1}return i=i.replaceAll(new RegExp("["+n.group+"\\s\\xa0]","g"),"").replace(n.decimal,"."),Number(i)*n.factor}function d(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",h(e.signed,(function(e){return e?"[-+]":""}),!0)+h(e.separator,(function(t){if(!t)return"(?:\\d+)";" "===(t=(0,a.Qs)(t))?t="\\s":"\xa0"===t&&(t="\\s\\xa0");var n=e.groupSize,r=e.groupSize2;if(r){var i="(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+t+"]\\d{"+r+"})*["+t+"]\\d{"+n+"})";return n-r>0?"(?:"+i+"|(?:0|[1-9]\\d{0,"+(n-1)+"}))":i}return"(?:0|[1-9]\\d{0,"+(n-1)+"}(?:["+t+"]\\d{"+n+"})*)"}),!0)}var h=function(e,t,n){if(!(e instanceof Array))return t(e);for(var r=[],i=0;i<e.length;i++)r.push(t(e[i]));return v(r.join("|"),Boolean(n))},v=function(e,t){return"("+(t?"?:":"")+e+")"}},62273:function(e,t,n){n.r(t),n.d(t,{default:function(){return ee}});var r=n(37762),i=n(1413),a=n(29439),u=n(74165),s=n(15861),o=n(43144),l=n(15671),c=(n(59486),n(76200)),p=n(14921),f=n(63231),d=n(10064),h=n(32718),v=n(66978),m=n(35995),g=n(45925),y=n(40237),x=n(92975),b=n(81753),Z=n(3182),w=n(80457),N=n(33960),k=n(19995),F=n(76143),I=n(29616),_=n(37270),T=(0,u.Z)().mark(D),E=/^\s*"([\S\s]*)"\s*$/,S=/""/g,C="\n",O=[","," ",";","|","\t"];function D(e,t,n){var r,i,a;return(0,u.Z)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:r=0;case 1:if(!(r<=e.length)){u.next=10;break}if(i=e.indexOf(t,r),a=e.substring(r,i>-1?i:void 0),r+=a.length+t.length,u.t0=n&&!a.trim(),u.t0){u.next=8;break}return u.next=8,a;case 8:u.next=1;break;case 10:case"end":return u.stop()}}),T)}function q(e){var t=e.includes("\r\n")?"\r\n":C;return D(e,t,!0)}function A(e,t){return D(e,t,!1)}function j(e,t,n){var i;e=e.trim(),t=null===(i=t)||void 0===i?void 0:i.trim();var a,u=[],s=Array.from(new Set([null===n||void 0===n?void 0:n.delimiter].concat(O))).filter((function(e){return null!=e})),o=(0,r.Z)(s);try{for(o.s();!(a=o.n()).done;){var l,c=a.value,p=P(e,c).length,f=null!==(l=P(t,c).length)&&void 0!==l?l:p;p>1&&u.push({weight:Math.min(p,f),delimiter:c})}}catch(y){o.e(y)}finally{o.f()}var d,h=u.sort((function(e,t){var n=e.weight;return t.weight-n})).map((function(e){return e.delimiter})),v=(0,r.Z)(h);try{for(v.s();!(d=v.n()).done;){var m=d.value,g=Q(G(e,m).names,null===n||void 0===n?void 0:n.longitudeField,null===n||void 0===n?void 0:n.latitudeField);if(g.longitudeFieldName&&g.latitudeFieldName)return{delimiter:m,locationInfo:g}}}catch(y){v.e(y)}finally{v.f()}return{delimiter:h[0],locationInfo:null}}function R(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return Object.create(null)};return(0,u.Z)().mark((function a(){var s,o,l,c,p,f,d,h,v,m,g,y,x,b;return(0,u.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(s=q(e)).next(),o="",l="",c=0,p=i(),f=0,d=(0,r.Z)(s),a.prev=4,d.s();case 6:if((h=d.n()).done){a.next=48;break}v=h.value,m=A(v,n),g=(0,r.Z)(m),a.prev=10,g.s();case 12:if((y=g.n()).done){a.next=30;break}if(x=y.value,o+=l+x,l="",(c+=M(x))%2!=0){a.next=27;break}if(!(c>0)){a.next=23;break}if(b=E.exec(o)){a.next=20;break}return p=i(),f=0,o="",c=0,a.abrupt("continue",46);case 20:p[t[f]]=b[1].replaceAll(S,'"'),f++,a.next=24;break;case 23:p[t[f]]=o,f++;case 24:o="",c=0,a.next=28;break;case 27:l=n;case 28:a.next=12;break;case 30:a.next=35;break;case 32:a.prev=32,a.t0=a.catch(10),g.e(a.t0);case 35:return a.prev=35,g.f(),a.finish(35);case 38:if(0!==c){a.next=45;break}return a.next=41,p;case 41:p=i(),f=0,a.next=46;break;case 45:l=C;case 46:a.next=6;break;case 48:a.next=53;break;case 50:a.prev=50,a.t1=a.catch(4),d.e(a.t1);case 53:return a.prev=53,d.f(),a.finish(53);case 56:case"end":return a.stop()}}),a,null,[[4,50,53,56],[10,32,35,38]])}))()}function G(e,t){for(var n=P(e,t).filter((function(e){return null!=e})),r=n.map((function(e){return(0,_.q6)(e)})),i=r.length-1;i>=0;i--)r[i]||(r.splice(i,1),n.splice(i,1));return{names:r,aliases:n}}function P(e,t){if(null===e||void 0===e||!e.length)return[];var n,i=[],a="",u="",s=0,o=A(e,t),l=(0,r.Z)(o);try{for(l.s();!(n=l.n()).done;){var c=n.value;if(a+=u+c,u="",(s+=M(c))%2==0){if(s>0){var p=E.exec(a);p&&i.push(p[1].replaceAll(S,'"'))}else i.push(a);a="",s=0}else u=t}}catch(f){l.e(f)}finally{l.f()}return i}function M(e){var t=0,n=0;for(n=e.indexOf('"',n);n>=0;)t++,n=e.indexOf('"',n+1);return t}function Q(e,t,n){var r,i;t=null===(r=(0,_.q6)(t))||void 0===r?void 0:r.toLowerCase(),n=null===(i=(0,_.q6)(n))||void 0===i?void 0:i.toLowerCase();var a=e.map((function(e){return e.toLowerCase()})),u=t?e[a.indexOf(t)]:null,s=n?e[a.indexOf(n)]:null;return{longitudeFieldName:u||e[a.indexOf(L.find((function(e){return a.includes(e)})))],latitudeFieldName:s||e[a.indexOf(z.find((function(e){return a.includes(e)})))]}}function U(e,t,n,i,a){var u,s=[],o=R(e,n,t),l=[],c=(0,r.Z)(o);try{for(c.s();!(u=c.n()).done;){var p=u.value;if(10===l.length)break;l.push(p)}}catch(v){c.e(v)}finally{c.f()}for(var d=function(){var e=n[h],t=i[h];if(e===a.longitudeFieldName||e===a.latitudeFieldName)s.push({name:e,type:"esriFieldTypeDouble",alias:t});else{var r;switch(function(e){if(!e.length)return"string";var t=/[^+\-.,0-9]/;return e.map((function(e){if(""!==e){if(!t.test(e)){var n=V(e);if(!isNaN(n))return/[.,]/.test(e)||!Number.isInteger(n)||n>214783647||n<-214783648?"double":"integer";if(e.includes("E")){if(n=Number(e),!Number.isNaN(n))return"double";if(e.includes(",")&&(e=e.replace(",","."),n=Number(e),!Number.isNaN(n)))return"double"}}return(0,f.of)(e)?"date":"string"}})).reduce((function(e,t){return void 0===e?t:void 0===t?e:e===t?t:"string"===e||"string"===t?"string":"double"===e||"double"===t?"double":void 0}))}(l.map((function(t){return t[e]})))){case"integer":r="esriFieldTypeInteger";break;case"double":r="esriFieldTypeDouble";break;case"date":r="esriFieldTypeDate";break;default:r="esriFieldTypeString"}s.push({name:e,type:r,alias:t,length:(0,_.ZR)(r)})}},h=0;h<n.length;h++)d();return s}var V=function(){var e=(0,I.lt)(),t=new RegExp("^"+e.regexp+"$"),n=new RegExp("["+e.group+"\\s\\xa0]","g"),r=e.factor;return function(i){var a=t.exec(i);if(e.factor=r,!a)return NaN;var u=a[1];if(!a[1]){if(!a[2])return NaN;u=a[2],e.factor*=-1}return+(u=u.replace(n,"").replace(e.decimal,"."))*e.factor}}(),z=["lat","latitude","latitude83","latdecdeg","lat_dd","y","ycenter","point_y"],L=["lon","lng","long","longitude","longitude83","longdecdeg","long_dd","x","xcenter","point_x"],$=n(63543),B=n(52410),W=n(6701),H=n(78952),J=(0,$.bU)("esriGeometryPoint"),Y=["csv"],K=[0,0],X=(0,o.Z)((function e(t,n){(0,l.Z)(this,e),this.x=t,this.y=n})),ee=function(){function e(){var t=this;(0,l.Z)(this,e),this._queryEngine=null,this._snapshotFeatures=function(){var e=(0,s.Z)((0,u.Z)().mark((function e(n){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._fetch(n);case 2:return r=e.sent,e.abrupt("return",t._createFeatures(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return(0,o.Z)(e,[{key:"destroy",value:function(){var e;null!==(e=this._queryEngine)&&void 0!==e&&e.destroy(),this._queryEngine=null}},{key:"load",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var n,r,i,s,o,l,c,p,f,d,h,v,m=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.length>1&&void 0!==m[1]?m[1]:{},this._loadOptions=t,e.next=4,Promise.all([this._fetch(r.signal),this._checkProjection(null===t||void 0===t||null===(n=t.parsingOptions)||void 0===n?void 0:n.spatialReference)]);case 4:return i=e.sent,s=(0,a.Z)(i,1),o=s[0],l=te(o,t),this._locationInfo=l.locationInfo,this._delimiter=l.delimiter,this._queryEngine=this._createQueryEngine(l),e.next=11,this._createFeatures(o);case 11:return c=e.sent,this._queryEngine.featureStore.addMany(c),e.next=15,this._queryEngine.fetchRecomputedExtents();case 15:return p=e.sent,f=p.fullExtent,d=p.timeExtent,l.layerDefinition.extent=f,d&&(h=d.start,v=d.end,l.layerDefinition.timeInfo.timeExtent=[h,v]),e.abrupt("return",l);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"applyEdits",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new d.Z("csv-layer:editing-not-supported","applyEdits() is not supported on CSVLayer");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatures",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){var t,n,r=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQuery(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatureCount",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){var t,n,r=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForCount(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryObjectIds",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){var t,n,r=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForIds(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryExtent",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){var t,n,r=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForExtent(t,n.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"querySnapping",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var n,r=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this._waitSnapshotComplete();case 3:return e.abrupt("return",this._queryEngine.executeQueryForSnapping(t,n.signal));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var n,r,i,a,s=this;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._loadOptions.customParameters=t,null!==(n=this._snapshotTask)&&void 0!==n&&n.abort(),this._snapshotTask=(0,p.vr)(this._snapshotFeatures),this._snapshotTask.promise.then((function(e){s._queryEngine.featureStore.clear(),e&&s._queryEngine.featureStore.addMany(e)}),(function(e){s._queryEngine.featureStore.clear(),(0,v.D_)(e)||h.Z.getLogger("esri.layers.CSVLayer").error(new d.Z("csv-layer:refresh","An error occurred during refresh",{error:e}))})),e.next=6,this._waitSnapshotComplete();case 6:return e.next=8,this._queryEngine.fetchRecomputedExtents();case 8:return r=e.sent,i=r.fullExtent,a=r.timeExtent,e.abrupt("return",{extent:i,timeExtent:a});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_waitSnapshotComplete",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._snapshotTask||this._snapshotTask.finished){e.next=9;break}return e.prev=1,e.next=4,this._snapshotTask.promise;case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.abrupt("return",this._waitSnapshotComplete());case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"_fetch",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var n,r,a,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._loadOptions,r=n.url,a=n.customParameters,r){e.next=3;break}throw new d.Z("csv-layer:invalid-source","url not defined");case 3:return s=(0,m.mN)(r),e.next=6,(0,c.Z)(s.path,{query:(0,i.Z)((0,i.Z)({},s.query),a),responseType:"text",signal:t});case 6:return e.abrupt("return",e.sent.data);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createQueryEngine",value:function(e){var t=e.layerDefinition,n=t.objectIdField,r=t.fields,i=t.extent,a=t.timeInfo,u=new N.Z({geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1});return new F.q({fieldsIndex:B.Z.fromLayerJSON({fields:r,dateFieldsTimeReference:{timeZoneIANA:W.pt}}),geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1,timeInfo:a,objectIdField:n,spatialReference:i.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:u})}},{key:"_createFeatures",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var n,i,s,o,l,c,p,d,h,v,m,N,k,F,I,T,E,S,C,O,D,q,A,j,G,P,M,Q,U,z,L,B,W,J,Y;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this._locationInfo,i=n.latitudeFieldName,s=n.longitudeFieldName,o=this._queryEngine,l=o.objectIdField,c=o.fieldsIndex,p=o.spatialReference,d=[],h=[],v=c.fields.filter((function(e){return e.name!==l})).map((function(e){return e.name})),m=0,N={},k=(0,r.Z)(c.fields);try{for(k.s();!(F=k.n()).done;)"esriFieldTypeOID"!==(I=F.value).type&&"esriFieldTypeGlobalID"!==I.type&&void 0!==(T=(0,_.os)(I))&&(N[I.name]=T)}catch(u){k.e(u)}finally{k.f()}E=R(t,v,this._delimiter,(0,$.Dm)(N,l)),S=(0,r.Z)(E);try{for(S.s();!(C=S.n()).done;)if(O=C.value,D=this._parseCoordinateValue(O[i]),null!=(q=this._parseCoordinateValue(O[s]))&&null!=D&&!isNaN(D)&&!isNaN(q)){for(A in O[i]=D,O[s]=q,O)A!==i&&A!==s&&(c.isDateField(A)?O[A]=(0,f.sG)(O[A]):c.isNumericField(A)&&(j=V(O[A]),isNaN(j)?O[A]=null:O[A]=j));O[l]=m,m++,d.push(new X(q,D)),h.push(O)}}catch(u){S.e(u)}finally{S.f()}if(!(0,x.fS)({wkid:4326},p))if((0,x.sS)(p)){G=(0,r.Z)(d);try{for(G.s();!(P=G.n()).done;)M=P.value,Q=(0,b.hG)(M.x,M.y,K),U=(0,a.Z)(Q,2),M.x=U[0],M.y=U[1]}catch(u){G.e(u)}finally{G.f()}}else d=(0,g.projectMany)(y.N,d,H.Z.WGS84,p,null,null);for(z=[],L=0;L<d.length;L++)B=d[L],W=B.x,J=B.y,(Y=h[L])[l]=L+1,z.push(new Z.u_(new w.Z([],[W,J]),Y,null,Y[l]));return e.abrupt("return",z);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_parseCoordinateValue",value:function(e){if(null==e||""===e)return null;var t=V(e);return(isNaN(t)||Math.abs(t)>181)&&(t=parseFloat(e)),t}},{key:"_checkProjection",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,k._W)(x.Zn,t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new d.Z("csv-layer:projection-not-supported","Projection not supported");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function te(e,t){var n,i,a,u=t.parsingOptions||{},s={delimiter:u.delimiter,layerDefinition:null,locationInfo:{latitudeFieldName:u.latitudeField,longitudeFieldName:u.longitudeField}},o=s.layerDefinition={name:(0,m.vt)(t.url,Y)||"csv",dateFieldsTimeReference:{timeZoneIANA:W.pt},drawingInfo:J,geometryType:"esriGeometryPoint",objectIdField:null,fields:[],timeInfo:u.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:u.spatialReference||{wkid:4326}}},l=q(e),c=null===(n=l.next().value)||void 0===n?void 0:n.trim(),p=null===(i=l.next().value)||void 0===i?void 0:i.trim();if(!c)throw new d.Z("csv-layer:empty-csv","CSV is empty",{csv:e});var f=j(c,p,u),h=f.delimiter,v=f.locationInfo;if(!h)throw new d.Z("csv-layer:invalid-delimiter","Unable to detect the delimiter from CSV",{firstLine:c,secondLine:p,parsingOptions:u});if(!v)throw new d.Z("csv-layer:location-fields-not-found","Unable to identify latitude and longitude fields from the CSV file",{firstLine:c,secondLine:p,parsingOptions:u});s.locationInfo=v,s.delimiter=h;var g=G(c,h),y=g.names,x=g.aliases,b=U(e,s.delimiter,y,x,s.locationInfo);if(null!==(a=u.fields)&&void 0!==a&&a.length){var Z,w=new B.Z(u.fields),N=(0,r.Z)(b);try{for(N.s();!(Z=N.n()).done;){var k=Z.value,F=w.get(k.name);F&&Object.assign(k,F)}}catch(O){N.e(O)}finally{N.f()}}if(!b.some((function(e){return"esriFieldTypeOID"===e.type&&(o.objectIdField=e.name,!0)}))){var I={name:"__OBJECTID",alias:"__OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1};o.objectIdField=I.name,b.unshift(I)}o.fields=b;var _=new B.Z(o.fields);if(s.locationInfo&&(s.locationInfo.latitudeFieldName=_.get(s.locationInfo.latitudeFieldName).name,s.locationInfo.longitudeFieldName=_.get(s.locationInfo.longitudeFieldName).name),o.timeInfo){var T=o.timeInfo;if(T.startTimeField){var E=_.get(T.startTimeField);E?(T.startTimeField=E.name,E.type="esriFieldTypeDate"):T.startTimeField=null}if(T.endTimeField){var S=_.get(T.endTimeField);S?(T.endTimeField=S.name,S.type="esriFieldTypeDate"):T.endTimeField=null}if(T.trackIdField){var C=_.get(T.trackIdField);T.trackIdField=C?C.name:null}T.startTimeField||T.endTimeField||(o.timeInfo=null)}return s}},63543:function(e,t,n){n.d(t,{Dm:function(){return f},Hq:function(){return d},MS:function(){return h},bU:function(){return l}});var r=n(4942),i=n(1413),a=n(93169),u=n(84652),s=n(60480),o=n(76115);function l(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?o.I4:"esriGeometryPolyline"===e?o.ET:o.lF}}}var c=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,p=1;function f(e,t){if((0,a.Z)("esri-csp-restrictions"))return function(){return(0,i.Z)((0,r.Z)({},t,null),e)};try{var n="this.".concat(t," = null;");for(var u in e)n+="this".concat(c.test(u)?".".concat(u):'["'.concat(u,'"]')," = ").concat(JSON.stringify(e[u]),";");var s=new Function("\n      return class AttributesClass$".concat(p++," {\n        constructor() {\n          ").concat(n,";\n        }\n      }\n    "))();return function(){return new s}}catch(o){return function(){return(0,i.Z)((0,r.Z)({},t,null),e)}}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:(0,u.d9)(e)}}]}function h(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:s.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}}}]);
//# sourceMappingURL=2273.bb88e118.chunk.js.map