"use strict";(self.webpackChunkamit_kumar_rathi=self.webpackChunkamit_kumar_rathi||[]).push([[6126],{15909:function(e,t,r){r.d(t,{D:function(){return a}});var n=r(80292);function a(e){(null===e||void 0===e?void 0:e.writtenProperties)&&e.writtenProperties.forEach((function(e){var t=e.target,r=e.propName,a=e.newOrigin;(0,n.l)(t)&&a&&t.originOf(r)!==a&&t.updateOrigin(r,a)}))}},80292:function(e,t,r){function n(e){return e&&"getAtOrigin"in e&&"originOf"in e}r.d(t,{l:function(){return n}})},36126:function(e,t,r){r.r(t),r.d(t,{save:function(){return m},saveAs:function(){return y}});var n=r(74165),a=r(15861),o=r(65286),i=r(73117),u="Stream Service",s="stream-layer-save",l="stream-layer-save-as";function c(e){return{isValid:"stream"===e.type&&!!e.url&&!e.webSocketUrl,errorMessage:"Stream layer should be created using a url to a stream service"}}function p(e){var t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}function f(e,t){return d.apply(this,arguments)}function d(){return d=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,o,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.parsedUrl,o=t.title,u=t.fullExtent,r.url=a.path,r.title||(r.title=o),r.extent=null,e.t0=null!=u,!e.t0){e.next=9;break}return e.next=8,(0,i.$o)(u);case 8:r.extent=e.sent;case 9:(0,i.qj)(r,i.Kz.SINGLE_LAYER);case 10:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function m(e,t){return v.apply(this,arguments)}function v(){return(v=(0,a.Z)((0,n.Z)().mark((function e(t,r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.a1)({layer:t,itemType:u,validateLayer:c,createItemData:p,errorNamePrefix:s},r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,r){return w.apply(this,arguments)}function w(){return(w=(0,a.Z)((0,n.Z)().mark((function e(t,r,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.po)({layer:t,itemType:u,validateLayer:c,createItemData:p,errorNamePrefix:l,newItem:r,setItemProperties:f},a));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},65286:function(e,t,r){r.d(t,{DC:function(){return d},Nw:function(){return g},UY:function(){return k},Ym:function(){return h},a1:function(){return N},jX:function(){return I},po:function(){return S},uT:function(){return Z},xG:function(){return y}});var n=r(74165),a=r(1413),o=r(15861),i=r(10064),u=r(15909),s=r(7575),l=r(98995),c=r(32698),p=r(73117),f=r(81359);function d(e,t,r){var n=r(e);if(!n.isValid)throw new i.Z("".concat(t,":invalid-parameters"),n.errorMessage,{layer:e})}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)((0,n.Z)().mark((function e(t){var r,a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.layer,a=t.errorNamePrefix,o=t.validateLayer,e.next=3,r.load();case 3:d(r,a,o);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return"Layer (title: ".concat(e.title,", id: ").concat(e.id,") of type '").concat(e.declaredClass,"' ").concat(t)}function w(e){var t=e.item,r=e.itemType,n=e.errorNamePrefix,a=e.layer,o=e.validateItem;if((0,f.w)(t),t.type!==r)throw new i.Z("".concat(n,":portal-item-wrong-type"),'Portal item type should be "'.concat(r,'"'),{item:t,layer:a});if(o){var u=o(t);if(!u.isValid)throw new i.Z("".concat(n,":invalid-parameters"),u.errorMessage,{layer:a})}}function h(e){var t=e.layer,r=e.errorNamePrefix,n=t.portalItem;if(!n)throw new i.Z("".concat(r,":portal-item-not-set"),y(t,"requires the portalItem property to be set"));if(!n.loaded)throw new i.Z("".concat(r,":portal-item-not-loaded"),y(t,"cannot be saved to a portal item that does not exist or is inaccessible"));w((0,a.Z)((0,a.Z)({},e),{},{item:n}))}function Z(e){var t,r,n,o,i=e.newItem,u=e.itemType,c=l.default.from(i);return c.id&&((c=c.clone()).id=null),null!==(r=(t=c).type)&&void 0!==r||(t.type=u),null!==(o=(n=c).portal)&&void 0!==o||(n.portal=s.Z.getDefault()),w((0,a.Z)((0,a.Z)({},e),{},{item:c})),c}function x(e,t){var r,n=(null!==(r=e.messages)&&void 0!==r?r:[]).filter((function(e){return"error"===e.type})).map((function(e){var t=e.name,r=e.message,n=e.details;return new i.Z(t,r,n)}));if(e.blockedRelativeUrls&&(n=n.concat(e.blockedRelativeUrls.map((function(e){return new i.Z("url:unsupported","Relative url '".concat(e,"' is not supported"))})))),null!==t&&void 0!==t&&t.ignoreUnsupported&&(n=n.filter((function(e){var t=e.name;return"layer:unsupported"!==t&&"symbol:unsupported"!==t&&"symbol-layer:unsupported"!==t&&"property:unsupported"!==t&&"url:unsupported"!==t}))),n.length>0)throw new i.Z("layer-write:unsupported","Failed to save layer due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:n})}function g(e,t,r){return b.apply(this,arguments)}function b(){return(b=(0,o.Z)((0,n.Z)().mark((function e(t,r,a){var o,i,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="beforeSave"in t&&"function"==typeof t.beforeSave,!e.t0){e.next=4;break}return e.next=4,t.beforeSave();case 4:return u=t.write({},r),e.next=7,Promise.all(null!==(o=null===(i=r.resources)||void 0===i?void 0:i.pendingOperations)&&void 0!==o?o:[]);case 7:return x(r,a),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){(0,p.qj)(e,p.Kz.JSAPI),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter((function(e,t,r){return r.indexOf(e)===t})))}function I(e,t,r){return P.apply(this,arguments)}function P(){return(P=(0,o.Z)((0,n.Z)().mark((function e(t,r,a){var o,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.portal,e.next=3,i.signIn();case 3:return e.next=5,null===(o=i.user)||void 0===o?void 0:o.addItem({item:t,data:r,folder:null===a||void 0===a?void 0:a.folder});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return U.apply(this,arguments)}function U(){return U=(0,o.Z)((0,n.Z)().mark((function e(t,r){var a,o,i,s,l,p,f,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.layer,o=t.createItemData,i=t.createJSONContext,s=t.saveResources,e.next=3,m(t);case 3:return h(t),l=a.portalItem,p=i?i(l):(0,c.Yv)(l),e.next=8,g(a,p,r);case 8:return f=e.sent,e.next=11,o({layer:a,layerJSON:f},l);case 11:return d=e.sent,k(l),e.next=15,l.update({data:d});case 15:return(0,u.D)(p),e.next=18,null===s||void 0===s?void 0:s(l,p);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function S(e,t){return O.apply(this,arguments)}function O(){return O=(0,o.Z)((0,n.Z)().mark((function e(t,r){var a,o,i,s,l,p,f,d,v;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.layer,o=t.createItemData,i=t.createJSONContext,s=t.setItemProperties,l=t.saveResources,e.next=3,m(t);case 3:return p=Z(t),f=i?i(p):(0,c.Yv)(p),e.next=7,g(a,f,r);case 7:return d=e.sent,e.next=10,o({layer:a,layerJSON:d},p);case 10:return v=e.sent,e.next=13,s(a,p);case 13:return k(p),e.next=16,I(p,v,r);case 16:return a.portalItem=p,(0,u.D)(f),e.next=20,null===l||void 0===l?void 0:l(p,f);case 20:return e.abrupt("return",p);case 21:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}},32698:function(e,t,r){r.d(t,{M4:function(){return s},Yv:function(){return i},ht:function(){return o},wk:function(){return u}});var n=r(35995),a=r(7575);function o(e){return{origin:"portal-item",url:(0,n.mN)(e.itemUrl),portal:e.portal||a.Z.getDefault(),portalItem:e,readResourcePaths:[]}}function i(e){var t=(0,n.mN)(e.itemUrl);return{origin:"portal-item",messages:[],writtenProperties:[],url:t,portal:e.portal||a.Z.getDefault(),portalItem:e,verifyItemRelativeUrls:t?{rootPath:t.path,writtenUrls:[]}:null,blockedRelativeUrls:[]}}function u(e){return{origin:"web-map",url:(0,n.mN)(e.itemUrl),portal:e.portal||a.Z.getDefault(),portalItem:e,readResourcePaths:[]}}function s(e,t){var r=(0,n.mN)(e.itemUrl);return{origin:"web-map",messages:[],writtenProperties:[],url:r,portal:e.portal||a.Z.getDefault(),portalItem:e,initiator:t,verifyItemRelativeUrls:r?{rootPath:r.path,writtenUrls:[]}:null,blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}}}},81359:function(e,t,r){r.d(t,{w:function(){return i}});var n=r(42265),a=r(10064),o=r(66660);function i(e){if(n.Z.apiKey&&(0,o.r)(e.portal.url))throw new a.Z("save-api-key-utils:api-key-not-supported","Saving is not supported on ".concat(e.portal.url," when using an api key"))}}}]);
//# sourceMappingURL=6126.47fcb042.chunk.js.map