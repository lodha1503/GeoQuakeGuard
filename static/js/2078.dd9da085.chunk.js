"use strict";(self.webpackChunkamit_kumar_rathi=self.webpackChunkamit_kumar_rathi||[]).push([[2078],{62078:function(e,r,t){t.r(r),t.d(r,{addOrUpdateResource:function(){return p},contentToBlob:function(){return Z},fetchResources:function(){return c},getSiblingOfSameType:function(){return w},getSiblingOfSameTypeI:function(){return g},removeAllResources:function(){return v},removeResource:function(){return f},splitPrefixFileNameAndExtension:function(){return x}});var n=t(74165),a=t(29439),u=t(15861),o=t(76200),s=t(10064),i=t(35995);function c(e){return l.apply(this,arguments)}function l(){return l=(0,u.Z)((0,n.Z)().mark((function e(r){var t,a,u,o,s,c,l,p,d,f,h,v,m=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>1&&void 0!==m[1]?m[1]:{},a=m.length>2?m[2]:void 0,e.next=4,r.load(a);case 4:return u=(0,i.v_)(r.itemUrl,"resources"),o=t.start,s=void 0===o?1:o,c=t.num,l=void 0===c?10:c,p=t.sortOrder,d=void 0===p?"asc":p,f=t.sortField,h={query:{start:s,num:l,sortOrder:d,sortField:void 0===f?"created":f,token:r.apiKey},signal:null===a||void 0===a?void 0:a.signal},e.next=16,r.portal.request(u,h);case 16:return v=e.sent,e.abrupt("return",{total:v.total,nextStart:v.nextStart,resources:v.resources.map((function(e){var t=e.created,n=e.size,a=e.resource;return{created:new Date(t),size:n,resource:r.resourceFromPath(a)}}))});case 18:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function p(e,r,t,n){return d.apply(this,arguments)}function d(){return d=(0,u.Z)((0,n.Z)().mark((function e(r,t,u,o){var c,l,p,d,f,h,v;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.hasPath()){e.next=2;break}throw new s.Z("portal-item-resource-".concat(t,":invalid-path"),"Resource does not have a valid path");case 2:return c=r.portalItem,e.next=5,c.load(o);case 5:return l=(0,i.v_)(c.userItemUrl,"add"===t?"addResources":"updateResources"),p=b(r.path),d=(0,a.Z)(p,2),f=d[0],h=d[1],v=new FormData,f&&"."!==f&&v.append("resourcesPrefix",f),null!=o&&o.compress&&v.append("compress","true"),v.append("fileName",h),v.append("file",u,h),v.append("f","json"),null!==o&&void 0!==o&&o.access&&v.append("access",o.access),e.next=14,c.portal.request(l,{method:"post",body:v,signal:null===o||void 0===o?void 0:o.signal});case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function f(e,r,t){return h.apply(this,arguments)}function h(){return h=(0,u.Z)((0,n.Z)().mark((function e(r,t,a){var u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hasPath()){e.next=2;break}throw new s.Z("portal-item-resources-remove:invalid-path","Resource does not have a valid path");case 2:return e.next=4,r.load(a);case 4:return u=(0,i.v_)(r.userItemUrl,"removeResources"),e.next=7,r.portal.request(u,{method:"post",query:{resource:t.path},signal:null===a||void 0===a?void 0:a.signal});case 7:t.portalItem=null;case 8:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function v(e,r){return m.apply(this,arguments)}function m(){return(m=(0,u.Z)((0,n.Z)().mark((function e(r,t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.load(t);case 2:return a=(0,i.v_)(r.userItemUrl,"removeResources"),e.abrupt("return",r.portal.request(a,{method:"post",query:{deleteAll:!0},signal:null===t||void 0===t?void 0:t.signal}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){var r=e.lastIndexOf("/");return-1===r?[".",e]:[e.slice(0,r),e.slice(r+1)]}function x(e){var r=function(e){var r=(0,i.Ml)(e);return null==r?[e,""]:[e.slice(0,e.length-r.length-1),".".concat(r)]}(e),t=(0,a.Z)(r,2),n=t[0],u=t[1],o=b(n),s=(0,a.Z)(o,2);return[s[0],s[1],u]}function Z(e){return y.apply(this,arguments)}function y(){return(y=(0,u.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("blob"!==r.type){e.next=2;break}return e.abrupt("return",r.blob);case 2:if("json"!==r.type){e.next=4;break}return e.abrupt("return",new Blob([r.jsonString],{type:"application/json"}));case 4:return e.next=6,(0,o.Z)(r.url,{responseType:"blob"});case 6:return e.abrupt("return",e.sent.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,r){if(!e.hasPath())return null;var t=x(e.path),n=(0,a.Z)(t,3),u=n[0],o=n[2];return e.portalItem.resourceFromPath((0,i.v_)(u,r+o))}function g(e,r){if(!e.hasPath())return null;var t=x(e.path),n=(0,a.Z)(t,3),u=n[0],o=n[2];return e.portalItem.resourceFromPath((0,i.v_)(u,r+o))}}}]);
//# sourceMappingURL=2078.dd9da085.chunk.js.map