"use strict";(self.webpackChunkamit_kumar_rathi=self.webpackChunkamit_kumar_rathi||[]).push([[3388,519],{74368:function(e,r,t){t.d(r,{V:function(){return i}});var a=t(74165),n=t(15861),u=t(41226);function i(e,r){return l.apply(this,arguments)}function l(){return l=(0,n.Z)((0,a.Z)().mark((function e(r,t){var n,i,l,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.T)(r,t);case 2:if(d(i=e.sent),s(i),l={serviceJSON:i},!((null!==(n=i.currentVersion)&&void 0!==n?n:0)<10.5)){e.next=7;break}return e.abrupt("return",l);case 7:return e.next=9,(0,u.T)(r+"/layers",t);case 9:return o=e.sent,e.abrupt("return",(d(o),s(o),l.layersJSON={layers:o.layers,tables:o.tables},l));case 11:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function o(e){return"Feature Layer"===e.type||"Oriented Imagery Layer"===e.type}function c(e){return"Table"===e.type}function s(e){var r,t;e.layers=null===(r=e.layers)||void 0===r?void 0:r.filter(o),e.tables=null===(t=e.tables)||void 0===t?void 0:t.filter(c)}function p(e){e.type||(e.type="Feature Layer")}function y(e){e.type||(e.type="Table")}function d(e){var r,t;null!==(r=e.layers)&&void 0!==r&&r.forEach(p),null===(t=e.tables)||void 0===t||t.forEach(y)}},20519:function(e,r,t){t.r(r),t.d(r,{populateGroupLayer:function(){return R},populateOperationalLayers:function(){return b}});var a=t(74165),n=t(37762),u=t(1413),i=t(15861),l=t(40281),o=(t(93169),t(28458)),c=t(19610),s=t(98995);function p(e){return f(e,"notes")}function y(e){return f(e,"markup")}function d(e){return f(e,"route")}function f(e,r){return!(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)&&e.featureCollectionType===r}var v=t(43139),L=t(21371);function b(e,r,t){return h.apply(this,arguments)}function h(){return h=(0,i.Z)((0,a.Z)().mark((function e(r,t,u){var i,l,o,c,s,p,y,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:i=[],l=(0,n.Z)(t);try{for(l.s();!(o=l.n()).done;)c=o.value,i.push(M(c,u))}catch(a){l.e(a)}finally{l.f()}return e.next=7,Promise.allSettled(i);case 7:s=e.sent,p=(0,n.Z)(s);try{for(p.s();!(y=p.n()).done;)"rejected"===(d=y.value).status||d.value&&r.add(d.value)}catch(a){p.e(a)}finally{p.f()}case 10:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}var m={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},S={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},I={ArcGISFeatureLayer:"FeatureLayer"},x={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",DefaultTileLayer:"TileLayer"},k={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},T={ArcGISFeatureLayer:"FeatureLayer"},g={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"},w=(0,u.Z)((0,u.Z)({},k),{},{LinkChartLayer:"LinkChartLayer"}),Z=(0,u.Z)({},T),G=(0,u.Z)({},g);function M(e,r){return A.apply(this,arguments)}function A(){return A=(0,i.Z)((0,a.Z)().mark((function e(r,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=F,e.next=3,O(r,t);case 3:return e.t1=e.sent,e.t2=r,e.t3=t,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function F(e,r,t){return C.apply(this,arguments)}function C(){return C=(0,i.Z)((0,a.Z)().mark((function e(r,t,n){var u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((u=new r).read(t,n.context),e.t0="group"===u.type,!e.t0){e.next=17;break}if("GroupLayer"!==t.layerType){e.next=9;break}return e.next=7,R(u,t,n);case 7:e.next=17;break;case 9:if(!W(t)){e.next=13;break}P(u,t,n.context),e.next=17;break;case 13:if(e.t1=U(t),!e.t1){e.next=17;break}return e.next=17,B(u,t,n.context);case 17:return e.next=19,(0,L.y)(u,n.context);case 19:return e.abrupt("return",u);case 20:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function O(e,r){return D.apply(this,arguments)}function D(){return D=(0,i.Z)((0,a.Z)().mark((function e(r,t){var n,u,i,l,f,L,b,h,m,S;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.context,l=V(i),!(f=r.layerType||r.type)&&(null===t||void 0===t?void 0:t.defaultLayerType)&&(f=t.defaultLayerType),L=l[f],b=L?c.T[L]:c.T.UnknownLayer,!W(r)){e.next=20;break}if(h=null===i||void 0===i?void 0:i.portal,!r.itemId){e.next=18;break}return m=new s.default({id:r.itemId,portal:h}),e.next=11,m.load();case 11:return e.next=13,(0,v.selectLayerClassPath)(m,new o.L);case 13:if(e.t0=e.sent.className,e.t0){e.next=16;break}e.t0="UnknownLayer";case 16:S=e.t0,b=c.T[S];case 18:e.next=21;break;case 20:"ArcGISFeatureLayer"===f?p(r)||y(r)?b=c.T.MapNotesLayer:d(r)?b=c.T.RouteLayer:U(r)&&(b=c.T.GroupLayer):null!==(n=r.wmtsInfo)&&void 0!==n&&n.url&&r.wmtsInfo.layerIdentifier?b=c.T.WMTSLayer:"WFS"===f&&"2.0.0"!==(null===(u=r.wfsInfo)||void 0===u?void 0:u.version)&&(b=c.T.UnsupportedLayer);case 21:return e.abrupt("return",b());case 22:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function U(e){var r,t;return"ArcGISFeatureLayer"===e.layerType&&!W(e)&&(null!==(r=null===(t=e.featureCollection)||void 0===t||null===(t=t.layers)||void 0===t?void 0:t.length)&&void 0!==r?r:0)>1}function W(e){return"Feature Collection"===e.type}function V(e){var r;switch(e.origin){case"web-scene":switch(e.layerContainerType){case"basemap":r=x;break;case"ground":r=S;break;case"tables":r=I;break;default:r=m}break;case"link-chart":switch(e.layerContainerType){case"basemap":r=G;break;case"tables":r=Z;break;default:r=w}break;default:switch(e.layerContainerType){case"basemap":r=g;break;case"tables":r=T;break;default:r=k}}return r}function R(e,r,t){return N.apply(this,arguments)}function N(){return N=(0,i.Z)((0,a.Z)().mark((function e(r,t,u){var i,o,c,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new l.Z,o=b(i,Array.isArray(t.layers)?t.layers:[],u),e.prev=1,e.prev=2,e.next=5,o;case 5:if("group"!==r.type){e.next=7;break}return e.abrupt("return",(r.layers.addMany(i),r));case 7:e.next=15;break;case 9:e.prev=9,e.t0=e.catch(2),r.destroy(),c=(0,n.Z)(i);try{for(c.s();!(s=c.n()).done;)s.value.destroy()}catch(a){c.e(a)}finally{c.f()}throw e.t0;case 15:e.next=20;break;case 17:throw e.prev=17,e.t1=e.catch(1),e.t1;case 20:case"end":return e.stop()}}),e,null,[[1,17],[2,9]])}))),N.apply(this,arguments)}function P(e,r,t){r.itemId&&(e.portalItem=new s.default({id:r.itemId,portal:null===t||void 0===t?void 0:t.portal}),e.when((function(){var a,n,u=function(a){var n,u=a.layerId;J(a,e,r,u,t);var i=null===(n=r.featureCollection)||void 0===n||null===(n=n.layers)||void 0===n?void 0:n[u];i&&a.read(i,t)};null!==(a=e.layers)&&void 0!==a&&a.forEach(u),null===(n=e.tables)||void 0===n||n.forEach(u)})))}function B(e,r,t){return E.apply(this,arguments)}function E(){return E=(0,i.Z)((0,a.Z)().mark((function e(r,t,n){var i,l,o,s,p,y;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=c.T.FeatureLayer,e.next=3,l();case 3:o=e.sent,s=t.featureCollection,p=null===s||void 0===s?void 0:s.showLegend,y=null===s||void 0===s||null===(i=s.layers)||void 0===i?void 0:i.map((function(e,a){var i=new o;i.read(e,n);var l=(0,u.Z)((0,u.Z)({},n),{},{ignoreDefaults:!0});return J(i,r,t,a,l),null!=p&&i.read({showLegend:p},l),i})),r.layers.addMany(null!==y&&void 0!==y?y:[]);case 8:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function J(e,r,t,a,n){var u,i;e.read({id:"".concat(r.id,"-sublayer-").concat(a),visibility:null===(u=null===(i=t.visibleLayers)||void 0===i?void 0:i.includes(a))||void 0===u||u},n)}},32698:function(e,r,t){t.d(r,{M4:function(){return o},Yv:function(){return i},ht:function(){return u},wk:function(){return l}});var a=t(35995),n=t(7575);function u(e){return{origin:"portal-item",url:(0,a.mN)(e.itemUrl),portal:e.portal||n.Z.getDefault(),portalItem:e,readResourcePaths:[]}}function i(e){var r=(0,a.mN)(e.itemUrl);return{origin:"portal-item",messages:[],writtenProperties:[],url:r,portal:e.portal||n.Z.getDefault(),portalItem:e,verifyItemRelativeUrls:r?{rootPath:r.path,writtenUrls:[]}:null,blockedRelativeUrls:[]}}function l(e){return{origin:"web-map",url:(0,a.mN)(e.itemUrl),portal:e.portal||n.Z.getDefault(),portalItem:e,readResourcePaths:[]}}function o(e,r){var t=(0,a.mN)(e.itemUrl);return{origin:"web-map",messages:[],writtenProperties:[],url:t,portal:e.portal||n.Z.getDefault(),portalItem:e,initiator:r,verifyItemRelativeUrls:t?{rootPath:t.path,writtenUrls:[]}:null,blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}}}},33388:function(e,r,t){t.r(r),t.d(r,{load:function(){return S}});var a=t(93433),n=t(37762),u=t(29439),i=t(74165),l=t(15861),o=t(10064),c=t(25899),s=t(74368),p=t(28458),y=t(20519),d=t(19610),f=t(7575),v=t(32698),L=t(97827),b=t(73117),h=t(21371),m=t(41226);function S(e,r){return I.apply(this,arguments)}function I(){return(I=(0,l.Z)((0,i.Z)().mark((function e(r,t){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(a=r.instance.portalItem)||void 0===a||!a.id){e.next=6;break}return e.next=4,a.load(t);case 4:return x(r),e.abrupt("return",k(r,t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){var r=e.instance.portalItem;if(null===r||void 0===r||!r.type||!e.supportedTypes.includes(r.type))throw new o.Z("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:null===r||void 0===r?void 0:r.type,expectedType:e.supportedTypes.join(", ")})}function k(e,r){return T.apply(this,arguments)}function T(){return(T=(0,l.Z)((0,i.Z)().mark((function e(r,t){var a,n,u,l,o,c,s,y;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.instance,u=n.portalItem){e.next=3;break}return e.abrupt("return");case 3:if(l=u.url,o=u.title,c=(0,v.ht)(u),"group"!==n.type){e.next=6;break}return e.abrupt("return",g(n,c,r));case 6:return l&&n.read({url:l},c),s=new p.L,e.next=10,W(r,s,t);case 10:return y=e.sent,e.abrupt("return",(y&&n.read(y,c),n.resourceReferences={portalItem:u,paths:null!==(a=c.readResourcePaths)&&void 0!==a?a:[]},"subtype-group"!==n.type&&n.read({title:o},c),(0,h.y)(n,c)));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,r,t){return w.apply(this,arguments)}function w(){return(w=(0,l.Z)((0,i.Z)().mark((function e(r,t,a){var n,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.portalItem,r.sourceIsPortalItem){e.next=3;break}return e.abrupt("return");case 3:if(u=n.title,"Group Layer"!==n.type){e.next=8;break}if((0,b._$)(n,"Map")){e.next=7;break}throw new o.Z("portal:invalid-layer-item-typekeyword","'Group Layer' item without 'Map' type keyword is not supported");case 7:return e.abrupt("return",Z(r));case 8:return e.abrupt("return",(r.read({title:u},t),M(r,a)));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return G.apply(this,arguments)}function G(){return(G=(0,l.Z)((0,i.Z)().mark((function e(r){var t,a,n,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.portalItem,e.next=3,a.fetchData("json");case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return");case 6:return u=(0,v.wk)(a),r.read(n,u),e.next=10,(0,y.populateGroupLayer)(r,n,{context:u});case 10:r.resourceReferences={portalItem:a,paths:null!==(t=u.readResourcePaths)&&void 0!==t?t:[]};case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,r){return A.apply(this,arguments)}function A(){return(A=(0,l.Z)((0,i.Z)().mark((function e(r,t){var a,l,c,s,y,d,f,v,b,h,m,S,I,x,k,T,g,w,Z,G,M;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=r.portalItem){e.next=3;break}return e.abrupt("return");case 3:c=l.type,s=t.layerModuleTypeMap,e.t0=c,e.next="Feature Service"===e.t0||"Feature Collection"===e.t0?7:"Stream Service"===e.t0?9:"Scene Service"===e.t0?11:13;break;case 7:return a=s.FeatureLayer,e.abrupt("break",14);case 9:return a=s.StreamLayer,e.abrupt("break",14);case 11:return a=s.SceneLayer,e.abrupt("break",14);case 13:throw new o.Z("portal:unsupported-item-type-as-group","The item type '".concat(c,"' is not supported as a 'IGroupLayer'"));case 14:return y=new p.L,e.next=17,Promise.all([a(),W(t,y)]);case 17:if(d=e.sent,f=(0,u.Z)(d,2),v=f[0],b=f[1],h=function(){return v},"Feature Service"!==c){e.next=48;break}if(!l.url){e.next=29;break}return e.next=26,(0,L.$O)(b,l.url,y);case 26:e.t1=e.sent,e.next=30;break;case 29:e.t1={};case 30:if(b=e.t1,m=(0,L.XX)(b),S=(0,L._Y)(b),I=[],!(m.length||null!==S&&void 0!==S&&S.length)){e.next=42;break}m.length&&I.push("SubtypeGroupLayer"),(null===S||void 0===S?void 0:S.length)&&I.push("OrientedImageryLayer"),x=[],k=(0,n.Z)(I);try{for(k.s();!(T=k.n()).done;)g=T.value,w=s[g],x.push(w())}catch(i){k.e(i)}finally{k.f()}return e.next=39,Promise.all(x);case 39:Z=e.sent,G=new Map,I.forEach((function(e,r){G.set(e,Z[r])})),h=function(e){var r;return e.layerType&&null!==(r=G.get(e.layerType))&&void 0!==r?r:v};case 42:return e.next=44,E(l.url);case 44:return M=e.sent,e.next=47,O(r,h,b,M);case 47:return e.abrupt("return",e.sent);case 48:if(e.t2="Scene Service"===c&&l.url,!e.t2){e.next=53;break}return e.next=52,(0,L.CD)(l,b,y);case 52:b=e.sent;case 53:if(!((0,L.Q4)(b)>0)){e.next=59;break}return e.next=56,O(r,h,b);case 56:e.t3=e.sent,e.next=62;break;case 59:return e.next=61,F(r,h);case 61:e.t3=e.sent;case 62:return e.abrupt("return",e.t3);case 63:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,r){return C.apply(this,arguments)}function C(){return(C=(0,l.Z)((0,i.Z)().mark((function e(r,t){var a,n,u,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(u=r.portalItem)&&void 0!==u&&u.url){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,m.T)(u.url);case 5:(l=e.sent)&&O(r,t,{layers:null===(a=l.layers)||void 0===a?void 0:a.map(L.bS),tables:null===(n=l.tables)||void 0===n?void 0:n.map(L.bS)});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,r,t,a){return D.apply(this,arguments)}function D(){return(D=(0,l.Z)((0,i.Z)().mark((function e(r,t,a,n){var u,l,o,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=a.layers||[],o=a.tables||[],"Feature Collection"===(null===(u=r.portalItem)||void 0===u?void 0:u.type)?(l.forEach((function(e,r){var t;e.id=r,"Table"===(null===e||void 0===e||null===(t=e.layerDefinition)||void 0===t?void 0:t.type)&&o.push(e)})),l=l.filter((function(e){var r;return"Table"!==(null===e||void 0===e||null===(r=e.layerDefinition)||void 0===r?void 0:r.type)}))):(l.reverse(),o.reverse()),l.forEach((function(e){var u=null===n||void 0===n?void 0:n(e);if(u||!n){var i=U(r,t(e),a,e,u);r.add(i)}})),!o.length){e.next=7;break}return e.next=5,d.T.FeatureLayer();case 5:c=e.sent,o.forEach((function(e){var t=null===n||void 0===n?void 0:n(e);if(t||!n){var u=U(r,c,a,e,t);r.tables.add(u)}}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,r,t,a,n){var u=e.portalItem,i={portalItem:u.clone(),layerId:a.id};null!=a.url&&(i.url=a.url);var l=new r(i);if("sourceJSON"in l&&(l.sourceJSON=n),"subtype-group"!==l.type&&(l.sublayerTitleMode="service-name"),"Feature Collection"===u.type){var o={origin:"portal-item",portal:u.portal||f.Z.getDefault()};l.read(a,o);var c=t.showLegend;null!=c&&l.read({showLegend:c},o)}return l}function W(e,r,t){return V.apply(this,arguments)}function V(){return(V=(0,l.Z)((0,i.Z)().mark((function e(r,t,a){var n,u,l,o,c,s,p,y;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==r.supportsData){e.next=2;break}return e.abrupt("return");case 2:if(n=r.instance,u=n.portalItem){e.next=5;break}return e.abrupt("return");case 5:return l=null,e.prev=6,e.next=9,u.fetchData("json",a);case 9:l=e.sent,e.next=14;break;case 12:e.prev=12,e.t0=e.catch(6);case 14:if(!B(n)){e.next=21;break}return s=null,e.next=18,R(u,l,t);case 18:return p=e.sent,(null!==(o=l)&&void 0!==o&&o.layers||null!==(c=l)&&void 0!==c&&c.tables)&&p>0&&(null==n.layerId&&(y=(0,L.XX)(l),n.layerId="subtype-group"===n.type?null===y||void 0===y?void 0:y[0]:(0,L.Ok)(l)),(s=P(l,n))&&null!=l.showLegend&&(s.showLegend=l.showLegend)),e.abrupt("return",(p>1&&"sublayerTitleMode"in n&&"service-name"!==n.sublayerTitleMode&&(n.sublayerTitleMode="item-title-and-service-name"),s));case 21:return e.abrupt("return",l);case 22:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)}function R(e,r,t){return N.apply(this,arguments)}function N(){return(N=(0,l.Z)((0,i.Z)().mark((function e(r,t,a){var n,u,l,o,s,p,y,d,f,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||void 0===t||!t.layers||null===t||void 0===t||!t.tables){e.next=2;break}return e.abrupt("return",(0,L.Q4)(t));case 2:if(f=(0,c.Qc)(r.url)){e.next=5;break}return e.abrupt("return",1);case 5:return e.next=7,a.fetchServiceMetadata(f.url.path).catch((function(){return null}));case 7:return v=e.sent,e.abrupt("return",(null!==(n=null!==(u=null===t||void 0===t||null===(l=t.layers)||void 0===l?void 0:l.length)&&void 0!==u?u:null===v||void 0===v||null===(o=v.layers)||void 0===o?void 0:o.length)&&void 0!==n?n:0)+(null!==(s=null!==(p=null===t||void 0===t||null===(y=t.tables)||void 0===y?void 0:y.length)&&void 0!==p?p:null===v||void 0===v||null===(d=v.tables)||void 0===d?void 0:d.length)&&void 0!==s?s:0));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,r){var t,a,n=r.layerId,u=(null===(t=e.layers)||void 0===t?void 0:t.find((function(e){return e.id===n})))||(null===(a=e.tables)||void 0===a?void 0:a.find((function(e){return e.id===n})));return u&&function(e,r){return!("feature"===r.type&&"layerType"in e&&"SubtypeGroupLayer"===e.layerType||"subtype-group"===r.type&&!("layerType"in e))}(u,r)?u:null}function B(e){return"stream"!==e.type&&"layerId"in e}function E(e){return J.apply(this,arguments)}function J(){return(J=(0,l.Z)((0,i.Z)().mark((function e(r){var t,n,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.V)(r);case 2:if(t=e.sent,n=t.layersJSON){e.next=6;break}return e.abrupt("return",null);case 6:return u=[].concat((0,a.Z)(n.layers),(0,a.Z)(n.tables)),e.abrupt("return",(function(e){return u.find((function(r){return r.id===e.id}))}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=3388.8483a61b.chunk.js.map