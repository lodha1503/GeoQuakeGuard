"use strict";(self.webpackChunkamit_kumar_rathi=self.webpackChunkamit_kumar_rathi||[]).push([[8178],{58178:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(37762),u=r(74165),a=r(15861),i=r(15671),s=r(43144),o=r(14921),c=r(10064),p=r(32718),l=r(66978),f=r(92975),h=r(83406),y=r(33960),d=r(19995),v=r(76143),g=r(47615),m=r(68808),Z=r(45927),_=r(52410),w=r(6701),x=function(){function e(){(0,i.Z)(this,e),this._queryEngine=null,this._customParameters=null}return(0,s.Z)(e,[{key:"destroy",value:function(){var e;null!==(e=this._queryEngine)&&void 0!==e&&e.destroy(),this._queryEngine=null}},{key:"load",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(t,r){var n,a,i,s,o,p,f,h,g,m,x,k;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getFeatureUrl,a=t.getFeatureOutputFormat,i=t.fields,s=t.geometryType,o=t.featureType,p=t.objectIdField,f=t.customParameters,h=(0,Z.fU)(n,o,t.spatialReference),g=h.spatialReference,m=h.getFeatureSpatialReference,this._featureType=o,this._customParameters=f,this._getFeatureUrl=n,this._getFeatureOutputFormat=a,this._getFeatureSpatialReference=m,e.prev=2,e.next=5,(0,d._W)(m,g);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new c.Z("unsupported-projection","Projection not supported",{inSpatialReference:m,outSpatialReference:g});case 10:return(0,l.k_)(r),x=_.Z.fromLayerJSON({fields:i,dateFieldsTimeReference:i.some((function(e){return"esriFieldTypeDate"===e.type}))?{timeZoneIANA:w.pt}:null}),e.next=14,this._snapshotFeatures({fieldsIndex:x,geometryType:s,objectIdField:p,spatialReference:g},r.signal);case 14:return k=e.sent,this._queryEngine=new v.q({fieldsIndex:x,geometryType:s,hasM:!1,hasZ:!1,objectIdField:p,spatialReference:g,timeInfo:null,featureStore:new y.Z({geometryType:s,hasM:!1,hasZ:!1})}),this._queryEngine.featureStore.addMany(k),e.next=19,this._queryEngine.fetchRecomputedExtents();case 19:return e.t1=e.sent.fullExtent,e.abrupt("return",{extent:e.t1});case 21:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"applyEdits",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new c.Z("wfs-source:editing-not-supported","applyEdits() is not supported on WFSLayer");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatures",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(){var t,r,n=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQuery(t,r.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatureCount",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(){var t,r,n=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForCount(t,r.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryObjectIds",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(){var t,r,n=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForIds(t,r.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryExtent",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(){var t,r,n=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForExtent(t,r.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"querySnapping",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(t){var r,n=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this._waitSnapshotComplete();case 3:return e.abrupt("return",this._queryEngine.executeQueryForSnapping(t,r.signal));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(t){var r,n=this;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._customParameters=t,null!==(r=this._snapshotTask)&&void 0!==r&&r.abort(),this._snapshotTask=(0,o.vr)((function(e){return n._snapshotFeatures(n._queryEngine,e)})),this._snapshotTask.promise.then((function(e){n._queryEngine.featureStore.clear(),e&&n._queryEngine.featureStore.addMany(e)}),(function(e){n._queryEngine.featureStore.clear(),(0,l.D_)(e)||p.Z.getLogger("esri.layers.WFSLayer").error(new c.Z("wfs-layer:getfeature-error","An error occurred during the GetFeature request",{error:e}))})),e.next=6,this._waitSnapshotComplete();case 6:return e.next=8,this._queryEngine.fetchRecomputedExtents();case 8:return e.t0=e.sent.fullExtent,e.abrupt("return",{extent:e.t0});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_waitSnapshotComplete",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._snapshotTask||this._snapshotTask.finished){e.next=9;break}return e.prev=1,e.next=4,this._snapshotTask.promise;case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.abrupt("return",this._waitSnapshotComplete());case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"_snapshotFeatures",value:function(){var e=(0,a.Z)((0,u.Z)().mark((function e(t,r){var a,i,s,o,c,p,y,v,_,w,x,k,F,b,S;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.objectIdField,s=t.geometryType,o=t.spatialReference,c=t.fieldsIndex,e.next=3,(0,Z.Bm)(null!==(a=this._getFeatureUrl)&&void 0!==a?a:"",this._featureType.typeName,this._getFeatureSpatialReference,this._getFeatureOutputFormat,{customParameters:this._customParameters,signal:r});case 3:if(p=e.sent,(0,g.O3)(p,this._getFeatureSpatialReference.wkid),(0,l.k_)(r),y=(0,g.lG)(p,{geometryType:s,hasZ:!1,objectIdField:i}),!(0,f.fS)(o,this._getFeatureSpatialReference)){v=(0,n.Z)(y);try{for(v.s();!(_=v.n()).done;)null!=(w=_.value).geometry&&(w.geometry=(0,h.GH)((0,d.iV)((0,h.di)(w.geometry,s,!1,!1),this._getFeatureSpatialReference,o)))}catch(u){v.e(u)}finally{v.f()}}x=1,k=(0,n.Z)(y);try{for(k.s();!(F=k.n()).done;)b=F.value,S={},(0,m.O0)(c,S,b.attributes,!0),b.attributes=S,null==S[i]&&(b.objectId=S[i]=x++)}catch(u){k.e(u)}finally{k.f()}return e.abrupt("return",y);case 11:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}()},68808:function(e,t,r){r.d(t,{O0:function(){return m},av:function(){return h},b:function(){return k},d1:function(){return d},og:function(){return _}});var n=r(74165),u=r(15861),a=r(37762),i=r(43144),s=r(15671),o=r(63231),c=r(92975),p=r(37270),l=(0,i.Z)((function e(){(0,s.Z)(this,e),this.code=null,this.description=null})),f=(0,i.Z)((function e(t){(0,s.Z)(this,e),this.error=new l,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}));function h(e){return new f(e)}var y=(0,i.Z)((function e(t){(0,s.Z)(this,e),this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}));function d(e){return new y(e)}var v,g=new Set;function m(e,t,r){var n,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i in g.clear(),r){var s=e.get(i);if(s){var o=Z(s,r[i]);if(g.add(s.name),s&&(u||s.editable)){var c=(0,p.Qc)(s,o);if(c)return h((0,p.vP)(c,s,o));t[s.name]=o}}}var l,f=(0,a.Z)(null!==(n=null===e||void 0===e?void 0:e.requiredFields)&&void 0!==n?n:[]);try{for(f.s();!(l=f.n()).done;){var y=l.value;if(!g.has(y.name))return h('missing required field "'.concat(y.name,'"'))}}catch(d){f.e(d)}finally{f.f()}return null}function Z(e,t){var r=t;return(0,p.H7)(e)&&"string"==typeof t?r=parseFloat(t):(0,p.qN)(e)&&null!=t&&"string"!=typeof t?r=String(t):(0,p.y2)(e)&&"string"==typeof t&&(r=(0,o.sG)(t)),(0,p.Pz)(r)}function _(e,t){if(!e||!(0,c.JY)(t))return e;if("rings"in e||"paths"in e){if(null==v)throw new TypeError("geometry engine not loaded");return v.simplify(t,e)}return e}function w(){return x.apply(this,arguments)}function x(){return(x=(0,u.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=null==v,!e.t0){e.next=5;break}return e.next=4,Promise.all([r.e(9058),r.e(3645)]).then(r.bind(r,50309));case 4:v=e.sent;case 5:return e.abrupt("return",v);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return F.apply(this,arguments)}function F(){return(F=(0,u.Z)((0,n.Z)().mark((function e(t,r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!(0,c.JY)(t)||"esriGeometryPolygon"!==r&&"esriGeometryPolyline"!==r,e.t0){e.next=4;break}return e.next=4,w();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=8178.40e53cbf.chunk.js.map