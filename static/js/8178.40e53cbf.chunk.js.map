{"version":3,"file":"static/js/8178.40e53cbf.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/graphics/sources/WFSSourceWorker.js","../node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{createTask as e}from\"../../../core/asyncUtils.js\";import t from\"../../../core/Error.js\";import r from\"../../../core/Logger.js\";import{throwIfAborted as s,isAbortError as a}from\"../../../core/promiseUtils.js\";import{equals as i}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as o,convertToGeometry as n}from\"../featureConversionUtils.js\";import u from\"../data/FeatureStore.js\";import{checkProjectionSupport as p,project as l}from\"../data/projectionSupport.js\";import{QueryEngine as h}from\"../data/QueryEngine.js\";import{validateGeoJSON as c,createOptimizedFeatures as m}from\"./geojson/geojson.js\";import{mixAttributes as y}from\"./support/sourceUtils.js\";import{getGetFeatureSpatialReference as f,getFeature as g}from\"../../ogc/wfsUtils.js\";import d from\"../../support/FieldsIndex.js\";import{utc as _}from\"../../../time/timeZoneUtils.js\";class F{constructor(){this._queryEngine=null,this._customParameters=null}destroy(){this._queryEngine?.destroy(),this._queryEngine=null}async load(e,r){const{getFeatureUrl:a,getFeatureOutputFormat:i,fields:o,geometryType:n,featureType:l,objectIdField:c,customParameters:m}=e,{spatialReference:y,getFeatureSpatialReference:g}=f(a,l,e.spatialReference);this._featureType=l,this._customParameters=m,this._getFeatureUrl=a,this._getFeatureOutputFormat=i,this._getFeatureSpatialReference=g;try{await p(g,y)}catch{throw new t(\"unsupported-projection\",\"Projection not supported\",{inSpatialReference:g,outSpatialReference:y})}s(r);const F=d.fromLayerJSON({fields:o,dateFieldsTimeReference:o.some((e=>\"esriFieldTypeDate\"===e.type))?{timeZoneIANA:_}:null}),w=await this._snapshotFeatures({fieldsIndex:F,geometryType:n,objectIdField:c,spatialReference:y},r.signal);return this._queryEngine=new h({fieldsIndex:F,geometryType:n,hasM:!1,hasZ:!1,objectIdField:c,spatialReference:y,timeInfo:null,featureStore:new u({geometryType:n,hasM:!1,hasZ:!1})}),this._queryEngine.featureStore.addMany(w),{extent:(await this._queryEngine.fetchRecomputedExtents()).fullExtent}}async applyEdits(){throw new t(\"wfs-source:editing-not-supported\",\"applyEdits() is not supported on WFSLayer\")}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}async refresh(s){return this._customParameters=s,this._snapshotTask?.abort(),this._snapshotTask=e((e=>this._snapshotFeatures(this._queryEngine,e))),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),e&&this._queryEngine.featureStore.addMany(e)}),(e=>{this._queryEngine.featureStore.clear(),a(e)||r.getLogger(\"esri.layers.WFSLayer\").error(new t(\"wfs-layer:getfeature-error\",\"An error occurred during the GetFeature request\",{error:e}))})),await this._waitSnapshotComplete(),{extent:(await this._queryEngine.fetchRecomputedExtents()).fullExtent}}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _snapshotFeatures({objectIdField:e,geometryType:t,spatialReference:r,fieldsIndex:a},u){const p=await g(this._getFeatureUrl??\"\",this._featureType.typeName,this._getFeatureSpatialReference,this._getFeatureOutputFormat,{customParameters:this._customParameters,signal:u});c(p,this._getFeatureSpatialReference.wkid),s(u);const h=m(p,{geometryType:t,hasZ:!1,objectIdField:e});if(!i(r,this._getFeatureSpatialReference))for(const s of h)null!=s.geometry&&(s.geometry=o(l(n(s.geometry,t,!1,!1),this._getFeatureSpatialReference,r)));let f=1;for(const s of h){const t={};y(a,t,s.attributes,!0),s.attributes=t,null==t[e]&&(s.objectId=t[e]=f++)}return h}}export{F as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{parseDate as t}from\"../../../../core/date.js\";import{isValid as n}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{validateFieldValue as e,validationErrorToString as r,isNumericField as i,isStringField as o,isDateField as s,sanitizeNullFieldValue as l}from\"../../../support/fieldUtils.js\";class u{constructor(){this.code=null,this.description=null}}class c{constructor(t){this.error=new u,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}}function f(t){return new c(t)}class a{constructor(t){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}}function d(t){return new a(t)}const m=new Set;function p(t,n,i,o=!1){m.clear();for(const s in i){const l=t.get(s);if(!l)continue;const u=h(l,i[s]);if(m.add(l.name),l&&(o||l.editable)){const t=e(l,u);if(t)return f(r(t,l,u));n[l.name]=u}}for(const e of t?.requiredFields??[])if(!m.has(e.name))return f(`missing required field \"${e.name}\"`);return null}function g(n,e){if(n?.length)for(const{name:r}of n)\"string\"==typeof e[r]&&(e[r]=t(e[r]))}function h(n,e){let r=e;return i(n)&&\"string\"==typeof e?r=parseFloat(e):o(n)&&null!=e&&\"string\"!=typeof e?r=String(e):s(n)&&\"string\"==typeof e&&(r=t(e)),l(r)}let y;function w(t,e){if(!t||!n(e))return t;if(\"rings\"in t||\"paths\"in t){if(null==y)throw new TypeError(\"geometry engine not loaded\");return y.simplify(e,t)}return t}async function j(){return null==y&&(y=await import(\"../../../../geometry/geometryEngineJSON.js\")),y}async function I(t,e){!n(t)||\"esriGeometryPolygon\"!==e&&\"esriGeometryPolyline\"!==e||await j()}export{f as createFeatureEditErrorResult,d as createFeatureEditSuccessResult,I as loadGeometryEngineForSimplify,p as mixAttributes,g as parseStringDateFieldValues,w as simplify};\n"],"names":["F","_classCallCheck","this","_queryEngine","_customParameters","_createClass","key","value","_this$_queryEngine","destroy","_load","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","r","a","i","o","n","l","c","m","_f","y","g","_F","w","wrap","_context","prev","next","getFeatureUrl","getFeatureOutputFormat","fields","geometryType","featureType","objectIdField","customParameters","f","spatialReference","getFeatureSpatialReference","_featureType","_getFeatureUrl","_getFeatureOutputFormat","_getFeatureSpatialReference","p","t0","t","inSpatialReference","outSpatialReference","s","d","fromLayerJSON","dateFieldsTimeReference","some","type","timeZoneIANA","_","_snapshotFeatures","fieldsIndex","signal","sent","h","hasM","hasZ","timeInfo","featureStore","u","addMany","fetchRecomputedExtents","t1","fullExtent","abrupt","extent","stop","_x","_x2","apply","arguments","_applyEdits","_callee2","_context2","_queryFeatures","_callee3","_args3","_context3","length","undefined","_waitSnapshotComplete","executeQuery","_queryFeatureCount","_callee4","_args4","_context4","executeQueryForCount","_queryObjectIds","_callee5","_args5","_context5","executeQueryForIds","_queryExtent","_callee6","_args6","_context6","executeQueryForExtent","_querySnapping","_callee7","_args7","_context7","executeQueryForSnapping","_x3","_refresh","_callee8","_this$_snapshotTask","_this","_context8","_snapshotTask","abort","promise","then","clear","getLogger","error","_x4","_waitSnapshotComplete2","_callee9","_context9","finished","_snapshotFeatures2","_callee10","_ref","_this$_getFeatureUrl","_iterator","_step","_s","_iterator2","_step2","_s2","_t","_context10","typeName","wkid","_createForOfIteratorHelper","done","geometry","err","attributes","objectId","_x5","_x6","code","description","globalId","success","uniqueId","Set","_t$requiredFields","get","add","name","editable","requiredFields","has","concat","parseFloat","String","TypeError","simplify","j","_j","I","_I"],"sourceRoot":""}