"use strict";(self.webpackChunkamit_kumar_rathi=self.webpackChunkamit_kumar_rathi||[]).push([[7213],{63231:function(e,t,n){function r(e){return null!=s(e)||null!=o(e)}function a(e){return u.test(e)}function i(e){var t;return null!==(t=s(e))&&void 0!==t?t:o(e)}function o(e){var t=new Date(e);return function(e,t){if(Number.isNaN(e.getTime()))return!1;var n=!0;if(c&&/\d+\W*$/.test(t)){var r=t.match(/[a-zA-Z]{2,}/);if(r){for(var a=!1,i=0;!a&&i<=r.length;)a=!l.test(r[i]),i++;n=!a}}return n}(t,e)?Number.isNaN(t.getTime())?null:t.getTime()-6e4*t.getTimezoneOffset():null}function s(e){var t,n,r,a,i=u.exec(e);if(null===i||void 0===i||!i.groups)return null;var o=i.groups,s=+o.year,l=+o.month-1,c=+o.day,p=+(null!==(t=o.hours)&&void 0!==t?t:"0"),f=+(null!==(n=o.minutes)&&void 0!==n?n:"0"),d=+(null!==(r=o.seconds)&&void 0!==r?r:"0");if(p>23)return null;if(f>59)return null;if(d>59)return null;var m,y=null!==(a=o.ms)&&void 0!==a?a:"0",g=y?+y.padEnd(3,"0").substring(0,3):0;if(o.isUTC||!o.offsetSign)m=Date.UTC(s,l,c,p,f,d,g);else{var v=+o.offsetHours,h=+o.offsetMinutes;m=6e4*("+"===o.offsetSign?-1:1)*(60*v+h)+Date.UTC(s,l,c,p,f,d,g)}return Number.isNaN(m)?null:m}n.d(t,{mu:function(){return a},of:function(){return r},sG:function(){return i}});var u=(0,n(70804).Z)(/^(?:(\x2D?\d{4,})\x2D(\d{2})\x2D(\d{2}))(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?)?(?:(Z)|(?:(\+|\x2D)(\d{2}):(\d{2})))?$/,{year:1,month:2,day:3,hours:4,minutes:5,seconds:6,ms:7,isUTC:8,offsetSign:9,offsetHours:10,offsetMinutes:11});var l=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,c=!Number.isNaN(new Date("technology 10").getTime())},47615:function(e,t,n){n.d(t,{O3:function(){return j},lG:function(){return N},my:function(){return S},q9:function(){return y}});var r=n(29439),a=n(74165),i=n(37762),o=n(63231),s=n(10064),u=n(92975),l=n(3182),c=n(80457),p=n(37270),f=(0,a.Z)().mark(g),d=(0,a.Z)().mark(v),m={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function y(e){return m[e]}function g(e){var t,n,r;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=e.type,a.next="Feature"===a.t0?3:"FeatureCollection"===a.t0?6:25;break;case 3:return a.next=5,e;case 5:return a.abrupt("break",25);case 6:t=(0,i.Z)(e.features),a.prev=7,t.s();case 9:if((n=t.n()).done){a.next=17;break}if(r=n.value,a.t1=r,!a.t1){a.next=15;break}return a.next=15,r;case 15:a.next=9;break;case 17:a.next=22;break;case 19:a.prev=19,a.t2=a.catch(7),t.e(a.t2);case 22:return a.prev=22,t.f(),a.finish(22);case 25:case"end":return a.stop()}}),f,null,[[7,19,22,25]])}function v(e){var t,n,r,o,s,u,l,c,p;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=57;break}a.t0=e.type,a.next="Point"===a.t0?4:"LineString"===a.t0||"MultiPoint"===a.t0?7:"MultiLineString"===a.t0||"Polygon"===a.t0?9:"MultiPolygon"===a.t0?26:57;break;case 4:return a.next=6,e.coordinates;case 6:return a.abrupt("break",57);case 7:return a.delegateYield(e.coordinates,"t1",8);case 8:return a.abrupt("break",57);case 9:t=(0,i.Z)(e.coordinates),a.prev=10,t.s();case 12:if((n=t.n()).done){a.next=17;break}return r=n.value,a.delegateYield(r,"t2",15);case 15:a.next=12;break;case 17:a.next=22;break;case 19:a.prev=19,a.t3=a.catch(10),t.e(a.t3);case 22:return a.prev=22,t.f(),a.finish(22);case 25:return a.abrupt("break",57);case 26:o=(0,i.Z)(e.coordinates),a.prev=27,o.s();case 29:if((s=o.n()).done){a.next=49;break}u=s.value,l=(0,i.Z)(u),a.prev=32,l.s();case 34:if((c=l.n()).done){a.next=39;break}return p=c.value,a.delegateYield(p,"t4",37);case 37:a.next=34;break;case 39:a.next=44;break;case 41:a.prev=41,a.t5=a.catch(32),l.e(a.t5);case 44:return a.prev=44,l.f(),a.finish(44);case 47:a.next=29;break;case 49:a.next=54;break;case 51:a.prev=51,a.t6=a.catch(27),o.e(a.t6);case 54:return a.prev=54,o.f(),a.finish(54);case 57:case"end":return a.stop()}}),d,null,[[10,19,22,25],[27,51,54,57],[32,41,44,47]])}function h(e){for(var t=0,n=0;n<e.length;n++){var r=e[n],a=e[(n+1)%e.length];t+=r[0]*a[1]-a[0]*r[1]}return t<=0}function b(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function Z(e,t,n){switch(t.type){case"LineString":case"MultiPoint":return function(e,t,n){return x(e,t.coordinates,n),e}(e,t,n);case"MultiLineString":return function(e,t,n){var r,a=(0,i.Z)(t.coordinates);try{for(a.s();!(r=a.n()).done;){x(e,r.value,n)}}catch(o){a.e(o)}finally{a.f()}return e}(e,t,n);case"MultiPolygon":return function(e,t,n){var r,a=(0,i.Z)(t.coordinates);try{for(a.s();!(r=a.n()).done;){var o=r.value;w(e,o[0],n);for(var s=1;s<o.length;s++)k(e,o[s],n)}}catch(u){a.e(u)}finally{a.f()}return e}(e,t,n);case"Point":return function(e,t,n){return T(e,t.coordinates,n),e}(e,t,n);case"Polygon":return function(e,t,n){var r=t.coordinates;w(e,r[0],n);for(var a=1;a<r.length;a++)k(e,r[a],n);return e}(e,t,n)}}function w(e,t,n){var r=b(t);!function(e){return!h(e)}(r)?x(e,r,n):F(e,r,n)}function k(e,t,n){var r=b(t);!function(e){return h(e)}(r)?x(e,r,n):F(e,r,n)}function x(e,t,n){var r,a=(0,i.Z)(t);try{for(a.s();!(r=a.n()).done;){T(e,r.value,n)}}catch(o){a.e(o)}finally{a.f()}e.lengths.push(t.length)}function F(e,t,n){for(var r=t.length-1;r>=0;r--)T(e,t[r],n);e.lengths.push(t.length)}function T(e,t,n){var a=(0,r.Z)(t,3),i=a[0],o=a[1],s=a[2];e.coords.push(i,o),n.hasZ&&e.coords.push(s||0)}function I(e){switch(typeof e){case"string":return(0,o.mu)(e)?"esriFieldTypeDate":"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4326;if(!e)throw new s.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new s.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var n=e.crs;if(n){var r="string"==typeof n?n:"name"===n.type?n.properties.name:"EPSG"===n.type?n.properties.code:null,a=(0,u.oR)({wkid:t})?new RegExp(".*(CRS84H?|4326)$","i"):new RegExp(".*(".concat(t,")$"),"i");if(!r||!a.test(r))throw new s.Z("geojson:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:n})}}function S(e){var t,n,r,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=[],u=new Set,l=new Set,c=!1,f=null,d=!1,m=o.geometryType,h=void 0===m?null:m,b=!1,Z=(0,i.Z)(g(e));try{var w=function(){var e=a.value,t=e.geometry,n=e.properties,o=e.id;if((!t||(h||(h=y(t.type)),y(t.type)===h))&&(c||(c=function(e){var t,n=(0,i.Z)(e);try{for(n.s();!(t=n.n()).done;)if(t.value.length>2)return!0}catch(r){n.e(r)}finally{n.f()}return!1}(v(t))),d||(d=null!=o)&&(r=typeof o,n&&(f=Object.keys(n).filter((function(e){return n[e]===o})))),n&&f&&d&&null!=o&&(f.length>1?f=f.filter((function(e){return n[e]===o})):1===f.length&&(f=n[f[0]]===o?f:[])),!b&&n)){var m=!0;for(var g in n)if(!u.has(g)){var Z=n[g];if(null!=Z){var w=I(Z);if("unknown"!==w){l.delete(g),u.add(g);var k=(0,p.q6)(g);k&&s.push({name:k,alias:g,type:w})}else l.add(g)}else m=!1,l.add(g)}b=m}};for(Z.s();!(a=Z.n()).done;)w()}catch(j){Z.e(j)}finally{Z.f()}var k=null!==(t=(0,p.q6)(1===(null===(n=f)||void 0===n?void 0:n.length)&&f[0]||null))&&void 0!==t?t:void 0;if(k){var x,F=(0,i.Z)(s);try{for(F.s();!(x=F.n()).done;){var T=x.value;if(T.name===k&&(0,p.H7)(T)){T.type="esriFieldTypeOID";break}}}catch(j){F.e(j)}finally{F.f()}}return{fields:s,geometryType:h,hasZ:c,objectIdFieldName:k,objectIdFieldType:r,unknownFields:Array.from(l)}}function N(e,t){return Array.from(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.Z)().mark((function n(){var r,o,s,u,p,f,d,m,g,v,h,b;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.geometryType,o=t.objectIdField,s=(0,i.Z)(e),n.prev=2,s.s();case 4:if((u=s.n()).done){n.next=17;break}if(f=u.value,d=f.geometry,m=f.properties,g=f.id,!d||y(d.type)===r){n.next=9;break}return n.abrupt("continue",15);case 9:return v=m||{},h=void 0,o&&(h=v[o],null==g||h||(v[o]=h=g)),b=new l.u_(d?Z(new c.Z,d,t):null,v,null,null!==(p=h)&&void 0!==p?p:void 0),n.next=15,b;case 15:n.next=4;break;case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(2),s.e(n.t0);case 22:return n.prev=22,s.f(),n.finish(22);case 25:case"end":return n.stop()}}),n,null,[[2,19,22,25]])}))()}(g(e),t))}},63543:function(e,t,n){n.d(t,{Dm:function(){return f},Hq:function(){return d},MS:function(){return m},bU:function(){return l}});var r=n(4942),a=n(1413),i=n(93169),o=n(84652),s=n(60480),u=n(76115);function l(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?u.I4:"esriGeometryPolyline"===e?u.ET:u.lF}}}var c=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,p=1;function f(e,t){if((0,i.Z)("esri-csp-restrictions"))return function(){return(0,a.Z)((0,r.Z)({},t,null),e)};try{var n="this.".concat(t," = null;");for(var o in e)n+="this".concat(c.test(o)?".".concat(o):'["'.concat(o,'"]')," = ").concat(JSON.stringify(e[o]),";");var s=new Function("\n      return class AttributesClass$".concat(p++," {\n        constructor() {\n          ").concat(n,";\n        }\n      }\n    "))();return function(){return new s}}catch(u){return function(){return(0,a.Z)((0,r.Z)({},t,null),e)}}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:(0,o.d9)(e)}}]}function m(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:s.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},67213:function(e,t,n){n.d(t,{$9:function(){return x},G4:function(){return S},Lu:function(){return k},WW:function(){return R},d:function(){return D},eS:function(){return C},gp:function(){return P},j:function(){return I},w9:function(){return F},yN:function(){return O}});var r=n(74165),a=n(37762),i=n(1413),o=n(70804),s=n(15861),u=(n(59486),n(76200)),l=n(10064),c=n(32718),p=n(92975),f=n(81753),d=n(83406),m=n(6908),y=n(47615),g=n(63543),v=n(52410),h=n(85249),b=n(6701),Z=n(78952),w=c.Z.getLogger("esri.layers.graphics.sources.ogcfeature"),k="http://www.opengis.net/def/crs/",x="".concat(k,"OGC/1.3/CRS84");function F(e,t){return T.apply(this,arguments)}function T(){return T=(0,s.Z)((0,r.Z)().mark((function e(t,n){var o,s,c,p,f,d,m,Z,k,x,F,T,I,j,S,N,P,G,C,M,D,O,A=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=A.length>2&&void 0!==A[2]?A[2]:{},s=A.length>3&&void 0!==A[3]?A[3]:5,c=t.links,null!=(p=H(c,"items","application/geo+json")||H(c,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json"))){e.next=5;break}throw new l.Z("ogc-feature-layer:missing-items-page","Missing items url");case 5:return e.next=7,(0,u.Z)(p.href,{signal:o.signal,query:(0,i.Z)((0,i.Z)({limit:s},o.customParameters),{},{token:o.apiKey}),headers:{accept:"application/geo+json"}});case 7:if(f=e.sent,d=f.data,(0,y.O3)(d),m=(0,y.my)(d,{geometryType:n.geometryType}),Z=n.fields||m.fields||[],k=null!=n.hasZ?n.hasZ:m.hasZ,x=m.geometryType,F=n.objectIdField||m.objectIdFieldName||"OBJECTID",T=n.timeInfo,!(I=Z.find((function(e){return e.name===F})))){e.next=17;break}I.editable=!1,I.nullable=!1,e.next=20;break;case 17:if(m.objectIdFieldType){e.next=19;break}throw new l.Z("ogc-feature-layer:missing-feature-id","Collection geojson require a feature id as a unique identifier");case 19:Z.unshift({name:F,alias:F,type:"number"===m.objectIdFieldType?"esriFieldTypeOID":"esriFieldTypeString",editable:!1,nullable:!1});case 20:F!==m.objectIdFieldName&&(j=Z.find((function(e){return e.name===m.objectIdFieldName})))&&(j.type="esriFieldTypeInteger"),Z===m.fields&&m.unknownFields.length>0&&w.warn({name:"ogc-feature-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:m.unknownFields}}),S=(0,a.Z)(Z),e.prev=23,S.s();case 25:if((N=S.n()).done){e.next=33;break}if(null==(P=N.value).name&&(P.name=P.alias),null==P.alias&&(P.alias=P.name),"esriFieldTypeOID"!==P.type&&"esriFieldTypeGlobalID"!==P.type&&(P.editable=null==P.editable||!!P.editable,P.nullable=null==P.nullable||!!P.nullable),P.name){e.next=29;break}throw new l.Z("ogc-feature-layer:invalid-field-name","field name is missing",{field:P});case 29:if(h.v.jsonValues.includes(P.type)){e.next=31;break}throw new l.Z("ogc-feature-layer:invalid-field-type",'invalid type for field "'.concat(P.name,'"'),{field:P});case 31:e.next=25;break;case 33:e.next=38;break;case 35:e.prev=35,e.t0=e.catch(23),S.e(e.t0);case 38:return e.prev=38,S.f(),e.finish(38);case 41:return T&&(C=new v.Z(Z),T.startTimeField&&((M=C.get(T.startTimeField))?(T.startTimeField=M.name,M.type="esriFieldTypeDate"):T.startTimeField=null),T.endTimeField&&((D=C.get(T.endTimeField))?(T.endTimeField=D.name,D.type="esriFieldTypeDate"):T.endTimeField=null),T.trackIdField&&((O=C.get(T.trackIdField))?T.trackIdField=O.name:(T.trackIdField=null,w.warn({name:"ogc-feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:T}}))),(G=T).timeReference||(G.timeReference={timeZoneIANA:b.pt}),T.startTimeField||T.endTimeField||(w.warn({name:"ogc-feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:T}}),T=null)),e.abrupt("return",{drawingInfo:x?(0,g.bU)(x):null,extent:$(t),geometryType:x,fields:Z,hasZ:!!k,objectIdField:F,timeInfo:T});case 43:case"end":return e.stop()}}),e,null,[[23,35,38,41]])}))),T.apply(this,arguments)}function I(e){return j.apply(this,arguments)}function j(){return j=(0,s.Z)((0,r.Z)().mark((function e(t){var n,a,o,s,c,p,f,d,m=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.length>1&&void 0!==m[1]?m[1]:{},a=t.links,null!=(o=H(a,"data","application/json")||H(a,"http://www.opengis.net/def/rel/ogc/1.0/data","application/json"))){e.next=4;break}throw new l.Z("ogc-feature-layer:missing-collections-page","Missing collections url");case 4:return s=n.apiKey,c=n.customParameters,p=n.signal,e.next=9,(0,u.Z)(o.href,{signal:p,headers:{accept:"application/json"},query:(0,i.Z)((0,i.Z)({},c),{},{token:s})});case 9:return f=e.sent,d=f.data,e.abrupt("return",d);case 12:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function S(e){return N.apply(this,arguments)}function N(){return N=(0,s.Z)((0,r.Z)().mark((function e(t){var n,a,o,s,c,p,f,d,m=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.length>1&&void 0!==m[1]?m[1]:{},a=t.links,null!=(o=H(a,"conformance","application/json")||H(a,"http://www.opengis.net/def/rel/ogc/1.0/conformance","application/json"))){e.next=4;break}throw new l.Z("ogc-feature-layer:missing-conformance-page","Missing conformance url");case 4:return s=n.apiKey,c=n.customParameters,p=n.signal,e.next=9,(0,u.Z)(o.href,{signal:p,headers:{accept:"application/json"},query:(0,i.Z)((0,i.Z)({},c),{},{token:s})});case 9:return f=e.sent,d=f.data,e.abrupt("return",d);case 12:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function P(e){return G.apply(this,arguments)}function G(){return G=(0,s.Z)((0,r.Z)().mark((function e(t){var n,a,o,s,l,c,p=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(n=p.length>1&&void 0!==p[1]?p[1]:{}).apiKey,o=n.customParameters,s=n.signal,e.next=6,(0,u.Z)(t,{signal:s,headers:{accept:"application/json"},query:(0,i.Z)((0,i.Z)({},o),{},{token:a})});case 6:return l=e.sent,c=l.data,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function C(e){return M.apply(this,arguments)}function M(){return M=(0,s.Z)((0,r.Z)().mark((function e(t){var n,a,o,s,l,c,p,f,d=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:{},a="application/vnd.oai.openapi+json;version=3.0",null!=(o=H(t.links,"service-desc",a))){e.next=4;break}return e.abrupt("return",(w.warn("ogc-feature-layer:missing-openapi-page","The OGC API-Features server does not have an OpenAPI page."),null));case 4:return s=n.apiKey,l=n.customParameters,c=n.signal,e.next=9,(0,u.Z)(o.href,{signal:c,headers:{accept:a},query:(0,i.Z)((0,i.Z)({},l),{},{token:s})});case 9:return p=e.sent,f=p.data,e.abrupt("return",f);case 12:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function D(e){var t=(0,o.Z)(/^http:\/\/www\.opengis.net\/def\/crs\/(.*)\/(.*)\/(.*)$/i,{authority:1,version:2,code:3}).exec(e),n=null===t||void 0===t?void 0:t.groups;if(!n)return null;var r=n.authority,a=n.code;switch(r.toLowerCase()){case"ogc":switch(a.toLowerCase()){case"crs27":return Z.Z.GCS_NAD_1927.wkid;case"crs83":return 4269;case"crs84":case"crs84h":return Z.Z.WGS84.wkid;default:return null}case"esri":case"epsg":var i=Number.parseInt(a,10);return Number.isNaN(i)?null:i;default:return null}}function O(e,t,n){return A.apply(this,arguments)}function A(){return(A=(0,s.Z)((0,r.Z)().mark((function e(t,n,a){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t,n,a);case 2:return i=e.sent,e.abrupt("return",(0,d.cn)(i));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t,n){return q.apply(this,arguments)}function q(){return q=(0,s.Z)((0,r.Z)().mark((function e(t,n,o){var s,c,g,v,h,b,w,k,x,F,T,I,j,S,N,P,G,C,M,D,O,A,R,q,L,$,_,z,J,B,K,Q,V,Y,X,ee,te,ne,re,ae,ie;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.collection,g=t.layerDefinition,v=t.maxRecordCount,h=t.queryParameters,b=h.apiKey,w=h.customParameters,k=t.spatialReference,x=t.supportedCrs,F=c.links,null!=(T=H(F,"items","application/geo+json")||H(F,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json"))){e.next=3;break}throw new l.Z("ogc-feature-layer:missing-items-page","Missing items url");case 3:if(I=n.geometry,j=n.num,S=n.start,N=n.timeExtent,P=n.where,!n.objectIds){e.next=6;break}throw new l.Z("ogc-feature-layer:query-by-objectids-not-supported","Queries with objectids are not supported");case 6:return G=Z.Z.fromJSON(k),C=null!==(s=n.outSpatialReference)&&void 0!==s?s:G,M=C.isWGS84?null:W(C,x),D=E(I,x),O=U(N),A=null!=(r=P)&&r&&"1=1"!==r?r:null,R=null!==j&&void 0!==j?j:null!=S&&void 0!==S?10:v,e.next=15,(0,u.Z)(T.href,(0,i.Z)((0,i.Z)({},o),{},{query:(0,i.Z)((0,i.Z)((0,i.Z)({},w),D),{},{crs:M,datetime:O,query:A,limit:R,startindex:S,token:b}),headers:{accept:"application/geo+json"}}));case 15:if(q=e.sent,L=q.data,$=!1,L.links&&(_=L.links.find((function(e){return"next"===e.rel})),$=!!_),!$&&Number.isInteger(L.numberMatched)&&Number.isInteger(L.numberReturned)&&($=L.numberReturned<L.numberMatched),z=g.fields,J=g.geometryType,B=g.hasZ,K=g.objectIdField,Q=(0,y.lG)(L,{geometryType:J,hasZ:B,objectIdField:K}),!M&&C.isWebMercator){V=(0,a.Z)(Q);try{for(V.s();!(Y=V.n()).done;)null!=(X=Y.value).geometry&&null!=J&&((ee=(0,d.di)(X.geometry,J,B,!1)).spatialReference=Z.Z.WGS84,X.geometry=(0,d.GH)((0,f.iV)(ee,C)))}catch(oe){V.e(oe)}finally{V.f()}}te=(0,a.Z)(Q);try{for(te.s();!(ne=te.n()).done;)(re=ne.value).objectId=re.attributes[K]}catch(oe){te.e(oe)}finally{te.f()}return ae=M||!M&&C.isWebMercator?C.toJSON():p.Zn,ie=new m.Z,e.abrupt("return",(ie.exceededTransferLimit=$,ie.features=Q,ie.fields=z,ie.geometryType=J,ie.hasZ=B,ie.objectIdFieldName=K,ie.spatialReference=ae,ie));case 26:case"end":return e.stop()}var r}),e)}))),q.apply(this,arguments)}function W(e,t){var n,r,a,i=e.isWebMercator;if(!e.wkid)return null;var o=i?null!==(n=null!==(r=null!==(a=t[3857])&&void 0!==a?a:t[102100])&&void 0!==r?r:t[102113])&&void 0!==n?n:t[900913]:t[e.wkid];return o?"".concat(k).concat(o):null}function L(e){if(null==e)return"";var t=e.xmin,n=e.ymin,r=e.xmax,a=e.ymax;return"".concat(t,",").concat(n,",").concat(r,",").concat(a)}function U(e){if(null==e)return null;var t=e.start,n=e.end;return"".concat(null!=t?t.toISOString():"..","/").concat(null!=n?n.toISOString():"..")}function E(e,t){if(!function(e){return null!=e&&"extent"===e.type}(e))return null;var n=e.spatialReference;if(!n||n.isWGS84)return{bbox:L(e)};var r=W(n,t);return null!=r?{bbox:L(e),"bbox-crs":r}:n.isWebMercator?{bbox:L((0,f.iV)(e,Z.Z.WGS84))}:null}function $(e){var t,n=null===(t=e.extent)||void 0===t?void 0:t.spatial;if(!n)return null;var r=n.bbox[0],a=4===r.length,i=r[0],o=r[1],s=a?void 0:r[2];return{xmin:i,ymin:o,xmax:a?r[2]:r[3],ymax:a?r[3]:r[4],zmin:s,zmax:a?void 0:r[5],spatialReference:Z.Z.WGS84.toJSON()}}function H(e,t,n){return e.find((function(e){return e.rel===t&&e.type===n}))||e.find((function(e){return e.rel===t&&!e.type}))}}}]);
//# sourceMappingURL=7213.d0842159.chunk.js.map