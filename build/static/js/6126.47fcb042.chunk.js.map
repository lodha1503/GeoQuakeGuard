{"version":3,"file":"static/js/6126.47fcb042.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/accessorSupport/originUtils.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/layers/save/streamLayerUtils.js","../node_modules/@arcgis/core/layers/save/utils.js","../node_modules/@arcgis/core/portal/support/jsonContext.js","../node_modules/@arcgis/core/webdoc/saveAPIKeyUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i?.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}export{i as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getWGS84ExtentForItem as r,addTypeKeyword as a,TypeKeyword as s}from\"../../portal/support/portalItemUtils.js\";const l=\"Stream Service\",n=\"stream-layer-save\",i=\"stream-layer-save-as\";function o(e){return{isValid:\"stream\"===e.type&&!!e.url&&!e.webSocketUrl,errorMessage:\"Stream layer should be created using a url to a stream service\"}}function m(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function u(e,t){const{parsedUrl:l,title:n,fullExtent:i}=e;t.url=l.path,t.title||=n,t.extent=null,null!=i&&(t.extent=await r(i)),a(t,s.SINGLE_LAYER)}async function c(t,r){return e({layer:t,itemType:l,validateLayer:o,createItemData:m,errorNamePrefix:n},r)}async function y(e,r,a){return t({layer:e,itemType:l,validateLayer:o,createItemData:m,errorNamePrefix:i,newItem:r,setItemProperties:u},a)}export{c as save,y as saveAs};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{updateOrigins as t}from\"../../core/accessorSupport/originUtils.js\";import r from\"../../portal/Portal.js\";import o from\"../../portal/PortalItem.js\";import{createForItemWrite as a}from\"../../portal/support/jsonContext.js\";import{addTypeKeyword as i,TypeKeyword as n}from\"../../portal/support/portalItemUtils.js\";import{validateSaveAPIKey as s}from\"../../webdoc/saveAPIKeyUtils.js\";function l(t,r,o){const a=o(t);if(!a.isValid)throw new e(`${r}:invalid-parameters`,a.errorMessage,{layer:t})}async function p(e){const{layer:t,errorNamePrefix:r,validateLayer:o}=e;await t.load(),l(t,r,o)}function m(e,t){return`Layer (title: ${e.title}, id: ${e.id}) of type '${e.declaredClass}' ${t}`}function c(t){const{item:r,itemType:o,errorNamePrefix:a,layer:i,validateItem:n}=t;if(s(r),r.type!==o)throw new e(`${a}:portal-item-wrong-type`,`Portal item type should be \"${o}\"`,{item:r,layer:i});if(n){const t=n(r);if(!t.isValid)throw new e(`${a}:invalid-parameters`,t.errorMessage,{layer:i})}}function d(t){const{layer:r,errorNamePrefix:o}=t,{portalItem:a}=r;if(!a)throw new e(`${o}:portal-item-not-set`,m(r,\"requires the portalItem property to be set\"));if(!a.loaded)throw new e(`${o}:portal-item-not-loaded`,m(r,\"cannot be saved to a portal item that does not exist or is inaccessible\"));c({...t,item:a})}function u(e){const{newItem:t,itemType:a}=e;let i=o.from(t);return i.id&&(i=i.clone(),i.id=null),i.type??=a,i.portal??=r.getDefault(),c({...e,item:i}),i}function f(t,r){let o=(t.messages??[]).filter((({type:e})=>\"error\"===e)).map((({name:t,message:r,details:o})=>new e(t,r,o)));if(t.blockedRelativeUrls&&(o=o.concat(t.blockedRelativeUrls.map((t=>new e(\"url:unsupported\",`Relative url '${t}' is not supported`))))),r?.ignoreUnsupported&&(o=o.filter((({name:e})=>\"layer:unsupported\"!==e&&\"symbol:unsupported\"!==e&&\"symbol-layer:unsupported\"!==e&&\"property:unsupported\"!==e&&\"url:unsupported\"!==e))),o.length>0)throw new e(\"layer-write:unsupported\",\"Failed to save layer due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:o})}async function y(e,t,r){\"beforeSave\"in e&&\"function\"==typeof e.beforeSave&&await e.beforeSave();const o=e.write({},t);return await Promise.all(t.resources?.pendingOperations??[]),f(t,r),o}function w(e){i(e,n.JSAPI),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)))}async function v(e,t,r){const o=e.portal;await o.signIn(),await(o.user?.addItem({item:e,data:t,folder:r?.folder}))}async function I(e,r){const{layer:o,createItemData:i,createJSONContext:n,saveResources:s}=e;await p(e),d(e);const l=o.portalItem,m=n?n(l):a(l),c=await y(o,m,r),u=await i({layer:o,layerJSON:c},l);return w(l),await l.update({data:u}),t(m),await(s?.(l,m)),l}async function b(e,r){const{layer:o,createItemData:i,createJSONContext:n,setItemProperties:s,saveResources:l}=e;await p(e);const m=u(e),c=n?n(m):a(m),d=await y(o,c,r),f=await i({layer:o,layerJSON:d},m);return await s(o,m),w(m),await v(m,f,r),o.portalItem=m,t(c),await(l?.(m,c)),m}export{v as addItem,m as createErrorMessage,d as ensureItemConfig,l as ensureLayerConfig,y as getLayerJSON,u as getPortalItem,I as save,b as saveAs,w as setCommonItemProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{urlToObject as t}from\"../../core/urlUtils.js\";import r from\"../Portal.js\";function e(e){return{origin:\"portal-item\",url:t(e.itemUrl),portal:e.portal||r.getDefault(),portalItem:e,readResourcePaths:[]}}function o(e){const o=t(e.itemUrl);return{origin:\"portal-item\",messages:[],writtenProperties:[],url:o,portal:e.portal||r.getDefault(),portalItem:e,verifyItemRelativeUrls:o?{rootPath:o.path,writtenUrls:[]}:null,blockedRelativeUrls:[]}}function l(e){return{origin:\"web-map\",url:t(e.itemUrl),portal:e.portal||r.getDefault(),portalItem:e,readResourcePaths:[]}}function a(e,o){const l=t(e.itemUrl);return{origin:\"web-map\",messages:[],writtenProperties:[],url:l,portal:e.portal||r.getDefault(),portalItem:e,initiator:o,verifyItemRelativeUrls:l?{rootPath:l.path,writtenUrls:[]}:null,blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}}}export{l as createForGroupLayerItemRead,a as createForGroupLayerItemWrite,e as createForItemRead,o as createForItemWrite};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport o from\"../config.js\";import r from\"../core/Error.js\";import{supportsApiKey as p}from\"../support/apiKeyUtils.js\";function i(i){if(o.apiKey&&p(i.portal.url))throw new r(\"save-api-key-utils:api-key-not-supported\",`Saving is not supported on ${i.portal.url} when using an api key`)}export{i as validateSaveAPIKey};\n"],"names":["i","writtenProperties","forEach","_ref","target","t","propName","e","newOrigin","r","originOf","updateOrigin","l","n","o","isValid","type","url","webSocketUrl","errorMessage","m","layerJSON","Promise","resolve","Object","keys","length","u","_x","_x2","_u","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","parsedUrl","title","fullExtent","path","extent","t0","sent","a","s","SINGLE_LAYER","stop","c","_x3","_x4","_c","_callee2","_context2","abrupt","layer","itemType","validateLayer","createItemData","errorNamePrefix","y","_x5","_x6","_x7","_y","_callee3","_context3","newItem","setItemProperties","concat","p","_p","load","id","declaredClass","item","validateItem","d","portalItem","loaded","_objectSpread","_i","_i$type","_i2","_i2$portal","from","clone","portal","getDefault","f","_t$messages","messages","filter","map","_ref2","name","message","details","blockedRelativeUrls","ignoreUnsupported","_ref3","errors","_t$resources$pendingO","_t$resources","beforeSave","write","all","resources","pendingOperations","w","JSAPI","typeKeywords","indexOf","v","_v","_o$user","signIn","user","addItem","data","folder","I","_x8","_x9","_I","_callee4","_context4","createJSONContext","saveResources","update","b","_x10","_x11","_b","_callee5","_context5","origin","itemUrl","readResourcePaths","verifyItemRelativeUrls","rootPath","writtenUrls","initiator","toAdd","toUpdate","toKeep","apiKey"],"sourceRoot":""}