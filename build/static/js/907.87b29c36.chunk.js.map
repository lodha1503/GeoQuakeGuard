{"version":3,"file":"static/js/907.87b29c36.chunk.js","mappings":"yKAI2E,SAASA,EAAEA,IAAI,OAADA,QAAC,IAADA,OAAC,EAADA,EAAGC,oBAAmBD,EAAEC,kBAAkBC,SAAS,SAAAC,GAAqC,IAA5BH,EAACG,EAARC,OAAkBC,EAACF,EAAVG,SAAqBC,EAACJ,EAAXK,WAAgBC,EAAAA,EAAAA,GAAET,IAAIO,GAAGP,EAAEU,SAASL,KAAKE,GAAGP,EAAEW,aAAaN,EAAEE,EAAE,GAAG,C,wBCApO,SAASP,EAAEA,GAAG,OAAOA,GAAG,gBAAgBA,GAAG,aAAaA,CAAC,C,kMCA8PA,EAAE,cAAcY,EAAE,mBAAmBC,EAAE,sBAAsBC,EAAEC,EAAAA,GAAEC,gBAAgB,SAASC,EAAEV,GAAG,MAAM,CAACW,QAAQ,UAAUX,EAAEY,KAAKC,aAAa,+BAA+B,CAAC,SAASC,EAAEd,GAAG,MAAM,CAACW,SAAQI,EAAAA,EAAAA,IAAEf,EAAEO,GAAGM,aAAY,8CAAAG,OAA+CT,EAAC,KAAI,CAAC,SAASU,EAAEjB,GAAG,IAAME,EAAEF,EAAEkB,UAAU,OAAOC,QAAQC,QAAQlB,GAAGmB,OAAOC,KAAKpB,GAAGqB,OAAOrB,EAAE,KAAK,CAAC,SAAesB,EAACC,EAAAC,GAAA,OAAAC,EAAAC,MAAC,KAADC,UAAA,UAAAF,IAA+B,OAA/BA,GAAAG,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAhB,SAAAC,EAAiBjC,EAAEE,GAAC,OAAA6B,EAAAA,EAAAA,KAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAAEnC,EAAEoC,QAAFpC,EAAEoC,MAAQtC,EAAEsC,QAAMC,EAAAA,EAAAA,IAAErC,EAAEK,GAAE,wBAAA4B,EAAAK,OAAA,GAAAP,EAAA,MAACL,MAAA,KAAAC,UAAA,UAAeY,EAACC,EAAAC,GAAA,OAAAC,EAAAhB,MAAC,KAADC,UAAA,UAAAe,IAA8P,OAA9PA,GAAAd,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAhB,SAAAa,EAAiB3C,EAAEM,GAAC,OAAAuB,EAAAA,EAAAA,KAAAG,MAAA,SAAAY,GAAA,cAAAA,EAAAV,KAAAU,EAAAT,MAAA,cAAAS,EAAAC,OAAA,UAAS/C,EAAAA,EAAAA,IAAE,CAACgD,MAAM9C,EAAE+C,SAASxD,EAAEyD,cAAcxC,EAAEyC,aAAarC,EAAEsC,kBAAkB,SAAApD,GAAC,OAAEF,EAAAA,EAAAA,IAAEE,EAAEE,EAAE,EAACmD,eAAepC,EAAEqC,gBAAgBjD,EAAEkD,cAAa,eAAAC,GAAA1B,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAC,SAAAyB,EAAMzD,EAAEF,GAAC,OAAAiC,EAAAA,EAAAA,KAAAG,MAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,OAAwB,GAAxBqB,EAAAC,GAAIzD,EAAE0D,mBAAkBF,EAAAC,GAAA,CAAAD,EAAArB,KAAA,eAAAqB,EAAArB,KAAA,EAAQrC,EAAE6D,qBAAqBC,OAAO,WAAK,IAAG,cAAAJ,EAAAX,OAAA,UAACgB,EAAAA,EAAAA,IAAE7D,EAAE8D,mBAAmBlE,IAAE,wBAAA4D,EAAAlB,OAAA,GAAAiB,EAAA,KAAC,gBAAAQ,EAAAC,GAAA,OAAAV,EAAA5B,MAAA,KAAAC,UAAA,EAA3G,IAA6GrB,IAAE,wBAAAsC,EAAAN,OAAA,GAAAK,EAAA,KAACD,EAAAhB,MAAA,KAAAC,UAAA,UAAesC,EAACC,EAAAC,EAAAC,GAAA,OAAAC,EAAA3C,MAAC,KAADC,UAAA,UAAA0C,IAAqM,OAArMA,GAAAzC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAhB,SAAAwC,EAAiBxE,EAAEQ,EAAEO,GAAC,OAAAgB,EAAAA,EAAAA,KAAAG,MAAA,SAAAuC,GAAA,cAAAA,EAAArC,KAAAqC,EAAApC,MAAA,cAAAoC,EAAA1B,OAAA,UAAS7C,EAAAA,EAAAA,IAAE,CAAC8C,MAAMhD,EAAEiD,SAASxD,EAAEyD,cAAcxC,EAAE0C,kBAAkB,SAAAlD,GAAC,OAAEJ,EAAAA,EAAAA,IAAEI,EAAEF,EAAE,EAACqD,eAAepC,EAAEqC,gBAAgBhD,EAAEoE,QAAQlE,EAAEmE,kBAAkBnD,EAAE+B,cAAc,SAACrD,EAAEJ,GAAC,OAAGiE,EAAAA,EAAAA,IAAE/D,EAAEgE,mBAAmBlE,EAAE,GAAEiB,IAAE,wBAAA0D,EAAAjC,OAAA,GAAAgC,EAAA,MAAC5C,MAAA,KAAAC,UAAA,C,yWCA/wB,SAAStB,EAAET,EAAEI,EAAEqC,GAAG,IAAMxB,EAAEwB,EAAEzC,GAAG,IAAIiB,EAAEJ,QAAQ,MAAM,IAAIX,EAAAA,EAAE,GAADgB,OAAId,EAAC,uBAAsBa,EAAEF,aAAa,CAACmC,MAAMlD,GAAG,CAAC,SAAeY,EAACe,GAAA,OAAAmD,EAAAhD,MAAC,KAADC,UAAA,UAAA+C,IAA+E,OAA/EA,GAAA9C,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAhB,SAAAC,EAAiBjC,GAAC,IAAAF,EAAAI,EAAAqC,EAAA,OAAAR,EAAAA,EAAAA,KAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAA+C,OAAjCvC,EAAqCE,EAA3CgD,MAAwB9C,EAAmBF,EAAnCsD,gBAAgCf,EAAGvC,EAAjBkD,cAAaf,EAAAE,KAAA,EAAYvC,EAAE+E,OAAM,OAACtE,EAAET,EAAEI,EAAEqC,GAAE,wBAAAJ,EAAAK,OAAA,GAAAP,EAAA,MAACL,MAAA,KAAAC,UAAA,UAASf,EAAEd,EAAEF,GAAG,uBAAAkB,OAAuBhB,EAAEsC,MAAK,UAAAtB,OAAShB,EAAE8E,GAAE,eAAA9D,OAAchB,EAAE+E,cAAa,MAAA/D,OAAKlB,EAAG,CAAC,SAASQ,EAAER,GAAG,IAAWI,EAAuDJ,EAA5DkF,KAAgBzC,EAA4CzC,EAArDmD,SAA2BlC,EAA0BjB,EAA1CwD,gBAAwB7D,EAAkBK,EAAxBkD,MAAqBe,EAAGjE,EAAhBqD,aAAkB,IAAG3C,EAAAA,EAAAA,GAAEN,GAAGA,EAAEU,OAAO2B,EAAE,MAAM,IAAIvC,EAAAA,EAAE,GAADgB,OAAID,EAAC,0DAAAC,OAAyDuB,EAAC,KAAI,CAACyC,KAAK9E,EAAE8C,MAAMvD,IAAI,GAAGsE,EAAE,CAAC,IAAMjE,EAAEiE,EAAE7D,GAAG,IAAIJ,EAAEa,QAAQ,MAAM,IAAIX,EAAAA,EAAE,GAADgB,OAAID,EAAC,uBAAsBjB,EAAEe,aAAa,CAACmC,MAAMvD,GAAG,CAAC,CAAC,SAAS0E,EAAErE,GAAG,IAAYI,EAAqBJ,EAA3BkD,MAAwBT,EAAGzC,EAAnBwD,gBAAiCvC,EAAGb,EAAd+E,WAAgB,IAAIlE,EAAE,MAAM,IAAIf,EAAAA,EAAE,GAADgB,OAAIuB,EAAC,wBAAuBzB,EAAEZ,EAAE,+CAA+C,IAAIa,EAAEmE,OAAO,MAAM,IAAIlF,EAAAA,EAAE,GAADgB,OAAIuB,EAAC,2BAA0BzB,EAAEZ,EAAE,4EAA4EI,GAAC6E,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGrF,GAAC,IAACkF,KAAKjE,IAAG,CAAC,SAASV,EAAEL,GAAE,IAAAoF,EAAAC,EAAAC,EAAAC,EAAezF,EAAcE,EAAtB0E,QAAmB3D,EAAGf,EAAZiD,SAAkBxD,EAAE8C,EAAAA,QAAEiD,KAAK1F,GAAG,OAAOL,EAAEqF,MAAKrF,EAAEA,EAAEgG,SAAUX,GAAG,MAAY,QAAPO,GAACD,EAAA3F,GAAEmB,YAAI,IAAAyE,IAAND,EAAExE,KAAOG,GAAU,QAATwE,GAACD,EAAA7F,GAAEiG,cAAM,IAAAH,IAARD,EAAEI,OAASxF,EAAAA,EAAEyF,cAAarF,GAAC6E,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGnF,GAAC,IAACgF,KAAKvF,KAAIA,CAAC,CAAC,SAAS+B,EAAE1B,EAAEI,GAAE,IAAA0F,EAAKrD,GAAa,QAAXqD,EAAC9F,EAAE+F,gBAAQ,IAAAD,EAAAA,EAAE,IAAIE,QAAQ,SAAAlG,GAAM,MAAM,UAAJA,EAANgB,IAAqB,IAAGmF,KAAK,SAAAC,GAAA,IAAOlG,EAACkG,EAANC,KAAe/F,EAAC8F,EAATE,QAAkB3D,EAACyD,EAATG,QAAO,OAAM,IAAInG,EAAAA,EAAEF,EAAEI,EAAEqC,EAAE,IAAG,GAAGzC,EAAEsG,sBAAsB7D,EAAEA,EAAEvB,OAAOlB,EAAEsG,oBAAoBL,KAAK,SAAAjG,GAAC,OAAE,IAAIE,EAAAA,EAAE,kBAAiB,iBAAAgB,OAAkBlB,EAAC,sBAAqB,MAAM,OAADI,QAAC,IAADA,GAAAA,EAAGmG,oBAAoB9D,EAAEA,EAAEuD,QAAQ,SAAAQ,GAAA,IAAOtG,EAACsG,EAANL,KAAI,MAAM,sBAAsBjG,GAAG,uBAAuBA,GAAG,6BAA6BA,GAAG,yBAAyBA,GAAG,oBAAoBA,CAAC,KAAIuC,EAAEhB,OAAO,EAAE,MAAM,IAAIvB,EAAAA,EAAE,0BAA0B,iHAAiH,CAACuG,OAAOhE,GAAG,CAAC,SAAetB,EAACS,EAAAgB,EAAAC,GAAA,OAAA6D,EAAA5E,MAAC,KAADC,UAAA,UAAA2E,IAA4K,OAA5KA,GAAA1E,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAhB,SAAAyB,EAAiBzD,EAAEF,EAAEI,GAAC,IAAAuG,EAAAC,EAAAnE,EAAA,OAAAR,EAAAA,EAAAA,KAAAG,MAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,OAAmD,GAAnDqB,EAAAC,GAAE,eAAe3D,GAAG,mBAAmBA,EAAE2G,YAAUjD,EAAAC,GAAA,CAAAD,EAAArB,KAAA,eAAAqB,EAAArB,KAAA,EAAQrC,EAAE2G,aAAY,OAAsB,OAAfpE,EAAEvC,EAAE4G,MAAM,CAAC,EAAE9G,GAAE4D,EAAArB,KAAA,EAAclB,QAAQ0F,IAAkC,QAA/BJ,EAAY,QAAZC,EAAC5G,EAAEgH,iBAAS,IAAAJ,OAAA,EAAXA,EAAaK,yBAAiB,IAAAN,EAAAA,EAAE,IAAG,OAAO,OAANjF,EAAE1B,EAAEI,GAAEwD,EAAAX,OAAA,SAACR,GAAC,wBAAAmB,EAAAlB,OAAA,GAAAiB,EAAA,MAAC7B,MAAA,KAAAC,UAAA,UAASmF,EAAEhH,IAAGP,EAAAA,EAAAA,IAAEO,EAAE+D,EAAAA,GAAEkD,OAAOjH,EAAEkH,eAAelH,EAAEkH,aAAalH,EAAEkH,aAAapB,QAAQ,SAAC9F,EAAEF,EAAEI,GAAC,OAAGA,EAAEiH,QAAQnH,KAAKF,CAAC,IAAG,CAAC,SAAe2C,EAAC2B,EAAAC,EAAAC,GAAA,OAAA1B,EAAAhB,MAAC,KAADC,UAAA,UAAAe,IAAmG,OAAnGA,GAAAd,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAhB,SAAAa,EAAiB7C,EAAEF,EAAEI,GAAC,IAAAkH,EAAA7E,EAAA,OAAAR,EAAAA,EAAAA,KAAAG,MAAA,SAAAY,GAAA,cAAAA,EAAAV,KAAAU,EAAAT,MAAA,OAAkB,OAAVE,EAAEvC,EAAE0F,OAAM5C,EAAAT,KAAA,EAAOE,EAAE8E,SAAQ,cAAAvE,EAAAT,KAAA,EAAa,QAAb+E,EAAO7E,EAAE+E,YAAI,IAAAF,OAAA,EAANA,EAAQG,QAAQ,CAACvC,KAAKhF,EAAEwH,KAAK1H,EAAE2H,OAAQ,OAADvH,QAAC,IAADA,OAAC,EAADA,EAAGuH,SAAQ,wBAAA3E,EAAAN,OAAA,GAAAK,EAAA,MAAEjB,MAAA,KAAAC,UAAA,UAAe6F,EAACzD,EAAAC,GAAA,OAAAyD,EAAA/F,MAAC,KAADC,UAAA,UAAA8F,IAA+O,OAA/OA,GAAA7F,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAhB,SAAAwC,EAAiBxE,EAAEE,GAAC,IAAAqC,EAAA9C,EAAAsE,EAAAvD,EAAAD,EAAAO,EAAAR,EAAAD,EAAA,OAAA0B,EAAAA,EAAAA,KAAAG,MAAA,SAAAuC,GAAA,cAAAA,EAAArC,KAAAqC,EAAApC,MAAA,OAAkE,OAApDE,EAAwDvC,EAA9DgD,MAAuBvD,EAAuCO,EAAtDqD,eAAmCU,EAAmB/D,EAArCoD,kBAAkC5C,EAAGR,EAAjBuD,cAAakB,EAAApC,KAAA,EAAY3B,EAAEV,GAAE,OAAwC,OAAvCmE,EAAEnE,GAASO,EAAEgC,EAAE0C,WAAWnE,EAAEiD,EAAEA,EAAExD,IAAGQ,EAAAA,EAAAA,IAAER,GAAEkE,EAAApC,KAAA,EAASpB,EAAEsB,EAAEzB,EAAEZ,GAAE,OAAf,OAADI,EAACmE,EAAAmD,KAAAnD,EAAApC,KAAA,GAAwB5C,EAAE,CAACuD,MAAMT,EAAErB,UAAUZ,GAAGC,GAAE,QAAY,OAA9CF,EAACoE,EAAAmD,KAAyCZ,EAAEzG,GAAEkE,EAAApC,KAAA,GAAO9B,EAAEsH,OAAO,CAACL,KAAKnH,IAAG,QAAK,OAAJP,EAAAA,EAAAA,GAAEgB,GAAE2D,EAAApC,KAAA,GAAQ,OAAD7B,QAAC,IAADA,OAAC,EAADA,EAAID,EAAEO,GAAE,eAAA2D,EAAA1B,OAAA,SAAExC,GAAC,yBAAAkE,EAAAjC,OAAA,GAAAgC,EAAA,KAACmD,EAAA/F,MAAA,KAAAC,UAAA,UAAeiG,EAACC,EAAAC,GAAA,OAAAC,EAAArG,MAAC,KAADC,UAAA,UAAAoG,IAAwQ,OAAxQA,GAAAnG,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAhB,SAAAkG,EAAiBlI,EAAEE,GAAC,IAAAqC,EAAA9C,EAAAsE,EAAAvD,EAAAD,EAAAO,EAAAR,EAAA6D,EAAA3C,EAAA,OAAAO,EAAAA,EAAAA,KAAAG,MAAA,SAAAiG,GAAA,cAAAA,EAAA/F,KAAA+F,EAAA9F,MAAA,OAAsF,OAAxEE,EAA4EvC,EAAlFgD,MAAuBvD,EAA2DO,EAA1EqD,eAAmCU,EAAuC/D,EAAzDoD,kBAAsC5C,EAAmBR,EAArC2E,kBAAkCpE,EAAGP,EAAjBuD,cAAa4E,EAAA9F,KAAA,EAAY3B,EAAEV,GAAE,OAA2B,OAApBc,EAAET,EAAEL,GAAGM,EAAEyD,EAAEA,EAAEjD,IAAGC,EAAAA,EAAAA,IAAED,GAAEqH,EAAA9F,KAAA,EAASpB,EAAEsB,EAAEjC,EAAEJ,GAAE,OAAf,OAADiE,EAACgE,EAAAP,KAAAO,EAAA9F,KAAA,GAAwB5C,EAAE,CAACuD,MAAMT,EAAErB,UAAUiD,GAAGrD,GAAE,QAAjC,OAADU,EAAC2G,EAAAP,KAAAO,EAAA9F,KAAA,GAA+C7B,EAAE+B,EAAEzB,GAAE,QAAK,OAAJkG,EAAElG,GAAEqH,EAAA9F,KAAA,GAAOI,EAAE3B,EAAEU,EAAEtB,GAAE,QAAoB,OAAnBqC,EAAE0C,WAAWnE,GAAEhB,EAAAA,EAAAA,GAAEQ,GAAE6H,EAAA9F,KAAA,GAAQ,OAAD9B,QAAC,IAADA,OAAC,EAADA,EAAIO,EAAER,GAAE,eAAA6H,EAAApF,OAAA,SAAEjC,GAAC,yBAAAqH,EAAA3F,OAAA,GAAA0F,EAAA,KAACD,EAAArG,MAAA,KAAAC,UAAA,C,0JCA15F,SAAS7B,EAAEA,GAAG,MAAM,CAACoI,OAAO,cAAcC,KAAIvI,EAAAA,EAAAA,IAAEE,EAAEsI,SAAS5C,OAAO1F,EAAE0F,QAAQxF,EAAAA,EAAEyF,aAAaV,WAAWjF,EAAEuI,kBAAkB,GAAG,CAAC,SAAShG,EAAEvC,GAAG,IAAMuC,GAAEzC,EAAAA,EAAAA,IAAEE,EAAEsI,SAAS,MAAM,CAACF,OAAO,cAAcvC,SAAS,GAAGnG,kBAAkB,GAAG2I,IAAI9F,EAAEmD,OAAO1F,EAAE0F,QAAQxF,EAAAA,EAAEyF,aAAaV,WAAWjF,EAAEwI,uBAAuBjG,EAAE,CAACkG,SAASlG,EAAEmG,KAAKC,YAAY,IAAI,KAAKvC,oBAAoB,GAAG,CAAC,SAAS7F,EAAEP,GAAG,MAAM,CAACoI,OAAO,UAAUC,KAAIvI,EAAAA,EAAAA,IAAEE,EAAEsI,SAAS5C,OAAO1F,EAAE0F,QAAQxF,EAAAA,EAAEyF,aAAaV,WAAWjF,EAAEuI,kBAAkB,GAAG,CAAC,SAASxH,EAAEf,EAAEuC,GAAG,IAAMhC,GAAET,EAAAA,EAAAA,IAAEE,EAAEsI,SAAS,MAAM,CAACF,OAAO,UAAUvC,SAAS,GAAGnG,kBAAkB,GAAG2I,IAAI9H,EAAEmF,OAAO1F,EAAE0F,QAAQxF,EAAAA,EAAEyF,aAAaV,WAAWjF,EAAE4I,UAAUrG,EAAEiG,uBAAuBjI,EAAE,CAACkI,SAASlI,EAAEmI,KAAKC,YAAY,IAAI,KAAKvC,oBAAoB,GAAGU,UAAU,CAAC+B,MAAM,GAAGC,SAAS,GAAGC,OAAO,GAAGhC,kBAAkB,IAAI,C,6FCA/uB,SAAStH,EAAEA,GAAG,GAAG8C,EAAAA,EAAEyG,SAAQtI,EAAAA,EAAAA,GAAEjB,EAAEiG,OAAO2C,KAAK,MAAM,IAAInI,EAAAA,EAAE,2CAA0C,8BAAAc,OAA+BvB,EAAEiG,OAAO2C,IAAG,0BAAyB,C","sources":["../node_modules/@arcgis/core/core/accessorSupport/originUtils.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/layers/save/groupLayerUtils.js","../node_modules/@arcgis/core/layers/save/utils.js","../node_modules/@arcgis/core/portal/support/jsonContext.js","../node_modules/@arcgis/core/webdoc/saveAPIKeyUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i?.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}export{i as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as r}from\"./utils.js\";import{createForGroupLayerItemWrite as t}from\"../../portal/support/jsonContext.js\";import{TypeKeyword as s,hasTypeKeyword as a,addTypeKeyword as o}from\"../../portal/support/portalItemUtils.js\";import{saveResources as n}from\"../../webdoc/support/saveUtils.js\";const i=\"Group Layer\",u=\"group-layer-save\",c=\"group-layer-save-as\",l=s.GROUP_LAYER_MAP;function p(e){return{isValid:\"group\"===e.type,errorMessage:\"Layer.type should be 'group'\"}}function m(e){return{isValid:a(e,l),errorMessage:`Layer.portalItem.typeKeywords should have '${l}'`}}function y(e){const r=e.layerJSON;return Promise.resolve(r&&Object.keys(r).length?r:null)}async function f(e,r){r.title||=e.title,o(r,l)}async function v(r,s){return e({layer:r,itemType:i,validateLayer:p,validateItem:m,createJSONContext:e=>t(e,r),createItemData:y,errorNamePrefix:u,saveResources:async(e,t)=>(r.sourceIsPortalItem||await e.removeAllResources().catch((()=>{})),n(r.resourceReferences,t))},s)}async function d(e,s,a){return r({layer:e,itemType:i,validateLayer:p,createJSONContext:r=>t(r,e),createItemData:y,errorNamePrefix:c,newItem:s,setItemProperties:f,saveResources:(r,t)=>n(e.resourceReferences,t)},a)}export{v as save,d as saveAs};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{updateOrigins as t}from\"../../core/accessorSupport/originUtils.js\";import r from\"../../portal/Portal.js\";import o from\"../../portal/PortalItem.js\";import{createForItemWrite as a}from\"../../portal/support/jsonContext.js\";import{addTypeKeyword as i,TypeKeyword as n}from\"../../portal/support/portalItemUtils.js\";import{validateSaveAPIKey as s}from\"../../webdoc/saveAPIKeyUtils.js\";function l(t,r,o){const a=o(t);if(!a.isValid)throw new e(`${r}:invalid-parameters`,a.errorMessage,{layer:t})}async function p(e){const{layer:t,errorNamePrefix:r,validateLayer:o}=e;await t.load(),l(t,r,o)}function m(e,t){return`Layer (title: ${e.title}, id: ${e.id}) of type '${e.declaredClass}' ${t}`}function c(t){const{item:r,itemType:o,errorNamePrefix:a,layer:i,validateItem:n}=t;if(s(r),r.type!==o)throw new e(`${a}:portal-item-wrong-type`,`Portal item type should be \"${o}\"`,{item:r,layer:i});if(n){const t=n(r);if(!t.isValid)throw new e(`${a}:invalid-parameters`,t.errorMessage,{layer:i})}}function d(t){const{layer:r,errorNamePrefix:o}=t,{portalItem:a}=r;if(!a)throw new e(`${o}:portal-item-not-set`,m(r,\"requires the portalItem property to be set\"));if(!a.loaded)throw new e(`${o}:portal-item-not-loaded`,m(r,\"cannot be saved to a portal item that does not exist or is inaccessible\"));c({...t,item:a})}function u(e){const{newItem:t,itemType:a}=e;let i=o.from(t);return i.id&&(i=i.clone(),i.id=null),i.type??=a,i.portal??=r.getDefault(),c({...e,item:i}),i}function f(t,r){let o=(t.messages??[]).filter((({type:e})=>\"error\"===e)).map((({name:t,message:r,details:o})=>new e(t,r,o)));if(t.blockedRelativeUrls&&(o=o.concat(t.blockedRelativeUrls.map((t=>new e(\"url:unsupported\",`Relative url '${t}' is not supported`))))),r?.ignoreUnsupported&&(o=o.filter((({name:e})=>\"layer:unsupported\"!==e&&\"symbol:unsupported\"!==e&&\"symbol-layer:unsupported\"!==e&&\"property:unsupported\"!==e&&\"url:unsupported\"!==e))),o.length>0)throw new e(\"layer-write:unsupported\",\"Failed to save layer due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:o})}async function y(e,t,r){\"beforeSave\"in e&&\"function\"==typeof e.beforeSave&&await e.beforeSave();const o=e.write({},t);return await Promise.all(t.resources?.pendingOperations??[]),f(t,r),o}function w(e){i(e,n.JSAPI),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)))}async function v(e,t,r){const o=e.portal;await o.signIn(),await(o.user?.addItem({item:e,data:t,folder:r?.folder}))}async function I(e,r){const{layer:o,createItemData:i,createJSONContext:n,saveResources:s}=e;await p(e),d(e);const l=o.portalItem,m=n?n(l):a(l),c=await y(o,m,r),u=await i({layer:o,layerJSON:c},l);return w(l),await l.update({data:u}),t(m),await(s?.(l,m)),l}async function b(e,r){const{layer:o,createItemData:i,createJSONContext:n,setItemProperties:s,saveResources:l}=e;await p(e);const m=u(e),c=n?n(m):a(m),d=await y(o,c,r),f=await i({layer:o,layerJSON:d},m);return await s(o,m),w(m),await v(m,f,r),o.portalItem=m,t(c),await(l?.(m,c)),m}export{v as addItem,m as createErrorMessage,d as ensureItemConfig,l as ensureLayerConfig,y as getLayerJSON,u as getPortalItem,I as save,b as saveAs,w as setCommonItemProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{urlToObject as t}from\"../../core/urlUtils.js\";import r from\"../Portal.js\";function e(e){return{origin:\"portal-item\",url:t(e.itemUrl),portal:e.portal||r.getDefault(),portalItem:e,readResourcePaths:[]}}function o(e){const o=t(e.itemUrl);return{origin:\"portal-item\",messages:[],writtenProperties:[],url:o,portal:e.portal||r.getDefault(),portalItem:e,verifyItemRelativeUrls:o?{rootPath:o.path,writtenUrls:[]}:null,blockedRelativeUrls:[]}}function l(e){return{origin:\"web-map\",url:t(e.itemUrl),portal:e.portal||r.getDefault(),portalItem:e,readResourcePaths:[]}}function a(e,o){const l=t(e.itemUrl);return{origin:\"web-map\",messages:[],writtenProperties:[],url:l,portal:e.portal||r.getDefault(),portalItem:e,initiator:o,verifyItemRelativeUrls:l?{rootPath:l.path,writtenUrls:[]}:null,blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}}}export{l as createForGroupLayerItemRead,a as createForGroupLayerItemWrite,e as createForItemRead,o as createForItemWrite};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport o from\"../config.js\";import r from\"../core/Error.js\";import{supportsApiKey as p}from\"../support/apiKeyUtils.js\";function i(i){if(o.apiKey&&p(i.portal.url))throw new r(\"save-api-key-utils:api-key-not-supported\",`Saving is not supported on ${i.portal.url} when using an api key`)}export{i as validateSaveAPIKey};\n"],"names":["i","writtenProperties","forEach","_ref","target","t","propName","e","newOrigin","r","originOf","updateOrigin","u","c","l","s","GROUP_LAYER_MAP","p","isValid","type","errorMessage","m","a","concat","y","layerJSON","Promise","resolve","Object","keys","length","f","_x","_x2","_f","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","title","o","stop","v","_x3","_x4","_v","_callee3","_context3","abrupt","layer","itemType","validateLayer","validateItem","createJSONContext","createItemData","errorNamePrefix","saveResources","_saveResources","_callee2","_context2","t0","sourceIsPortalItem","removeAllResources","catch","n","resourceReferences","_x8","_x9","d","_x5","_x6","_x7","_d","_callee4","_context4","newItem","setItemProperties","_p","load","id","declaredClass","item","portalItem","loaded","_objectSpread","_i","_i$type","_i2","_i2$portal","from","clone","portal","getDefault","_t$messages","messages","filter","map","_ref2","name","message","details","blockedRelativeUrls","ignoreUnsupported","_ref3","errors","_y","_t$resources$pendingO","_t$resources","beforeSave","write","all","resources","pendingOperations","w","JSAPI","typeKeywords","indexOf","_o$user","signIn","user","addItem","data","folder","I","_I","sent","update","b","_x10","_x11","_b","_callee5","_context5","origin","url","itemUrl","readResourcePaths","verifyItemRelativeUrls","rootPath","path","writtenUrls","initiator","toAdd","toUpdate","toKeep","apiKey"],"sourceRoot":""}