{"version":3,"file":"static/js/3275.c7e8f041.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/accessorSupport/originUtils.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/layers/save/imageryUtils.js","../node_modules/@arcgis/core/layers/save/utils.js","../node_modules/@arcgis/core/portal/support/jsonContext.js","../node_modules/@arcgis/core/webdoc/saveAPIKeyUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i?.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}export{i as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getWGS84ExtentForItem as r,addTypeKeyword as a,TypeKeyword as i}from\"../../portal/support/portalItemUtils.js\";const s=\"Image Service\",l=\"imagery-layer-save\",y=\"imagery-layer-save-as\",n=\"imagery-tile-layer-save\",o=\"imagery-tile-layer-save-as\";function m(e){if(\"imagery\"===e.type)return{isValid:!0};const{raster:t}=e,r=\"Function\"===t?.datasetFormat?t.primaryRasters?.rasters[0]:t;return{isValid:\"RasterTileServer\"===r?.datasetFormat&&(\"Raster\"===r.tileType||\"Map\"===r.tileType),errorMessage:\"imagery tile layer should be created from a tiled image service.\"}}function c(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function p(e,t){const{parsedUrl:s,title:l,fullExtent:y}=e;t.url=s.path,t.title||=l,t.extent=await r(y),\"imagery-tile\"===e.type&&a(t,i.TILED_IMAGERY)}async function u(t,r){const a=\"imagery\"===t.type?l:n;return e({layer:t,itemType:s,validateLayer:m,createItemData:c,errorNamePrefix:a},r)}async function g(e,r,a){const i=\"imagery\"===e.type?y:o;return t({layer:e,itemType:s,validateLayer:m,createItemData:c,errorNamePrefix:i,newItem:r,setItemProperties:p},a)}export{u as save,g as saveAs};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{updateOrigins as t}from\"../../core/accessorSupport/originUtils.js\";import r from\"../../portal/Portal.js\";import o from\"../../portal/PortalItem.js\";import{createForItemWrite as a}from\"../../portal/support/jsonContext.js\";import{addTypeKeyword as i,TypeKeyword as n}from\"../../portal/support/portalItemUtils.js\";import{validateSaveAPIKey as s}from\"../../webdoc/saveAPIKeyUtils.js\";function l(t,r,o){const a=o(t);if(!a.isValid)throw new e(`${r}:invalid-parameters`,a.errorMessage,{layer:t})}async function p(e){const{layer:t,errorNamePrefix:r,validateLayer:o}=e;await t.load(),l(t,r,o)}function m(e,t){return`Layer (title: ${e.title}, id: ${e.id}) of type '${e.declaredClass}' ${t}`}function c(t){const{item:r,itemType:o,errorNamePrefix:a,layer:i,validateItem:n}=t;if(s(r),r.type!==o)throw new e(`${a}:portal-item-wrong-type`,`Portal item type should be \"${o}\"`,{item:r,layer:i});if(n){const t=n(r);if(!t.isValid)throw new e(`${a}:invalid-parameters`,t.errorMessage,{layer:i})}}function d(t){const{layer:r,errorNamePrefix:o}=t,{portalItem:a}=r;if(!a)throw new e(`${o}:portal-item-not-set`,m(r,\"requires the portalItem property to be set\"));if(!a.loaded)throw new e(`${o}:portal-item-not-loaded`,m(r,\"cannot be saved to a portal item that does not exist or is inaccessible\"));c({...t,item:a})}function u(e){const{newItem:t,itemType:a}=e;let i=o.from(t);return i.id&&(i=i.clone(),i.id=null),i.type??=a,i.portal??=r.getDefault(),c({...e,item:i}),i}function f(t,r){let o=(t.messages??[]).filter((({type:e})=>\"error\"===e)).map((({name:t,message:r,details:o})=>new e(t,r,o)));if(t.blockedRelativeUrls&&(o=o.concat(t.blockedRelativeUrls.map((t=>new e(\"url:unsupported\",`Relative url '${t}' is not supported`))))),r?.ignoreUnsupported&&(o=o.filter((({name:e})=>\"layer:unsupported\"!==e&&\"symbol:unsupported\"!==e&&\"symbol-layer:unsupported\"!==e&&\"property:unsupported\"!==e&&\"url:unsupported\"!==e))),o.length>0)throw new e(\"layer-write:unsupported\",\"Failed to save layer due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:o})}async function y(e,t,r){\"beforeSave\"in e&&\"function\"==typeof e.beforeSave&&await e.beforeSave();const o=e.write({},t);return await Promise.all(t.resources?.pendingOperations??[]),f(t,r),o}function w(e){i(e,n.JSAPI),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)))}async function v(e,t,r){const o=e.portal;await o.signIn(),await(o.user?.addItem({item:e,data:t,folder:r?.folder}))}async function I(e,r){const{layer:o,createItemData:i,createJSONContext:n,saveResources:s}=e;await p(e),d(e);const l=o.portalItem,m=n?n(l):a(l),c=await y(o,m,r),u=await i({layer:o,layerJSON:c},l);return w(l),await l.update({data:u}),t(m),await(s?.(l,m)),l}async function b(e,r){const{layer:o,createItemData:i,createJSONContext:n,setItemProperties:s,saveResources:l}=e;await p(e);const m=u(e),c=n?n(m):a(m),d=await y(o,c,r),f=await i({layer:o,layerJSON:d},m);return await s(o,m),w(m),await v(m,f,r),o.portalItem=m,t(c),await(l?.(m,c)),m}export{v as addItem,m as createErrorMessage,d as ensureItemConfig,l as ensureLayerConfig,y as getLayerJSON,u as getPortalItem,I as save,b as saveAs,w as setCommonItemProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{urlToObject as t}from\"../../core/urlUtils.js\";import r from\"../Portal.js\";function e(e){return{origin:\"portal-item\",url:t(e.itemUrl),portal:e.portal||r.getDefault(),portalItem:e,readResourcePaths:[]}}function o(e){const o=t(e.itemUrl);return{origin:\"portal-item\",messages:[],writtenProperties:[],url:o,portal:e.portal||r.getDefault(),portalItem:e,verifyItemRelativeUrls:o?{rootPath:o.path,writtenUrls:[]}:null,blockedRelativeUrls:[]}}function l(e){return{origin:\"web-map\",url:t(e.itemUrl),portal:e.portal||r.getDefault(),portalItem:e,readResourcePaths:[]}}function a(e,o){const l=t(e.itemUrl);return{origin:\"web-map\",messages:[],writtenProperties:[],url:l,portal:e.portal||r.getDefault(),portalItem:e,initiator:o,verifyItemRelativeUrls:l?{rootPath:l.path,writtenUrls:[]}:null,blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}}}export{l as createForGroupLayerItemRead,a as createForGroupLayerItemWrite,e as createForItemRead,o as createForItemWrite};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport o from\"../config.js\";import r from\"../core/Error.js\";import{supportsApiKey as p}from\"../support/apiKeyUtils.js\";function i(i){if(o.apiKey&&p(i.portal.url))throw new r(\"save-api-key-utils:api-key-not-supported\",`Saving is not supported on ${i.portal.url} when using an api key`)}export{i as validateSaveAPIKey};\n"],"names":["i","writtenProperties","forEach","_ref","target","t","propName","e","newOrigin","r","originOf","updateOrigin","s","l","y","n","o","m","_t$primaryRasters","type","isValid","raster","datasetFormat","primaryRasters","rasters","tileType","errorMessage","c","layerJSON","Promise","resolve","Object","keys","length","p","_x","_x2","_p","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","parsedUrl","title","fullExtent","url","path","extent","sent","a","TILED_IMAGERY","stop","u","_x3","_x4","_u","_callee2","_context2","abrupt","layer","itemType","validateLayer","createItemData","errorNamePrefix","g","_x5","_x6","_x7","_g","_callee3","_context3","newItem","setItemProperties","concat","load","id","declaredClass","item","validateItem","d","portalItem","loaded","_objectSpread","_i","_i$type","_i2","_i2$portal","from","clone","portal","getDefault","f","_t$messages","messages","filter","map","_ref2","name","message","details","blockedRelativeUrls","ignoreUnsupported","_ref3","errors","_y","_t$resources$pendingO","_t$resources","t0","beforeSave","write","all","resources","pendingOperations","w","JSAPI","typeKeywords","indexOf","v","_v","_o$user","signIn","user","addItem","data","folder","I","_x8","_x9","_I","_callee4","_context4","createJSONContext","saveResources","update","b","_x10","_x11","_b","_callee5","_context5","origin","itemUrl","readResourcePaths","verifyItemRelativeUrls","rootPath","writtenUrls","initiator","toAdd","toUpdate","toKeep","apiKey"],"sourceRoot":""}