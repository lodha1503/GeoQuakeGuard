"use strict";(self.webpackChunkamit_kumar_rathi=self.webpackChunkamit_kumar_rathi||[]).push([[718],{718:function(e,n,t){t.r(n),t.d(n,{registerFunctions:function(){return j}});var a=t(74165),r=t(37762),i=t(15861),s=t(51064),l=t(72741),u=t(62357),o=t(22564),c=t(5431),f=t(97879),d=t(12260),p=t(97246),m=t(44715),b=t(93249),h=t(12829),y=t(67820),x=t(89066),v=t(45184),w=t(73954),k=t(84272),g=t(82279),F=t(29876),I=t(65247),Z=t(93106),D=t(66978),E=t(54054),T=t(64326),N=t(83040),C=t(7575);function S(e,n,t,a){if(1===a.length){if((0,m.o)(a[0]))return(0,Z.t)(e,a[0],-1);if((0,m.q)(a[0]))return(0,Z.t)(e,a[0].toArray(),-1)}return(0,Z.t)(e,a,-1)}function A(e,n,t){return L.apply(this,arguments)}function L(){return(L=(0,i.Z)((0,a.Z)().mark((function e(n,t,r){var i,s,l,u,o,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((i=n.getVariables()).length>0)){e.next=17;break}s=[],l=0;case 4:if(!(l<i.length)){e.next=14;break}return u={name:i[l]},e.t0=s,e.next=9,t.evaluateIdentifier(r,u);case 9:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 11:l++,e.next=4;break;case 14:for(o={},c=0;c<i.length;c++)o[i[c]]=s[c];return e.abrupt("return",(n.parameters=o,n));case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(var a in e)if(a.toLowerCase()===n.toLowerCase())return e[a];return t}function P(e){if(null===e)return null;var n={type:H(e,"type",""),name:H(e,"name","")};if("range"===n.type)n.range=H(e,"range",[]);else{n.codedValues=[];var t,a=(0,r.Z)(H(e,"codedValues",[]));try{for(a.s();!(t=a.n()).done;){var i=t.value;n.codedValues.push({name:H(i,"name",""),code:H(i,"code",null)})}}catch(s){a.e(s)}finally{a.f()}}return n}function V(e){if(null===e)return null;var n={},t=H(e,"wkt",null);null!==t&&(n.wkt=t);var a=H(e,"wkid",null);return null!==a&&(n.wkid=a),n}function W(e){if(null===e)return null;var n={hasZ:H(e,"hasz",!1),hasM:H(e,"hasm",!1)},t=H(e,"spatialreference",null);t&&(n.spatialReference=V(t));var a=H(e,"x",null);if(null!==a)return n.x=a,n.y=H(e,"y",null),n;var r=H(e,"rings",null);if(null!==r)return n.rings=r,n;var i=H(e,"paths",null);if(null!==i)return n.paths=i,n;var s=H(e,"points",null);if(null!==s)return n.points=s,n;for(var l=0,u=["xmin","xmax","ymin","ymax","zmin","zmax","mmin","mmax"];l<u.length;l++){var o=u[l],c=H(e,o,null);null!==c&&(n[o]=c)}return n}function R(e){return!!e.layerDefinition&&!!e.featureSet&&!1!==function(e,n){var t,a=(0,r.Z)(n);try{for(a.s();!(t=a.n()).done;)if(t.value===e)return!0}catch(i){a.e(i)}finally{a.f()}return!1}(e.layerDefinition.geometryType,["",null,"esriGeometryNull","esriGeometryPoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultipoint","esriGeometryEnvelope"])&&!1!==(0,m.o)(e.layerDefinition.fields)&&!1!==(0,m.o)(e.featureSet.features)}function U(e){return"utc"===(null===e||void 0===e?void 0:e.toLowerCase())?"UTC":"unknown"===(null===e||void 0===e?void 0:e.toLowerCase())?"Unknown":e}function j(e){"async"===e.mode&&(e.functions.timezone=function(n,t){return e.standardFunctionAsync(n,t,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,l){var c,f,d,p,b,h,y;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,m.E)(l,1,2,n,t),!(0,m.n)(l[0])){e.next=2;break}return e.abrupt("return","Unknown");case 2:if(!(0,m.m)(l[0])){e.next=4;break}return e.abrupt("return","Unknown");case 4:if(!(0,m.u)(l[0])){e.next=23;break}return e.next=7,l[0].load();case 7:if(1!==l.length&&null!==l[1]){e.next=9;break}return e.abrupt("return",l[0].datesInUnknownTimezone?U("unknown"):U(l[0].dateFieldsTimeZone));case 9:if(l[1]instanceof u.Z&&!1!==l[1].hasField("type")){e.next=11;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 11:if(b=l[1].field("type"),!1!==(0,m.c)(b)){e.next=14;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 14:e.t0=(0,m.j)(b).toLowerCase(),e.next="preferredtimezone"===e.t0?17:"editfieldsinfo"===e.t0?18:"timeinfo"===e.t0?19:"field"===e.t0?20:22;break;case 17:return e.abrupt("return",U(l[0].preferredTimeZone));case 18:return e.abrupt("return",U(null!==(c=null===(f=l[0].editFieldsInfo)||void 0===f?void 0:f.timeZone)&&void 0!==c?c:null));case 19:return e.abrupt("return",U(null!==(d=null===(p=l[0].timeInfo)||void 0===p?void 0:p.timeZone)&&void 0!==d?d:null));case 20:if(!l[1].hasField("fieldname")||!(0,m.c)(l[1].field("fieldname"))){e.next=22;break}return e.abrupt("return",U(l[0].fieldTimeZone((0,m.j)(l[1].field("fieldname")))));case 22:throw new o.aV(n,o.rH.InvalidParameter,t);case 23:if(null!==(h=(0,m.l)(l[0],(0,m.L)(n)))){e.next=26;break}return e.abrupt("return",null);case 26:return y=h.timeZone,e.abrupt("return","system"===y?s.iG.systemTimeZoneCanonicalName:"utc"===y.toLowerCase()?"UTC":"unknown"===y.toLowerCase()?"Unknown":y);case 28:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}())},e.functions.sqltimestamp=function(n,t){return e.standardFunctionAsync(n,t,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,s){var l,u,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,m.E)(s,1,3,n,t),l=s[0],!(0,m.k)(l)){e.next=8;break}if(1!==s.length){e.next=5;break}return e.abrupt("return",l.toSQLWithKeyword());case 5:if(2!==s.length){e.next=7;break}return e.abrupt("return",l.changeTimeZone((0,m.j)(s[1])).toSQLWithKeyword());case 7:case 22:throw new o.aV(n,o.rH.InvalidParameter,t);case 8:if(!(0,m.m)(l)){e.next=10;break}return e.abrupt("return",l.toSQLWithKeyword());case 10:if(!(0,m.u)(l)){e.next=22;break}if(3===s.length){e.next=13;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 13:return e.next=15,l.load();case 15:if(u=(0,m.j)(s[1]),!(0,m.m)(s[2])){e.next=18;break}return e.abrupt("return",s[2].toSQLWithKeyword());case 18:if(!1!==(0,m.k)(s[2])){e.next=20;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 20:return c=l.fieldTimeZone(u),e.abrupt("return",null===c?s[2].toSQLWithKeyword():s[2].changeTimeZone(c).toSQLWithKeyword());case 23:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"sqltimestamp",min:2,max:4}),e.functions.featuresetbyid=function(n,t){return e.standardFunctionAsync(n,t,(function(e,a,r){if((0,m.E)(r,2,4,n,t),r[0]instanceof f.Z){var i=(0,m.j)(r[1]),s=(0,m.H)(r[2],null),l=(0,m.h)((0,m.H)(r[3],!0));if(null===s&&(s=["*"]),!1===(0,m.o)(s))throw new o.aV(n,o.rH.InvalidParameter,t);return r[0].featureSetById(i,l,s)}throw new o.aV(n,o.rH.InvalidParameter,t)}))},e.signatures.push({name:"featuresetbyid",min:2,max:4}),e.functions.getfeatureset=function(n,t){return e.standardFunctionAsync(n,t,(function(e,a,r){if((0,m.E)(r,1,2,n,t),(0,m.r)(r[0])){var i=(0,m.H)(r[1],"datasource");return null===i&&(i="datasource"),i=(0,m.j)(i).toLowerCase(),(0,d.convertToFeatureSet)(r[0].fullSchema(),i,n.lrucache,n.interceptor,n.spatialReference)}throw new o.aV(n,o.rH.InvalidParameter,t)}))},e.signatures.push({name:"getfeatureset",min:1,max:2}),e.functions.featuresetbyportalitem=function(n,t){return e.standardFunctionAsync(n,t,(function(e,a,r){var i,s;if((0,m.E)(r,2,5,n,t),null===r[0])throw new o.aV(n,o.rH.PortalRequired,t);if(r[0]instanceof l.Z){var u,c=(0,m.j)(r[1]),f=(0,m.j)(r[2]),p=(0,m.H)(r[3],null),h=(0,m.h)((0,m.H)(r[4],!0));if(null===p&&(p=["*"]),!1===(0,m.o)(p))throw new o.aV(n,o.rH.InvalidParameter,t);var y=null;return y=null!==(u=n.services)&&void 0!==u&&u.portal?n.services.portal:C.Z.getDefault(),y=(0,b._)(r[0],y),(0,d.constructFeatureSetFromPortalItem)(c,f,n.spatialReference,p,h,y,n.lrucache,n.interceptor)}if(!1===(0,m.c)(r[0]))throw new o.aV(n,o.rH.PortalRequired,t);var x=(0,m.j)(r[0]),v=(0,m.j)(r[1]),w=(0,m.H)(r[2],null),k=(0,m.h)((0,m.H)(r[3],!0));if(null===w&&(w=["*"]),!1===(0,m.o)(w))throw new o.aV(n,o.rH.InvalidParameter,t);return(0,d.constructFeatureSetFromPortalItem)(x,v,n.spatialReference,w,k,null!==(i=null===(s=n.services)||void 0===s?void 0:s.portal)&&void 0!==i?i:C.Z.getDefault(),n.lrucache,n.interceptor)}))},e.signatures.push({name:"featuresetbyportalitem",min:2,max:5}),e.functions.featuresetbyname=function(n,t){return e.standardFunctionAsync(n,t,(function(e,a,r){if((0,m.E)(r,2,4,n,t),r[0]instanceof f.Z){var i=(0,m.j)(r[1]),s=(0,m.H)(r[2],null),l=(0,m.h)((0,m.H)(r[3],!0));if(null===s&&(s=["*"]),!1===(0,m.o)(s))throw new o.aV(n,o.rH.InvalidParameter,t);return r[0].featureSetByName(i,l,s)}throw new o.aV(n,o.rH.InvalidParameter,t)}))},e.signatures.push({name:"featuresetbyname",min:2,max:4}),e.functions.featureset=function(n,t){return e.standardFunction(n,t,(function(e,a,i){var s;(0,m.E)(i,1,1,n,t);var l=i[0],c={layerDefinition:{geometryType:"",objectIdField:"",hasM:!1,hasZ:!1,globalIdField:"",typeIdField:"",fields:[]},featureSet:{geometryType:"",features:[]}};if((0,m.c)(l))void 0!==(l=JSON.parse(l)).layerDefinition?(c.layerDefinition=l.layerDefinition,c.featureSet=l.featureSet,l.layerDefinition.spatialReference&&(c.layerDefinition.spatialReference=l.layerDefinition.spatialReference)):(c.featureSet.features=l.features,c.featureSet.geometryType=l.geometryType,c.layerDefinition.geometryType=c.featureSet.geometryType,c.layerDefinition.objectIdField=null!==(s=l.objectIdFieldName)&&void 0!==s?s:"",c.layerDefinition.typeIdField=l.typeIdFieldName,c.layerDefinition.globalIdField=l.globalIdFieldName,c.layerDefinition.fields=l.fields,l.spatialReference&&(c.layerDefinition.spatialReference=l.spatialReference));else{if(!(i[0]instanceof u.Z))throw new o.aV(n,o.rH.InvalidParameter,t);var f=H(l=JSON.parse(i[0].castToText(!0)),"layerdefinition");if(null!==f){c.layerDefinition.geometryType=H(f,"geometrytype",""),c.featureSet.geometryType=c.layerDefinition.geometryType,c.layerDefinition.globalIdField=H(f,"globalidfield",""),c.layerDefinition.objectIdField=H(f,"objectidfield",""),c.layerDefinition.typeIdField=H(f,"typeidfield",""),c.layerDefinition.hasZ=!0===H(f,"hasz",!1),c.layerDefinition.hasM=!0===H(f,"hasm",!1);var d=H(f,"spatialreference",null);d&&(c.layerDefinition.spatialReference=V(d));var p,b=(0,r.Z)(H(f,"fields",[]));try{for(b.s();!(p=b.n()).done;){var h=p.value,y={name:H(h,"name",""),alias:H(h,"alias",""),type:H(h,"type",""),nullable:H(h,"nullable",!0),editable:H(h,"editable",!0),length:H(h,"length",null),domain:P(H(h,"domain"))};c.layerDefinition.fields.push(y)}}catch($){b.e($)}finally{b.f()}var x=H(l,"featureset",null);if(x){var v,w={},g=(0,r.Z)(c.layerDefinition.fields);try{for(g.s();!(v=g.n()).done;){var F=v.value;w[F.name.toLowerCase()]=F.name}}catch($){g.e($)}finally{g.f()}var I,Z=(0,r.Z)(H(x,"features",[]));try{for(Z.s();!(I=Z.n()).done;){var D=I.value,E={},T=H(D,"attributes",{});for(var N in T)E[w[N.toLowerCase()]]=T[N];c.featureSet.features.push({attributes:E,geometry:W(H(D,"geometry",null))})}}catch($){Z.e($)}finally{Z.f()}}}else{c.layerDefinition.hasZ=!0===H(l,"hasz",!1),c.layerDefinition.hasM=!0===H(l,"hasm",!1),c.layerDefinition.geometryType=H(l,"geometrytype",""),c.featureSet.geometryType=c.layerDefinition.geometryType,c.layerDefinition.objectIdField=H(l,"objectidfieldname",""),c.layerDefinition.typeIdField=H(l,"typeidfieldname","");var C=H(l,"spatialreference",null);C&&(c.layerDefinition.spatialReference=V(C));var S=H(l,"fields",null);if((0,m.o)(S)){var A,L=(0,r.Z)(S);try{for(L.s();!(A=L.n()).done;){var U=A.value,j={name:H(U,"name",""),alias:H(U,"alias",""),type:H(U,"type",""),nullable:H(U,"nullable",!0),editable:H(U,"editable",!0),length:H(U,"length",null),domain:P(H(U,"domain"))};c.layerDefinition.fields.push(j)}}catch($){L.e($)}finally{L.f()}}else S=null,c.layerDefinition.fields=S;var M,O={},z=(0,r.Z)(c.layerDefinition.fields);try{for(z.s();!(M=z.n()).done;){var _=M.value;O[_.name.toLowerCase()]=_.name}}catch($){z.e($)}finally{z.f()}var X=H(l,"features",null);if((0,m.o)(X)){var G,q=(0,r.Z)(X);try{for(q.s();!(G=q.n()).done;){var Q=G.value,K={},B=H(Q,"attributes",{});for(var J in B)K[O[J.toLowerCase()]]=B[J];c.featureSet.features.push({attributes:K,geometry:W(H(Q,"geometry",null))})}}catch($){q.e($)}finally{q.f()}}else X=null,c.featureSet.features=X}}if(!1===R(c))throw new o.aV(n,o.rH.InvalidParameter,t);return c.layerDefinition.geometryType||(c.layerDefinition.geometryType="esriGeometryNull"),k.Z.create(c,n.spatialReference)}))},e.signatures.push({name:"featureset",min:1,max:1}),e.functions.filter=function(n,t){return e.standardFunctionAsync(n,t,function(){var s=(0,i.Z)((0,a.Z)().mark((function i(s,l,u){var c,f,d,b,h,x,v,w,k,g,F,I,Z,T,N;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((0,m.E)(u,2,2,n,t),!(0,m.o)(u[0])&&!(0,m.q)(u[0])){a.next=36;break}if(c=[],(f=u[0])instanceof p.Z&&(f=f.toArray()),d=null,(0,m.i)(u[1])){a.next=7;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 7:d=u[1].createFunction(n),b=(0,r.Z)(f),a.prev=9,b.s();case 11:if((h=b.n()).done){a.next=27;break}if(x=h.value,v=d(x),!(0,D.y8)(v)){a.next=24;break}return a.t0=!0,a.next=18,v;case 18:if(a.t1=a.sent,a.t2=a.t0===a.t1,!a.t2){a.next=22;break}c.push(x);case 22:a.next=25;break;case 24:!0===v&&c.push(x);case 25:a.next=11;break;case 27:a.next=32;break;case 29:a.prev=29,a.t3=a.catch(9),b.e(a.t3);case 32:return a.prev=32,b.f(),a.finish(32);case 35:return a.abrupt("return",c);case 36:if(!(0,m.u)(u[0])){a.next=59;break}return a.next=39,u[0].load();case 39:if(w=a.sent,k=E.WhereClause.create(u[1],w.getFieldsIndex(),w.dateFieldsTimeZoneDefaultUTC),!((g=k.getVariables()).length>0)){a.next=58;break}F=[],I=0;case 45:if(!(I<g.length)){a.next=55;break}return Z={name:g[I]},a.t4=F,a.next=50,e.evaluateIdentifier(n,Z);case 50:a.t5=a.sent,a.t4.push.call(a.t4,a.t5);case 52:I++,a.next=45;break;case 55:for(T={},N=0;N<g.length;N++)T[g[N]]=F[N];return a.abrupt("return",(k.parameters=T,new y.Z({parentfeatureset:u[0],whereclause:k})));case 58:return a.abrupt("return",new y.Z({parentfeatureset:u[0],whereclause:k}));case 59:throw new o.aV(n,o.rH.InvalidParameter,t);case 60:case"end":return a.stop()}}),i,null,[[9,29,32,35]])})));return function(e,n,t){return s.apply(this,arguments)}}())},e.signatures.push({name:"filter",min:2,max:2}),e.functions.orderby=function(n,t){return e.standardFunctionAsync(n,t,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,s){var l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,m.E)(s,2,2,n,t),!(0,m.u)(s[0])){e.next=3;break}return l=new g.Z(s[1]),e.abrupt("return",new x.Z({parentfeatureset:s[0],orderbyclause:l}));case 3:throw new o.aV(n,o.rH.InvalidParameter,t);case 4:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"orderby",min:2,max:2}),e.functions.top=function(n,t){return e.standardFunctionAsync(n,t,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,s){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,m.E)(s,2,2,n,t),!(0,m.u)(s[0])){e.next=2;break}return e.abrupt("return",new v.Z({parentfeatureset:s[0],topnum:s[1]}));case 2:if(!(0,m.o)(s[0])){e.next=4;break}return e.abrupt("return",(0,m.g)(s[1])>=s[0].length?s[0].slice(0):s[0].slice(0,(0,m.g)(s[1])));case 4:if(!(0,m.q)(s[0])){e.next=6;break}return e.abrupt("return",(0,m.g)(s[1])>=s[0].length()?s[0].slice(0):s[0].slice(0,(0,m.g)(s[1])));case 6:throw new o.aV(n,o.rH.InvalidParameter,t);case 7:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"top",min:2,max:2}),e.functions.first=function(n,t){return e.standardFunctionAsync(n,t,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,s){var l,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,m.E)(s,1,1,n,t),!(0,m.u)(s[0])){e.next=8;break}return e.next=3,s[0].first(r.abortSignal);case 3:if(null===(l=e.sent)){e.next=7;break}return u=c.Z.createFromGraphicLikeObject(l.geometry,l.attributes,s[0],n.timeZone),e.abrupt("return",(u._underlyingGraphic=l,u));case 7:return e.abrupt("return",l);case 8:return e.abrupt("return",(0,m.o)(s[0])?0===s[0].length?null:s[0][0]:(0,m.q)(s[0])?0===s[0].length()?null:s[0].get(0):null);case 9:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"first",min:1,max:1}),e.functions.attachments=function(n,t){return e.standardFunctionAsync(n,t,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,s){var l,c,f;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,m.E)(s,1,2,n,t),l={minsize:-1,maxsize:-1,types:null,returnMetadata:!1},!(s.length>1)){e.next=9;break}if(!(s[1]instanceof u.Z)){e.next=7;break}s[1].hasField("minsize")&&(l.minsize=(0,m.g)(s[1].field("minsize"))),s[1].hasField("metadata")&&(l.returnMetadata=(0,m.h)(s[1].field("metadata"))),s[1].hasField("maxsize")&&(l.maxsize=(0,m.g)(s[1].field("maxsize"))),s[1].hasField("types")&&(c=(0,m.a2)(s[1].field("types"),!1)).length>0&&(l.types=c),e.next=9;break;case 7:if(null===s[1]){e.next=9;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 9:if(!(0,m.r)(s[0])){e.next=25;break}if((f=s[0]._layer)instanceof T.default&&(f=(0,d.constructFeatureSet)(f,n.spatialReference,["*"],!0,n.lrucache,n.interceptor)),null!==f){e.next=16;break}e.t0=[],e.next=24;break;case 16:if(!1!==(0,m.u)(f)){e.next=20;break}e.t1=[],e.next=23;break;case 20:return e.next=22,f.load();case 22:e.t1=f.queryAttachments(s[0].field(f.objectIdField),l.minsize,l.maxsize,l.types,l.returnMetadata);case 23:e.t0=e.t1;case 24:return e.abrupt("return",e.t0);case 25:if(null!==s[0]){e.next=27;break}return e.abrupt("return",[]);case 27:throw new o.aV(n,o.rH.InvalidParameter,t);case 28:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"attachments",min:1,max:2}),e.functions.featuresetbyrelationshipname=function(n,t){return e.standardFunctionAsync(n,t,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,s){var l,u,c,f,p,b,h,y,x,v,k,g;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,m.E)(s,2,4,n,t),l=s[0],u=(0,m.j)(s[1]),c=(0,m.H)(s[2],null),f=(0,m.h)((0,m.H)(s[3],!0)),null===c&&(c=["*"]),!1!==(0,m.o)(c)){e.next=6;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 6:if(null!==s[0]){e.next=8;break}return e.abrupt("return",null);case 8:if((0,m.r)(s[0])){e.next=10;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 10:if((p=l._layer)instanceof T.default&&(p=(0,d.constructFeatureSet)(p,n.spatialReference,["*"],!0,n.lrucache,n.interceptor)),null!==p){e.next=13;break}return e.abrupt("return",null);case 13:if(!1!==(0,m.u)(p)){e.next=15;break}return e.abrupt("return",null);case 15:return e.next=17,p.load();case 17:if(p=e.sent,b=p.relationshipMetaData().filter((function(e){return e.name===u})),0!==b.length){e.next=21;break}return e.abrupt("return",null);case 21:if(!(void 0!==b[0].relationshipTableId&&null!==b[0].relationshipTableId&&b[0].relationshipTableId>-1)){e.next=23;break}return e.abrupt("return",(0,d.constructFeatureSetFromRelationship)(p,b[0],l.field(p.objectIdField),p.spatialReference,c,f,n.lrucache,n.interceptor));case 23:if(h=p.serviceUrl()){e.next=26;break}return e.abrupt("return",null);case 26:return h="/"===h.charAt(h.length-1)?h+b[0].relatedTableId.toString():h+"/"+b[0].relatedTableId.toString(),e.next=29,(0,d.constructFeatureSetFromUrl)(h,p.spatialReference,c,f,n.lrucache,n.interceptor);case 29:return y=e.sent,e.next=32,y.load();case 32:if(x=(x=y.relationshipMetaData()).filter((function(e){return e.id===b[0].id})),!1!==l.hasField(b[0].keyField)&&null!==l.field(b[0].keyField)){e.next=41;break}return e.next=36,p.getFeatureByObjectId(l.field(p.objectIdField),[b[0].keyField]);case 36:if(!(v=e.sent)){e.next=40;break}return k=E.WhereClause.create(x[0].keyField+"= @id",y.getFieldsIndex(),y.dateFieldsTimeZoneDefaultUTC),e.abrupt("return",(k.parameters={id:v.attributes[b[0].keyField]},y.filter(k)));case 40:return e.abrupt("return",new w.Z({parentfeatureset:y}));case 41:return g=E.WhereClause.create(x[0].keyField+"= @id",y.getFieldsIndex(),y.dateFieldsTimeZoneDefaultUTC),e.abrupt("return",(g.parameters={id:l.field(b[0].keyField)},y.filter(g)));case 43:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"featuresetbyrelationshipname",min:2,max:4}),e.functions.featuresetbyassociation=function(n,t){return e.standardFunctionAsync(n,t,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(i,s,l){var u,c,f,p,b,y,x,v,w,k,g,I,Z,D,C,S,A,L,H,P,V,W,R,U,j,M,O,z,_,X,G,q,Q,K,B,J,$,Y,ee,ne,te;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,m.E)(l,2,3,n,t),u=l[0],c=(0,m.j)((0,m.H)(l[1],"")).toLowerCase(),f=(0,m.c)(l[2])?(0,m.j)(l[2]):null,null!==l[0]){e.next=4;break}return e.abrupt("return",null);case 4:if((0,m.r)(l[0])){e.next=6;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 6:if((p=u._layer)instanceof T.default&&(p=(0,d.constructFeatureSet)(p,n.spatialReference,["*"],!0,n.lrucache,n.interceptor)),null!==p){e.next=9;break}return e.abrupt("return",null);case 9:if(!1!==(0,m.u)(p)){e.next=11;break}return e.abrupt("return",null);case 11:return e.next=13,p.load();case 13:return b=p.serviceUrl(),e.next=16,(0,d.constructAssociationMetaDataFeatureSetFromUrl)(b,n.spatialReference);case 16:if(y=e.sent,x=null,v=null,w=!1,null!==f&&""!==f&&void 0!==f){k=(0,r.Z)(y.terminals);try{for(k.s();!(g=k.n()).done;)(I=g.value).terminalName===f&&(v=I.terminalId)}catch(a){k.e(a)}finally{k.f()}null===v&&(w=!0)}Z=y.associations.getFieldsIndex(),D=Z.get("TOGLOBALID").name,C=Z.get("FROMGLOBALID").name,S=Z.get("TOTERMINALID").name,A=Z.get("FROMTERMINALID").name,L=Z.get("FROMNETWORKSOURCEID").name,H=Z.get("TONETWORKSOURCEID").name,P=Z.get("ASSOCIATIONTYPE").name,V=Z.get("ISCONTENTVISIBLE").name,W=Z.get("OBJECTID").name,R=(0,r.Z)(p.fields),e.prev=21,R.s();case 23:if((U=R.n()).done){e.next=30;break}if("global-id"!==(j=U.value).type){e.next=28;break}return x=u.field(j.name),e.abrupt("break",30);case 28:e.next=23;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(21),R.e(e.t0);case 35:return e.prev=35,R.f(),e.finish(35);case 38:for(q in M=null,O=new h.yN(new N.Z({name:"percentalong",alias:"percentalong",type:"double"}),E.WhereClause.create("0",y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC)),z=new h.yN(new N.Z({name:"side",alias:"side",type:"string"}),E.WhereClause.create("''",y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC)),_="globalid",X="globalId",G={},y.lkp)G[q]=y.lkp[q].sourceId;Q=new h.TO(new N.Z({name:"classname",alias:"classname",type:"string"}),null,G),K="",e.t1=c,e.next="midspan"===e.t1?46:"junctionedge"===e.t1?50:"connected"===e.t1?54:"container"===e.t1?59:"content"===e.t1?61:"structure"===e.t1?63:"attached"===e.t1?65:67;break;case 46:return K="((".concat(D,"='").concat(x,"') OR ( ").concat(C,"='").concat(x,"')) AND (").concat(P," IN (5))"),Q.codefield=E.WhereClause.create("CASE WHEN (".concat(D,"='").concat(x,"') THEN ").concat(L," ELSE ").concat(H," END"),y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC),(B=(0,F.JW)(h.Xx.findField(y.associations.fields,C))).name=_,B.alias=_,M=new h.yN(B,E.WhereClause.create("CASE WHEN (".concat(C,"='").concat(x,"') THEN ").concat(D," ELSE ").concat(C," END"),y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC)),O=y.unVersion>=4?new h.$X(h.Xx.findField(y.associations.fields,Z.get("PERCENTALONG").name)):new h.yN(new N.Z({name:"percentalong",alias:"percentalong",type:"double"}),E.WhereClause.create("0",y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC)),e.abrupt("break",68);case 50:return K="((".concat(D,"='").concat(x,"') OR ( ").concat(C,"='").concat(x,"')) AND (").concat(P," IN (4,6))"),Q.codefield=E.WhereClause.create("CASE WHEN (".concat(D,"='").concat(x,"') THEN ").concat(L," ELSE ").concat(H," END"),y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC),(J=(0,F.JW)(h.Xx.findField(y.associations.fields,C))).name=_,J.alias=_,M=new h.yN(J,E.WhereClause.create("CASE WHEN (".concat(C,"='").concat(x,"') THEN ").concat(D," ELSE ").concat(C," END"),y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC)),z=new h.yN(new N.Z({name:"side",alias:"side",type:"string"}),E.WhereClause.create("CASE WHEN (".concat(P,"=4) THEN 'from' ELSE 'to' END"),y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC)),e.abrupt("break",68);case 54:return ee="".concat(D,"='@T'"),ne="".concat(C,"='@T'"),null!==v&&(ee+=" AND ".concat(S,"=@A"),ne+=" AND ".concat(A,"=@A")),K="(("+ee+") OR ("+ne+"))",K=(0,m.S)(K,"@T",null!==($=x)&&void 0!==$?$:""),ee=(0,m.S)(ee,"@T",null!==(Y=x)&&void 0!==Y?Y:""),null!==v&&(ee=(0,m.S)(ee,"@A",v.toString()),K=(0,m.S)(K,"@A",v.toString())),Q.codefield=E.WhereClause.create("CASE WHEN "+ee+" THEN ".concat(L," ELSE ").concat(H," END"),y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC),(te=(0,F.JW)(h.Xx.findField(y.associations.fields,C))).name=_,te.alias=_,M=new h.yN(te,E.WhereClause.create("CASE WHEN "+ee+" THEN ".concat(C," ELSE ").concat(D," END"),y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC)),e.abrupt("break",68);case 59:return K="".concat(D,"='").concat(x,"' AND ").concat(P," = 2"),null!==v&&(K+=" AND ".concat(S," = ")+v.toString()),Q.codefield=L,K="( "+K+" )",M=new h.QP(h.Xx.findField(y.associations.fields,C),_,_),e.abrupt("break",68);case 61:return K="(".concat(C,"='").concat(x,"' AND ").concat(P," = 2)"),null!==v&&(K+=" AND ".concat(A," = ")+v.toString()),Q.codefield=H,K="( "+K+" )",M=new h.QP(h.Xx.findField(y.associations.fields,D),_,_),e.abrupt("break",68);case 63:return K="(".concat(D,"='").concat(x,"' AND ").concat(P," = 3)"),null!==v&&(K+=" AND ".concat(S," = ")+v.toString()),Q.codefield=L,K="( "+K+" )",M=new h.QP(h.Xx.findField(y.associations.fields,C),_,X),e.abrupt("break",68);case 65:return K="(".concat(C,"='").concat(x,"' AND ").concat(P," = 3)"),null!==v&&(K+=" AND ".concat(A," = ")+v.toString()),Q.codefield=H,K="( "+K+" )",M=new h.QP(h.Xx.findField(y.associations.fields,D),_,X),e.abrupt("break",68);case 67:throw new o.aV(n,o.rH.InvalidParameter,t);case 68:return w&&(K="1 <> 1"),e.abrupt("return",new h.Xx({parentfeatureset:y.associations,adaptedFields:[new h.$X(h.Xx.findField(y.associations.fields,W)),new h.$X(h.Xx.findField(y.associations.fields,V)),M,z,Q,O],extraFilter:K?E.WhereClause.create(K,y.associations.getFieldsIndex(),y.associations.dateFieldsTimeZoneDefaultUTC):null}));case 70:case"end":return e.stop()}}),e,null,[[21,32,35,38]])})));return function(n,t,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"featuresetbyassociation",min:2,max:6}),e.functions.groupby=function(n,t){return e.standardFunctionAsync(n,t,function(){var s=(0,i.Z)((0,a.Z)().mark((function i(s,l,c){var f,d,p,b,h,y,x,v,w,k,g,F,Z,D,T,N,C,S,L,H,P,V,W,R,U,j,M,O,z,_,X,G,q,Q,K,B,J,$;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((0,m.E)(c,3,3,n,t),(0,m.u)(c[0])){a.next=2;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 2:return a.next=4,c[0].load();case 4:if(f=a.sent,d=[],p=[],b=!1,h=[],!(0,m.c)(c[1])){a.next=12;break}h.push(c[1]),a.next=23;break;case 12:if(!(c[1]instanceof u.Z)){a.next=16;break}h.push(c[1]),a.next=23;break;case 16:if(!(0,m.o)(c[1])){a.next=20;break}h=c[1],a.next=23;break;case 20:if((0,m.q)(c[1])){a.next=22;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 22:h=c[1].toArray();case 23:y=(0,r.Z)(h),a.prev=24,y.s();case 26:if((x=y.n()).done){a.next=41;break}if(v=x.value,!(0,m.c)(v)){a.next=33;break}w=E.WhereClause.create((0,m.j)(v),f.getFieldsIndex(),f.dateFieldsTimeZoneDefaultUTC),k=!0===(0,I.y5)(w)?(0,m.j)(v):"%%%%FIELDNAME",d.push({name:k,expression:w}),"%%%%FIELDNAME"===k&&(b=!0),a.next=39;break;case 33:if(v instanceof u.Z){a.next=35;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 35:if(g=v.hasField("name")?v.field("name"):"%%%%FIELDNAME",F=v.hasField("expression")?v.field("expression"):"","%%%%FIELDNAME"===g&&(b=!0),g){a.next=38;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 38:d.push({name:g,expression:E.WhereClause.create(F||g,f.getFieldsIndex(),f.dateFieldsTimeZoneDefaultUTC)});case 39:a.next=26;break;case 41:a.next=46;break;case 43:a.prev=43,a.t0=a.catch(24),y.e(a.t0);case 46:return a.prev=46,y.f(),a.finish(46);case 49:if(h=[],!(0,m.c)(c[2])){a.next=53;break}h.push(c[2]),a.next=64;break;case 53:if(!(0,m.o)(c[2])){a.next=57;break}h=c[2],a.next=64;break;case 57:if(!(0,m.q)(c[2])){a.next=61;break}h=c[2].toArray(),a.next=64;break;case 61:if(c[2]instanceof u.Z){a.next=63;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 63:h.push(c[2]);case 64:Z=(0,r.Z)(h),a.prev=65,Z.s();case 67:if((D=Z.n()).done){a.next=77;break}if((T=D.value)instanceof u.Z){a.next=71;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 71:if(N=T.hasField("name")?T.field("name"):"",C=T.hasField("statistic")?T.field("statistic"):"",S=T.hasField("expression")?T.field("expression"):"",N&&C&&S){a.next=74;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 74:p.push({name:N,statistic:C.toLowerCase(),expression:E.WhereClause.create(S,f.getFieldsIndex(),f.dateFieldsTimeZoneDefaultUTC)});case 75:a.next=67;break;case 77:a.next=82;break;case 79:a.prev=79,a.t1=a.catch(65),Z.e(a.t1);case 82:return a.prev=82,Z.f(),a.finish(82);case 85:if(b){L={},H=(0,r.Z)(f.fields);try{for(H.s();!(P=H.n()).done;)V=P.value,L[V.name.toLowerCase()]=1}catch(i){H.e(i)}finally{H.f()}W=(0,r.Z)(d);try{for(W.s();!(R=W.n()).done;)"%%%%FIELDNAME"!==(U=R.value).name&&(L[U.name.toLowerCase()]=1)}catch(i){W.e(i)}finally{W.f()}j=(0,r.Z)(p);try{for(j.s();!(M=j.n()).done;)"%%%%FIELDNAME"!==(O=M.value).name&&(L[O.name.toLowerCase()]=1)}catch(i){j.e(i)}finally{j.f()}z=0,_=(0,r.Z)(d);try{for(_.s();!(X=_.n()).done;)if("%%%%FIELDNAME"===(G=X.value).name){for(;1===L["field_"+z.toString()];)z++;L["field_"+z.toString()]=1,G.name="FIELD_"+z.toString()}}catch(i){_.e(i)}finally{_.f()}}q=0,Q=d;case 87:if(!(q<Q.length)){a.next=94;break}return K=Q[q],a.next=91,A(K.expression,e,n);case 91:q++,a.next=87;break;case 94:B=0,J=p;case 95:if(!(B<J.length)){a.next=102;break}return $=J[B],a.next=99,A($.expression,e,n);case 99:B++,a.next=95;break;case 102:return a.abrupt("return",c[0].groupby(d,p));case 103:case"end":return a.stop()}}),i,null,[[24,43,46,49],[65,79,82,85]])})));return function(e,n,t){return s.apply(this,arguments)}}())},e.signatures.push({name:"groupby",min:3,max:3}),e.functions.distinct=function(n,t){return e.standardFunctionAsync(n,t,function(){var s=(0,i.Z)((0,a.Z)().mark((function i(s,l,c){var f,d,p,b,h,y,x,v,w,k,g,F,Z,D,T,N,C,L,H,P,V,W,R,U,j;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(0,m.u)(c[0])){a.next=59;break}return(0,m.E)(c,2,2,n,t),a.next=4,c[0].load();case 4:if(f=a.sent,d=[],p=[],!(0,m.c)(c[1])){a.next=11;break}p.push(c[1]),a.next=22;break;case 11:if(!(c[1]instanceof u.Z)){a.next=15;break}p.push(c[1]),a.next=22;break;case 15:if(!(0,m.o)(c[1])){a.next=19;break}p=c[1],a.next=22;break;case 19:if((0,m.q)(c[1])){a.next=21;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 21:p=c[1].toArray();case 22:b=!1,h=(0,r.Z)(p),a.prev=24,h.s();case 26:if((y=h.n()).done){a.next=41;break}if(x=y.value,!(0,m.c)(x)){a.next=33;break}v=E.WhereClause.create((0,m.j)(x),f.getFieldsIndex(),f.dateFieldsTimeZoneDefaultUTC),w=!0===(0,I.y5)(v)?(0,m.j)(x):"%%%%FIELDNAME",d.push({name:w,expression:v}),"%%%%FIELDNAME"===w&&(b=!0),a.next=39;break;case 33:if(x instanceof u.Z){a.next=35;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 35:if(k=x.hasField("name")?x.field("name"):"%%%%FIELDNAME",g=x.hasField("expression")?x.field("expression"):"","%%%%FIELDNAME"===k&&(b=!0),k){a.next=38;break}throw new o.aV(n,o.rH.InvalidParameter,t);case 38:d.push({name:k,expression:E.WhereClause.create(g||k,f.getFieldsIndex(),f.dateFieldsTimeZoneDefaultUTC)});case 39:a.next=26;break;case 41:a.next=46;break;case 43:a.prev=43,a.t0=a.catch(24),h.e(a.t0);case 46:return a.prev=46,h.f(),a.finish(46);case 49:if(b){F={},Z=(0,r.Z)(f.fields);try{for(Z.s();!(D=Z.n()).done;)T=D.value,F[T.name.toLowerCase()]=1}catch(i){Z.e(i)}finally{Z.f()}N=(0,r.Z)(d);try{for(N.s();!(C=N.n()).done;)"%%%%FIELDNAME"!==(L=C.value).name&&(F[L.name.toLowerCase()]=1)}catch(i){N.e(i)}finally{N.f()}H=0,P=(0,r.Z)(d);try{for(P.s();!(V=P.n()).done;)if("%%%%FIELDNAME"===(W=V.value).name){for(;1===F["field_"+H.toString()];)H++;F["field_"+H.toString()]=1,W.name="FIELD_"+H.toString()}}catch(i){P.e(i)}finally{P.f()}}R=0,U=d;case 51:if(!(R<U.length)){a.next=58;break}return j=U[R],a.next=55,A(j.expression,e,n);case 55:R++,a.next=51;break;case 58:return a.abrupt("return",c[0].groupby(d,[]));case 59:return a.abrupt("return",S("distinct",0,0,c));case 60:case"end":return a.stop()}}),i,null,[[24,43,46,49]])})));return function(e,n,t){return s.apply(this,arguments)}}())}),e.functions.getfeaturesetinfo=function(n,t){return e.standardFunctionAsync(n,t,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r,i,s){var l,o,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,m.E)(s,1,1,n,t),(0,m.u)(s[0])){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,s[0].getFeatureSetInfo();case 4:return c=e.sent,e.abrupt("return",c?u.Z.convertObjectToArcadeDictionary({layerId:c.layerId,layerName:c.layerName,itemId:c.itemId,serviceLayerUrl:c.serviceLayerUrl,webMapLayerId:null!==(l=c.webMapLayerId)&&void 0!==l?l:null,webMapLayerTitle:null!==(o=c.webMapLayerTitle)&&void 0!==o?o:null,className:null,objectClassId:null},(0,m.L)(n),!1,!1):null);case 6:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}())},e.signatures.push({name:"getfeaturesetinfo",min:1,max:1})}},93249:function(e,n,t){t.d(n,{_:function(){return r}});var a=t(7575);function r(e,n){return null===e?n:new a.Z({url:e.field("url")})}}}]);
//# sourceMappingURL=718.ee3f7ac3.chunk.js.map