{"version":3,"file":"static/js/3634.ef86fdd6.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/webgl/BufferObject.js","../node_modules/@arcgis/core/views/webgl/FramebufferObject.js","../node_modules/@arcgis/core/views/webgl/Renderbuffer.js","../node_modules/@arcgis/core/views/webgl/RenderbufferDescriptor.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{isArrayLike as e}from\"../../core/arrayUtils.js\";import t from\"../../core/Logger.js\";import{isUint16Array as r,isUint32Array as i}from\"../../core/typedArrayUtil.js\";import{checkWebGLError as s}from\"./checkWebGLError.js\";import{ContextType as n}from\"./contextUtils.js\";import{BufferType as o,Usage as a,ResourceType as f,DataType as u}from\"./enums.js\";const _=t.getLogger(\"esri.views.webgl.BufferObject\");class h{static createIndex(e,t,r){return new h(e,o.ELEMENT_ARRAY_BUFFER,t,r)}static createVertex(e,t,r){return new h(e,o.ARRAY_BUFFER,t,r)}static createUniform(e,t,r){if(e.type!==n.WEBGL2)throw new Error(\"Uniform buffers are supported in WebGL2 only!\");return new h(e,o.UNIFORM_BUFFER,t,r)}static createPixelPack(e,t=a.STREAM_READ,r){if(e.type!==n.WEBGL2)throw new Error(\"Pixel pack buffers are supported in WebGL2 only!\");const i=new h(e,o.PIXEL_PACK_BUFFER,t);return r&&i.setSize(r),i}static createPixelUnpack(e,t=a.STREAM_DRAW,r){if(e.type!==n.WEBGL2)throw new Error(\"Pixel unpack buffers are supported in WebGL2 only!\");return new h(e,o.PIXEL_UNPACK_BUFFER,t,r)}constructor(e,t,r,i){this._context=e,this.bufferType=t,this.usage=r,this._glName=null,this._size=-1,this._indexType=void 0,e.instanceCounter.increment(f.BufferObject,this),this._glName=this._context.gl.createBuffer(),s(this._context.gl),i&&this.setData(i)}get glName(){return this._glName}get size(){return this._size}get indexType(){return this._indexType}get byteLength(){return this.bufferType===o.ELEMENT_ARRAY_BUFFER?this._indexType===u.UNSIGNED_INT?4*this._size:2*this._size:this._size}get _isVAOAware(){return this.bufferType===o.ELEMENT_ARRAY_BUFFER||this.bufferType===o.ARRAY_BUFFER}dispose(){if(this._context?.gl){if(this._glName){this._context.gl.deleteBuffer(this._glName),this._glName=null}this._context.instanceCounter.decrement(f.BufferObject,this),this._context=null}else this._glName&&_.warn(\"Leaked WebGL buffer object\")}setSize(e,t=null){if(e<=0&&_.error(\"Buffer size needs to be positive!\"),this.bufferType===o.ELEMENT_ARRAY_BUFFER&&null!=t)switch(this._indexType=t,t){case u.UNSIGNED_SHORT:e*=2;break;case u.UNSIGNED_INT:e*=4}this._setBufferData(e)}setData(e){if(!e)return;let t=e.byteLength;this.bufferType===o.ELEMENT_ARRAY_BUFFER&&(r(e)&&(t/=2,this._indexType=u.UNSIGNED_SHORT),i(e)&&(t/=4,this._indexType=u.UNSIGNED_INT)),this._setBufferData(t,e)}_setBufferData(e,t=null){this._size=e;const r=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const i=this._context.gl;null!=t?i.bufferData(this.bufferType,t,this.usage):i.bufferData(this.bufferType,e,this.usage),s(i),this._isVAOAware&&this._context.bindVAO(r)}setSubData(e,t,r,i){if(!e)return;(t<0||t*e.BYTES_PER_ELEMENT>=this.byteLength)&&_.error(\"offset is out of range!\"),r>=i&&_.error(\"end must be bigger than start!\"),(t+(i-r))*e.BYTES_PER_ELEMENT>this.byteLength&&_.error(\"An attempt to write beyond the end of the buffer!\");const o=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const a=this._context.gl;if(this._context.type===n.WEBGL2)a.bufferSubData(this.bufferType,t*e.BYTES_PER_ELEMENT,e,r,i-r);else{const s=0===r&&i===e.length?e:e.subarray(r,i);a.bufferSubData(this.bufferType,t*e.BYTES_PER_ELEMENT,s)}s(a),this._isVAOAware&&this._context.bindVAO(o)}getSubData(e,t=0,r,i){if(this._context.type!==n.WEBGL2)return void _.error(\"Get buffer subdata is supported in WebGL2 only!\");if(r<0||i<0)return void _.error(\"Problem getting subdata: offset and length were less than zero!\");const s=E(e)?e.BYTES_PER_ELEMENT:1;if(s*((r??0)+(i??0))>e.byteLength)return void _.error(\"Problem getting subdata: offset and length exceeded destination size!\");t+s*(i??0)>this.byteLength&&_.warn(\"Potential problem getting subdata: requested data exceeds buffer size!\");const a=this._context.gl;this._context.bindBuffer(this,o.COPY_READ_BUFFER),a.getBufferSubData(o.COPY_READ_BUFFER,t,e,r,i),this._context.unbindBuffer(o.COPY_READ_BUFFER)}async getSubDataAsync(e,t=0,r,i){this._context.type===n.WEBGL2?(await this._context.clientWaitAsync(),this.getSubData(e,t,r,i)):_.error(\"Get buffer subdata is supported in WebGL2 only!\")}}function E(t){return e(t)}export{h as BufferObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import t from\"../../core/Logger.js\";import{disposeMaybe as e}from\"../../core/maybe.js\";import{BufferObject as i}from\"./BufferObject.js\";import{webglDebugEnabled as r}from\"./checkWebGLError.js\";import{ContextType as s}from\"./contextUtils.js\";import{ResourceType as h,ColorAttachment as n,PixelFormat as o,PixelType as c,DepthStencilAttachment as a,FramebufferTarget as u,TextureType as _,Usage as l,BufferType as f,RenderbufferFormat as T}from\"./enums.js\";import{GLObjectType as d}from\"./GLObjectType.js\";import{Renderbuffer as m}from\"./Renderbuffer.js\";import{Texture as p}from\"./Texture.js\";const x=t.getLogger(\"esri.views.webgl.FramebufferObject\");class E{constructor(t,e,i=null){this._context=t,this._glName=null,this._colorAttachments=new Map,this._depthStencilBuffer=null,this._depthStencilTexture=null,this._initialized=!1,t.instanceCounter.increment(h.FramebufferObject,this);const r=g(e)?e:new p(this._context,e);if(this._colorAttachments.set(n.COLOR_ATTACHMENT0,r),this._validateTextureDescriptor(r.descriptor),this._validateColorAttachmentPoint(n.COLOR_ATTACHMENT0),null!=i)if(b(i))this._context.capabilities.depthTexture||console.error(\"Setting the depth/stencil texture as an attachment requires WEBGL_depth_texture or WebGL2\"),this._depthStencilTexture=g(i)?i:new p(this._context,i),this._validateTextureDescriptor(this._depthStencilTexture.descriptor);else{const t=A(i)?i:new m(this._context,i);this._depthStencilBuffer=t,this._validateRenderBufferDescriptor(t.descriptor)}}dispose(){if(0===this._colorAttachments.size&&!this._glName)return;const t=this._context.getBoundFramebufferObject();if(this._colorAttachments.forEach(((t,e)=>this.detachColorTexture(e)?.dispose())),this.detachDepthStencilBuffer()?.dispose(),this.detachDepthStencilTexture()?.dispose(),this._glName){this._context.gl.deleteFramebuffer(this._glName),this._glName=null}this._context.bindFramebuffer(t),this._context.instanceCounter.decrement(h.FramebufferObject,this)}get glName(){return this._glName}get colorTexture(){return this._colorAttachments.get(n.COLOR_ATTACHMENT0)}get depthStencil(){return this._depthStencilTexture||this._depthStencilBuffer}get depthStencilTexture(){return this._depthStencilTexture}get width(){const t=this._colorAttachments.get(n.COLOR_ATTACHMENT0);return t?.descriptor?.width??0}get height(){const t=this._colorAttachments.get(n.COLOR_ATTACHMENT0);return t?.descriptor?.height??0}get gpuMemoryUsage(){return[...this._colorAttachments].reduce(((t,[e,i])=>t+i.gpuMemoryUsage),this.depthStencil?.gpuMemoryUsage??0)}getColorTexture(t){const e=this._colorAttachments.get(t);return e&&g(e)?e:null}get colorAttachments(){return[...this._colorAttachments.keys()]}attachColorTexture(t,e=n.COLOR_ATTACHMENT0){if(!t)return;this._validateColorAttachmentPoint(e);const i=t.descriptor;this._validateTextureDescriptor(i),this.detachColorTexture(e)?.dispose(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,e)),this._colorAttachments.set(e,t)}detachColorTexture(t=n.COLOR_ATTACHMENT0){const e=this._colorAttachments.get(t);if(e){if(this._initialized){const e=this._context.getBoundFramebufferObject();this._context.bindFramebuffer(this),this._framebufferTexture2D(null,t),this._context.bindFramebuffer(e)}return this._colorAttachments.delete(t),e}}setColorTextureTarget(t,e=n.COLOR_ATTACHMENT0){const i=this._colorAttachments.get(e);i&&this._framebufferTexture2D(i.glName,e,t)}attachDepthStencil(t){if(t)switch(t.type){case d.Texture:return this._attachDepthStencilTexture(t);case d.RenderBuffer:return this._attachDepthStencilBuffer(t)}}_attachDepthStencilTexture(t){if(null==t)return;const e=t.descriptor;e.pixelFormat!==o.DEPTH_STENCIL&&e.pixelFormat!==o.DEPTH24_STENCIL8&&console.error(\"Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!\"),e.dataType!==c.UNSIGNED_INT_24_8&&console.error(\"Depth/Stencil texture must have data type of UNSIGNED_INT_24_8!\"),this._context.capabilities.depthTexture||console.error(\"Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!\"),this._validateTextureDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,a)),this._depthStencilTexture?.dispose(),this._depthStencilTexture=t}detachDepthStencilTexture(){const t=this._depthStencilTexture;return t&&this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,a)),this._depthStencilTexture=null,t}_attachDepthStencilBuffer(t){if(null==t)return;const e=t.descriptor;if(this._validateRenderBufferDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);const i=this._context.gl,r=this._getGLAttachmentPoint(e);i.framebufferRenderbuffer(u.FRAMEBUFFER,r,i.RENDERBUFFER,t.glName)}this._depthStencilBuffer=t}detachDepthStencilBuffer(){const t=this._depthStencilBuffer;if(t&&this._initialized){this._context.bindFramebuffer(this);const e=this._context.gl,i=this._getGLAttachmentPoint(t.descriptor);e.framebufferRenderbuffer(u.FRAMEBUFFER,i,e.RENDERBUFFER,null)}return this._depthStencilBuffer=null,t}copyToTexture(t,e,i,r,s,h,n){(t<0||e<0||s<0||h<0)&&console.error(\"Offsets cannot be negative!\"),(i<=0||r<=0)&&console.error(\"Copy width and height must be greater than zero!\");const o=n.descriptor;n.descriptor.target!==_.TEXTURE_2D&&console.error(\"Texture target must be TEXTURE_2D!\"),(null==o?.width||null==o?.height||t+i>this.width||e+r>this.height||s+i>o.width||h+r>o.height)&&console.error(\"Bad dimensions, the current input values will attempt to read or copy out of bounds!\");const c=this._context,a=c.bindTexture(n,p.TEXTURE_UNIT_FOR_UPDATES);c.setActiveTexture(p.TEXTURE_UNIT_FOR_UPDATES),c.bindFramebuffer(this),c.gl.copyTexSubImage2D(_.TEXTURE_2D,0,s,h,t,e,i,r),c.bindTexture(a,p.TEXTURE_UNIT_FOR_UPDATES)}readPixels(t,e,i,r,s,h,n){(i<=0||r<=0)&&console.error(\"Copy width and height must be greater than zero!\"),n||console.error(\"Target memory is not initialized!\"),this._context.bindFramebuffer(this),this._context.gl.readPixels(t,e,i,r,s,h,n)}async readPixelsAsync(t,e,h,n,o,c,a){if(this._context.type!==s.WEBGL2)return r()&&console.warn(\"Attempting to read pixels using pixel buffer object without WebGL2\"),void this.readPixels(t,e,h,n,o,c,a);const u=this._context.gl,_=i.createPixelPack(this._context,l.STREAM_READ,a.byteLength);this._context.bindBuffer(_),this._context.bindFramebuffer(this),u.readPixels(t,e,h,n,o,c,0),this._context.unbindBuffer(f.PIXEL_PACK_BUFFER),await _.getSubDataAsync(a),_.dispose()}resize(t,e){if(this.width===t&&this.height===e)return;const i={width:t,height:e};S(i,this._context.parameters.maxTextureSize),this._colorAttachments.forEach((t=>t.resize(i.width,i.height))),this._depthStencilTexture?.resize(i.width,i.height),this._initialized&&(S(i,this._context.parameters.maxRenderbufferSize),this._depthStencilBuffer?.resize(i.width,i.height),this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1)}initializeAndBind(t=u.FRAMEBUFFER){const e=this._context.gl;if(this._initialized)return void e.bindFramebuffer(t,this.glName);this._glName&&e.deleteFramebuffer(this._glName);const i=e.createFramebuffer();if(e.bindFramebuffer(t,i),this._colorAttachments.forEach(((e,i)=>this._framebufferTexture2D(e.glName,i,R(e),t))),this._depthStencilBuffer){const i=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);e.framebufferRenderbuffer(t,i,e.RENDERBUFFER,this._depthStencilBuffer.glName)}else this._depthStencilTexture&&this._framebufferTexture2D(this._depthStencilTexture.glName,e.DEPTH_STENCIL_ATTACHMENT,R(this._depthStencilTexture),t);if(r()){e.checkFramebufferStatus(t)!==e.FRAMEBUFFER_COMPLETE&&console.error(\"Framebuffer is incomplete!\")}this._glName=i,this._initialized=!0}_framebufferTexture2D(t,e=n.COLOR_ATTACHMENT0,i=_.TEXTURE_2D,r=u.FRAMEBUFFER,s=0){this._context.gl.framebufferTexture2D(r,e,i,t,s)}_disposeDepthStencilAttachments(){const t=this._context.gl;if(this._depthStencilBuffer){if(this._initialized){this._context.bindFramebuffer(this);const e=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);t.framebufferRenderbuffer(u.FRAMEBUFFER,e,t.RENDERBUFFER,null)}this._depthStencilBuffer=e(this._depthStencilBuffer)}this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,t.DEPTH_STENCIL_ATTACHMENT)),this._depthStencilTexture=e(this._depthStencilTexture))}_validateTextureDescriptor(t){t.target!==_.TEXTURE_2D&&t.target!==_.TEXTURE_CUBE_MAP&&console.error(\"Texture type must be TEXTURE_2D or TEXTURE_CUBE_MAP!\"),S(t,this._context.parameters.maxTextureSize),this._validateBufferDimensions(t)}_validateRenderBufferDescriptor(t){S(t,this._context.parameters.maxRenderbufferSize),this._validateBufferDimensions(t)}_validateBufferDimensions(t){t.width<=0&&(t.width=this.width),t.height<=0&&(t.height=this.height),this.width>0&&this.height>0&&(this.width===t.width&&this.height===t.height||console.error(\"Attachment size must match framebuffer size!\"))}_getGLAttachmentPoint(t){switch(t.internalFormat){case T.DEPTH_COMPONENT16:case T.DEPTH_COMPONENT24:case T.DEPTH_COMPONENT32F:return this._context.gl.DEPTH_ATTACHMENT;case T.DEPTH24_STENCIL8:case T.DEPTH32F_STENCIL8:case T.DEPTH_STENCIL:return this._context.gl.DEPTH_STENCIL_ATTACHMENT;case T.STENCIL_INDEX8:return this._context.gl.STENCIL_ATTACHMENT}}_validateColorAttachmentPoint(e){if(-1===E._MAX_COLOR_ATTACHMENTS){const t=this._context.capabilities.drawBuffers;if(t){const e=this._context.gl;E._MAX_COLOR_ATTACHMENTS=e.getParameter(t.MAX_COLOR_ATTACHMENTS)}else E._MAX_COLOR_ATTACHMENTS=1}const i=e-n.COLOR_ATTACHMENT0;i+1>E._MAX_COLOR_ATTACHMENTS&&t.getLogger(\"esri.views.webgl.FrameBufferObject\").error(\"esri.FrameBufferObject\",`illegal attachment point for color attachment: ${i+1}. Implementation supports up to ${E._MAX_COLOR_ATTACHMENTS} color attachments`)}}function g(t){return null!=t&&\"type\"in t&&t.type===d.Texture}function A(t){return null!=t&&\"type\"in t&&t.type===d.RenderBuffer}function b(t){return g(t)||null!=t&&\"pixelFormat\"in t}function S(t,e){const i=Math.max(t.width,t.height);if(i>e){x.warn(`Resizing FBO attachment size ${t.width}x${t.height} to device limit ${e}`);const r=e/i;return t.width=Math.round(t.width*r),t.height=Math.round(t.height*r),!1}return!0}function R(t){return t.descriptor.target===_.TEXTURE_CUBE_MAP?_.TEXTURE_CUBE_MAP_POSITIVE_X:_.TEXTURE_2D}E._MAX_COLOR_ATTACHMENTS=-1;export{E as FramebufferObject,S as ensureAttachmentMaxSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{ContextType as e}from\"./contextUtils.js\";import{ResourceType as t}from\"./enums.js\";import{GLObjectType as r}from\"./GLObjectType.js\";import{estimateMemory as s}from\"./RenderbufferDescriptor.js\";class i{constructor(s,i){this._context=s,this._descriptor=i,this.type=r.RenderBuffer,this._context.instanceCounter.increment(t.Renderbuffer,this);const n=this._context.gl;this.glName=n.createRenderbuffer(),this._context.bindRenderbuffer(this);const{width:o,height:h,internalFormat:c,multisampled:f}=i;if(f){if(this._context.type!==e.WEBGL2)throw new Error(\"Multisampled renderbuffers are not supported in WebGL1!\");n.renderbufferStorageMultisample(n.RENDERBUFFER,this.samples,c,o,h)}else n.renderbufferStorage(n.RENDERBUFFER,c,o,h)}get descriptor(){return this._descriptor}get samples(){const e=this._descriptor.samples,t=this._context.parameters.maxSamples;return e?Math.min(e,t):t}get gpuMemoryUsage(){return s(this._descriptor)}resize(e,t){const r=this._descriptor;if(r.width===e&&r.height===t)return;r.width=e,r.height=t;const s=this._context.gl;if(this._context.bindRenderbuffer(this),r.multisampled){s.renderbufferStorageMultisample(s.RENDERBUFFER,this.samples,r.internalFormat,r.width,r.height)}else s.renderbufferStorage(s.RENDERBUFFER,r.internalFormat,r.width,r.height)}dispose(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(t.Renderbuffer,this),this._context=null)}}export{i as Renderbuffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{getBytesPerElementFormat as t}from\"./Util.js\";class i{constructor(t,i,h=i){this.internalFormat=t,this.width=i,this.height=h,this.multisampled=!1,this.samples=1}}function h(i){return i.width<=0||i.height<=0||null==i.internalFormat?0:i.width*i.height*t(i.internalFormat)}export{i as RenderbufferDescriptor,h as estimateMemory};\n"],"names":["_","t","getLogger","h","e","r","i","_classCallCheck","this","_context","bufferType","usage","_glName","_size","_indexType","instanceCounter","increment","f","BufferObject","gl","createBuffer","s","setData","_createClass","key","get","o","ELEMENT_ARRAY_BUFFER","u","UNSIGNED_INT","ARRAY_BUFFER","value","_this$_context","deleteBuffer","decrement","warn","arguments","length","undefined","error","UNSIGNED_SHORT","_setBufferData","byteLength","getBoundVAO","_isVAOAware","bindVAO","bindBuffer","bufferData","BYTES_PER_ELEMENT","a","type","n","WEBGL2","bufferSubData","subarray","E","COPY_READ_BUFFER","getBufferSubData","unbindBuffer","_getSubDataAsync","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_args","wrap","prev","next","clientWaitAsync","getSubData","stop","_x","apply","Error","UNIFORM_BUFFER","STREAM_READ","PIXEL_PACK_BUFFER","setSize","STREAM_DRAW","PIXEL_UNPACK_BUFFER","x","_colorAttachments","Map","_depthStencilBuffer","_depthStencilTexture","_initialized","FramebufferObject","g","p","set","COLOR_ATTACHMENT0","_validateTextureDescriptor","descriptor","_validateColorAttachmentPoint","b","capabilities","depthTexture","console","d","RenderBuffer","A","m","_validateRenderBufferDescriptor","_this$detachDepthSten","_this$detachDepthSten2","_this","size","getBoundFramebufferObject","forEach","_this$detachColorText","detachColorTexture","dispose","detachDepthStencilBuffer","detachDepthStencilTexture","deleteFramebuffer","bindFramebuffer","_t$descriptor$width","_t$descriptor","width","_t$descriptor$height","_t$descriptor2","height","_this$depthStencil$gp","_this$depthStencil","_toConsumableArray","reduce","_ref","_ref2","_slicedToArray","gpuMemoryUsage","depthStencil","keys","_this$detachColorText2","_framebufferTexture2D","glName","delete","Texture","_attachDepthStencilTexture","_attachDepthStencilBuffer","_this$_depthStencilTe","pixelFormat","DEPTH_STENCIL","DEPTH24_STENCIL8","dataType","c","UNSIGNED_INT_24_8","_disposeDepthStencilAttachments","_getGLAttachmentPoint","framebufferRenderbuffer","FRAMEBUFFER","RENDERBUFFER","target","TEXTURE_2D","bindTexture","TEXTURE_UNIT_FOR_UPDATES","setActiveTexture","copyTexSubImage2D","readPixels","_readPixelsAsync","abrupt","createPixelPack","l","getSubDataAsync","_x2","_x3","_x4","_x5","_x6","_x7","_this$_depthStencilTe2","_this$_depthStencilBu","S","parameters","maxTextureSize","resize","maxRenderbufferSize","_this2","createFramebuffer","R","DEPTH_STENCIL_ATTACHMENT","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","framebufferTexture2D","TEXTURE_CUBE_MAP","_validateBufferDimensions","internalFormat","T","DEPTH_COMPONENT16","DEPTH_COMPONENT24","DEPTH_COMPONENT32F","DEPTH_ATTACHMENT","DEPTH32F_STENCIL8","STENCIL_INDEX8","STENCIL_ATTACHMENT","_MAX_COLOR_ATTACHMENTS","drawBuffers","getParameter","MAX_COLOR_ATTACHMENTS","concat","Math","max","round","TEXTURE_CUBE_MAP_POSITIVE_X","_descriptor","Renderbuffer","createRenderbuffer","bindRenderbuffer","multisampled","renderbufferStorageMultisample","samples","renderbufferStorage","maxSamples","min","deleteRenderbuffer"],"sourceRoot":""}