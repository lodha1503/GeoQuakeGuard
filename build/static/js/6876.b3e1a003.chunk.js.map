{"version":3,"file":"static/js/6876.b3e1a003.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/CircularArray.js","../node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js","../node_modules/@arcgis/core/views/2d/layers/features/Store2D.js","../node_modules/@arcgis/core/views/2d/arcade/callExpressionWithCursor.js","../node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFIndirect.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.size=0,this._start=0,this.maxSize=t,this._buffer=new Array(t)}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}find(t){if(0===this.size)return null;for(const s of this._buffer)if(null!=s&&t(s))return s;return null}clear(t){let s=this.dequeue();for(;null!=s;)t&&t(s),s=this.dequeue()}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/CircularArray.js\";import e from\"../../../../core/Evented.js\";import\"../../../../core/has.js\";import{r as s}from\"../../../../chunks/rbush.js\";import{create as a,fromRectValues as r}from\"../../../../geometry/support/aaBoundingBox.js\";import{Store2D as n}from\"./Store2D.js\";import{FeatureSetReaderIndirect as i}from\"./support/FeatureSetReaderPBFIndirect.js\";const o=a();function d(t,e){return t<<16|e}function h(t){return(4294901760&t)>>>16}function c(t){return 65535&t}const I={getObjectId:t=>t.getObjectId(),getAttributes:t=>t.readAttributes(),getAttribute:(t,e)=>t.readAttribute(e),getAttributeAsTimestamp:(t,e)=>t.readAttributeAsTimestamp(e),cloneWithGeometry:(t,e)=>t,getGeometry:t=>t.readHydratedGeometry(),getCentroid:(t,e)=>t.readCentroid()};class u extends n{constructor(a,r,n){super(a,r),this.featureAdapter=I,this.events=new e,this._featureSetsByInstance=new Map,this._objectIdToDisplayId=new Map,this._spatialIndexInvalid=!0,this._indexSearchCache=new t(50),this._index=s(9,(t=>({minX:this._storage.getXMin(t),minY:this._storage.getYMin(t),maxX:this._storage.getXMax(t),maxY:this._storage.getYMax(t)}))),this.mode=n}get storeStatistics(){let t=0,e=0,s=0;return this.forEach((a=>{const r=a.readGeometry();r&&(e+=r.isPoint?1:r.lengths.reduce(((t,e)=>t+e),0),s+=r.isPoint?1:r.lengths.length,t+=1)})),{featureCount:t,vertexCount:e,ringCount:s}}hasInstance(t){return this._featureSetsByInstance.has(t)}onTileData(t,e,s){if(null==e.addOrUpdate)return e;if(e.addOrUpdate.attachStorage(this._storage),\"snapshot\"===this.mode){const a=e.addOrUpdate.getCursor();for(;a.next();){const e=a.getDisplayId();this.setComputedAttributes(this._storage,a,e,t.scale,s)}return e}this._featureSetsByInstance.set(e.addOrUpdate.instance,e.addOrUpdate);const a=e.addOrUpdate.getCursor();for(;a.next();)this._insertFeature(a,t.scale,s);return this._spatialIndexInvalid=!0,this.events.emit(\"changed\"),e}search(t){this._rebuildIndex();const e=t.id,s=this._indexSearchCache.find((t=>t.tileId===e));if(null!=s)return s.readers;const a=new Map,r=this._searchIndex(t.bounds),n=[];for(const i of r){const t=this._storage.getInstanceId(i),e=h(t),s=c(t);a.has(e)||a.set(e,[]);a.get(e).push(s)}return a.forEach(((t,e)=>{const s=this._featureSetsByInstance.get(e);n.push(i.from(s,t))})),this._indexSearchCache.enqueue({tileId:e,readers:n}),n}insert(t){const e=t.getCursor(),s=this._storage;for(;e.next();){const t=d(e.instance,e.getIndex()),a=e.getObjectId(),r=this._objectIdToDisplayId.get(a)??this._storage.createDisplayId();e.setDisplayId(r),s.setInstanceId(r,t),this._objectIdToDisplayId.set(a,r)}this._featureSetsByInstance.set(t.instance,t),this._spatialIndexInvalid=!0}remove(t){const e=this._objectIdToDisplayId.get(t);if(!e)return;const s=this._storage.getInstanceId(e),a=c(s),r=h(s),n=this._featureSetsByInstance.get(r);this._objectIdToDisplayId.delete(t),this._storage.releaseDisplayId(e),n.removeAtIndex(a),n.isEmpty&&this._featureSetsByInstance.delete(r),this._spatialIndexInvalid=!0}forEach(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=this._lookupFeature(s);t(a)}))}forEachUnsafe(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=h(s),r=c(s),n=this._getFeatureSet(a);n.setIndex(r),t(n)}))}forEachInBounds(t,e){const s=this._searchIndex(t);for(const a of s){e(this.lookupFeatureByDisplayId(a,this._storage))}}forEachBounds(t,e){this._rebuildIndex();for(const s of t){if(!s.readGeometry())continue;const t=s.getDisplayId();r(o,this._storage.getXMin(t),this._storage.getYMin(t),this._storage.getXMax(t),this._storage.getYMax(t)),e(o)}}sweepFeatures(t,e,s){this._spatialIndexInvalid=!0,this._objectIdToDisplayId.forEach(((a,r)=>{t.has(a)||(e.releaseDisplayId(a),s&&s.unsetAttributeData(a),this._objectIdToDisplayId.delete(r))})),this.events.emit(\"changed\")}sweepFeatureSets(t){this._spatialIndexInvalid=!0,this._featureSetsByInstance.forEach(((e,s)=>{t.has(s)||this._featureSetsByInstance.delete(s)}))}lookupObjectId(t,e){const s=this.lookupFeatureByDisplayId(t,e);return null==s?null:s.getObjectId()}lookupDisplayId(t){return this._objectIdToDisplayId.get(t)}lookupFeatureByDisplayId(t,e){const s=e.getInstanceId(t);return this._lookupFeature(s)}lookupByDisplayIdUnsafe(t){const e=this._storage.getInstanceId(t),s=h(e),a=c(e),r=this._getFeatureSet(s);return r?(r.setIndex(a),r):null}_insertFeature(t,e,s){const a=this._storage,r=t.getObjectId(),n=d(t.instance,t.getIndex());a.getInstanceId(t.getDisplayId());let i=this._objectIdToDisplayId.get(r);i||(i=a.createDisplayId(),this._objectIdToDisplayId.set(r,i),this._spatialIndexInvalid=!0),t.setDisplayId(i),a.setInstanceId(i,n),this.setComputedAttributes(a,t,i,e,s)}_searchIndex(t){this._rebuildIndex();const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this._index.search(e)}_rebuildIndex(){if(!this._spatialIndexInvalid)return;const t=[];\"snapshot\"===this.mode?this._featureSetsByInstance.forEach((e=>{const s=e.getCursor();for(;s.next();){const e=s.getDisplayId();this._storage.setBounds(e,s)&&t.push(e)}})):this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e);this._storage.setBounds(e,this._lookupFeature(s))&&t.push(e)})),this._index.clear(),this._index.load(t),this._indexSearchCache.clear(),this._spatialIndexInvalid=!1}_lookupFeature(t){const e=h(t),s=this._getFeatureSet(e);if(!s)return;const a=s.getCursor(),r=c(t);return a.setIndex(r),a}_getFeatureSet(t){return this._featureSetsByInstance.get(t)}}export{u as FeatureStore2D,I as featureAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{diff as e,hasDiff as s}from\"../../../../core/accessorSupport/diffUtils.js\";import{createRendererExpression as t}from\"../../../../support/arcadeOnDemand.js\";import i from\"../../arcade/callExpressionWithCursor.js\";class a{constructor(e,s){this._canCacheExpressionValue=!1,this._sourceInfo=e,this._storage=s,this._bitsets={computed:s.getBitset(s.createBitset())}}get storage(){return this._storage}invalidate(){this._bitsets.computed.clear()}async updateSchema(t,i){const a=e(this._schema,i);if(this._schema=i,!i||null==a||!s(a,\"attributes\"))return;has(\"esri-2d-update-debug\")&&console.debug(\"Applying Update - Store:\",a),this._bitsets.computed.clear(),t.targets[i.name]=!0;const r=i.attributes,o=[],c=[];for(const e in r){const s=r[e];switch(s.type){case\"field\":break;case\"expression\":o.push(this._createArcadeComputedField(s));break;case\"label-expression\":o.push(this._createLabelArcadeComputedField(s));break;case\"statistic\":c.push(s)}}this._computedFields=await Promise.all(o),this._canCacheExpressionValue=!this._computedFields.some((e=>\"expression\"===e.type&&null!=e.expression&&e.expression.referencesScale())),this._statisticFields=c}setComputedAttributes(e,s,t,i,a){const r=this._bitsets.computed;if(!this._canCacheExpressionValue||!r.has(t)){r.set(t);for(const r of this._computedFields){const o=this._evaluateField(s,r,i,a);switch(r.resultType){case\"numeric\":e.setComputedNumericAtIndex(t,r.fieldIndex,o);break;case\"string\":e.setComputedStringAtIndex(t,r.fieldIndex,o)}}}}async _createArcadeComputedField(e){const s=this._sourceInfo.spatialReference,i=this._sourceInfo.fieldsIndex;return{...e,expression:await t(e.valueExpression,s,i)}}async _createLabelArcadeComputedField(e){const s=this._sourceInfo.spatialReference,t=this._sourceInfo.fieldsIndex,{createLabelFunction:i}=await import(\"../../../../layers/support/labelFormatUtils.js\"),a=await i(e.label,t,s);return{...e,builder:a}}_evaluateField(e,s,t,a){switch(s.type){case\"label-expression\":{const t=e.readArcadeFeature();return s.builder.evaluate(t,a)||\"\"}case\"expression\":{const{expression:r}=s;return i(r,e,{$view:{scale:t,timeZone:a}})}}}}export{a as Store2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";function r(r,t,a){if(null==r)return null;const n=t.readArcadeFeature();t.contextTimeZone=a.$view?.timeZone;try{return r.evaluate({...a,$feature:n},r.services)}catch(u){return e.getLogger(\"esri.views.2d.support.arcadeOnDemand\").warn(\"Feature arcade evaluation failed:\",u),null}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{FeatureSetReader as e}from\"./FeatureSetReader.js\";class r extends e{static from(e,t){return new r(e.copy(),t)}constructor(r,t){super(e.createInstance(),r.fullSchema()),this._currentIndex=-1,this._reader=r,this._indices=t}get fields(){return this._reader.fields}get hasNext(){return this._currentIndex+1<this._indices.length}getSize(){return this._indices.length}getCursor(){return this.copy()}copy(){const e=new r(this._reader.copy(),this._indices);return e._currentIndex=this._currentIndex,e}next(){for(;this._nextIndex()&&!this._reader._getExists(););return this._currentIndex<this._indices.length}_nextIndex(){return++this._currentIndex<this._indices.length&&(this._reader.setIndex(this._indices[this._currentIndex]),!0)}setArcadeSpatialReference(e){this._reader.setArcadeSpatialReference(e)}attachStorage(e){this._reader.attachStorage(e)}get geometryType(){return this._reader.geometryType}get hasFeatures(){return this._reader.hasFeatures}get exceededTransferLimit(){return this._reader.exceededTransferLimit}get hasZ(){return this._reader.hasZ}get hasM(){return this._reader.hasM}get contextTimeZone(){return this._reader.contextTimeZone}set contextTimeZone(e){this._reader.contextTimeZone=e}getStorage(){return this._reader.getStorage()}getComputedNumeric(e){return this._reader.getComputedNumericAtIndex(0)}setComputedNumeric(e,r){return this._reader.setComputedNumericAtIndex(r,0)}getComputedString(e){return this._reader.getComputedStringAtIndex(0)}setComputedString(e,r){return this._reader.setComputedStringAtIndex(0,r)}getComputedNumericAtIndex(e){return this._reader.getComputedNumericAtIndex(e)}setComputedNumericAtIndex(e,r){this._reader.setComputedNumericAtIndex(e,r)}getComputedStringAtIndex(e){return this._reader.getComputedStringAtIndex(e)}setComputedStringAtIndex(e,r){return this._reader.setComputedStringAtIndex(e,r)}transform(e,r,t,d){const a=this.copy();return a._reader=this._reader.transform(e,r,t,d),a}readAttribute(e,r=!1){return this._reader.readAttribute(e,r)}readAttributes(){return this._reader.readAttributes()}joinAttributes(e){return this._reader.joinAttributes(e)}readArcadeFeature(){return this._reader.readArcadeFeature()}geometry(){return this._reader.geometry()}field(e){return this.readAttribute(e,!0)}hasField(e){return this._reader.hasField(e)}setField(e,r){return this._reader.setField(e,r)}keys(){return this._reader.keys()}castToText(e=!1){return this._reader.castToText(e)}getQuantizationTransform(){return this._reader.getQuantizationTransform()}getAttributeHash(){return this._reader.getAttributeHash()}getObjectId(){return this._reader.getObjectId()}getDisplayId(){return this._reader.getDisplayId()}setDisplayId(e){return this._reader.setDisplayId(e)}getGroupId(){return this._reader.getGroupId()}setGroupId(e){return this._reader.setGroupId(e)}getXHydrated(){return this._reader.getXHydrated()}getYHydrated(){return this._reader.getYHydrated()}getX(){return this._reader.getX()}getY(){return this._reader.getY()}setIndex(e){return this._reader.setIndex(e)}getIndex(){return this._reader.getIndex()}readLegacyFeature(){return this._reader.readLegacyFeature()}readOptimizedFeature(){return this._reader.readOptimizedFeature()}readLegacyPointGeometry(){return this._reader.readLegacyPointGeometry()}readLegacyGeometry(){return this._reader.readLegacyGeometry()}readLegacyCentroid(){return this._reader.readLegacyCentroid()}readGeometryArea(){return this._reader.readGeometryArea()}readUnquantizedGeometry(){return this._reader.readUnquantizedGeometry()}readHydratedGeometry(){return this._reader.readHydratedGeometry()}readGeometry(){return this._reader.readGeometry()}readCentroid(){return this._reader.readCentroid()}_readAttribute(e,r){throw new Error(\"Error: Should not be called. Underlying _reader should be used instead\")}_readAttributes(){throw new Error(\"Error: Should not be called. Underlying _reader should be used instead\")}}export{r as FeatureSetReaderIndirect};\n"],"names":["t","_classCallCheck","this","size","_start","maxSize","_buffer","Array","_createClass","key","get","value","s","_step","_iterator","_createForOfIteratorHelper","n","done","err","e","f","dequeue","o","a","d","h","c","I","getObjectId","getAttributes","readAttributes","getAttribute","readAttribute","getAttributeAsTimestamp","readAttributeAsTimestamp","cloneWithGeometry","getGeometry","readHydratedGeometry","getCentroid","readCentroid","u","_n","_inherits","_super","_createSuper","r","_this","call","featureAdapter","events","_featureSetsByInstance","Map","_objectIdToDisplayId","_spatialIndexInvalid","_indexSearchCache","_index","minX","_storage","getXMin","minY","getYMin","maxX","getXMax","maxY","getYMax","mode","forEach","readGeometry","isPoint","lengths","reduce","length","featureCount","vertexCount","ringCount","has","addOrUpdate","attachStorage","getCursor","next","getDisplayId","setComputedAttributes","scale","set","instance","_insertFeature","emit","_this2","_rebuildIndex","id","find","tileId","readers","_searchIndex","bounds","i","getInstanceId","push","from","enqueue","_this$_objectIdToDisp","getIndex","createDisplayId","setDisplayId","setInstanceId","delete","releaseDisplayId","removeAtIndex","isEmpty","_this3","_lookupFeature","_this4","_getFeatureSet","setIndex","_step2","_iterator2","lookupFeatureByDisplayId","_step3","_iterator3","_this5","unsetAttributeData","_this6","search","_this7","setBounds","clear","load","_canCacheExpressionValue","_sourceInfo","_bitsets","computed","getBitset","createBitset","_updateSchema","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_a","_e","_s","wrap","_context","prev","_schema","abrupt","console","debug","targets","name","attributes","t0","keys","t1","t2","type","_createArcadeComputedField","_createLabelArcadeComputedField","Promise","all","_computedFields","sent","some","expression","referencesScale","_statisticFields","stop","_x","_x2","apply","arguments","_evaluateField","resultType","setComputedNumericAtIndex","fieldIndex","setComputedStringAtIndex","_createArcadeComputedField2","_callee2","_context2","spatialReference","fieldsIndex","_objectSpread","valueExpression","t3","t4","_x3","_createLabelArcadeComputedField2","_callee3","_yield$import","_a3","_context3","createLabelFunction","label","builder","_x4","readArcadeFeature","evaluate","_a$$view","contextTimeZone","$view","timeZone","$feature","services","getLogger","warn","createInstance","fullSchema","_currentIndex","_reader","_indices","fields","copy","_nextIndex","_getExists","setArcadeSpatialReference","geometryType","hasFeatures","exceededTransferLimit","hasZ","hasM","getStorage","getComputedNumericAtIndex","getComputedStringAtIndex","transform","undefined","joinAttributes","geometry","hasField","setField","castToText","getQuantizationTransform","getAttributeHash","getGroupId","setGroupId","getXHydrated","getYHydrated","getX","getY","readLegacyFeature","readOptimizedFeature","readLegacyPointGeometry","readLegacyGeometry","readLegacyCentroid","readGeometryArea","readUnquantizedGeometry","Error"],"sourceRoot":""}