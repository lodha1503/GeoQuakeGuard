"use strict";(self.webpackChunkamit_kumar_rathi=self.webpackChunkamit_kumar_rathi||[]).push([[9887],{29887:function(e,t,a){a.r(t),a.d(t,{applyEdits:function(){return k},checkEditingCapabilities:function(){return M},isFeatureIdentifierArrayWithGlobalId:function(){return I},isFeatureIdentifierArrayWithObjectId:function(){return A},isFeatureIdentifierWithGlobalId:function(){return Z},isFeatureIdentifierWithObjectId:function(){return F},normalizeCollections:function(){return W},normalizeEdits:function(){return C},normalizeGeometries:function(){return D},shallowCloneFeature:function(){return _},uploadAssets:function(){return J}});var r=a(1413),n=a(74165),i=a(37762),o=a(15861),u=a(52639),s=a(40281),l=a(10064),d=a(84652),c=a(32718),p=a(66978),h=a(35995),f=a(71907),y=a(91340),m=a(56601),b=a(37270),v=a(18277),g=a(37933);function w(e){return null!=(null===e||void 0===e?void 0:e.applyEdits)}function F(e){return"object"==typeof e&&null!=e&&"objectId"in e&&!!e.objectId}function A(e){return e.every(F)}function Z(e){return"object"==typeof e&&null!=e&&"globalId"in e&&!!e.globalId}function I(e){return e.every(Z)}function k(e,t,a){return E.apply(this,arguments)}function E(){return E=(0,o.Z)((0,n.Z)().mark((function e(t,a,r){var i,o,u,s,l,c,h,f,y,b,v,g,w=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=w.length>3&&void 0!==w[3]?w[3]:{},s="gdbVersion"in t?t.gdbVersion:null,l=null!==(i=o.gdbVersion)&&void 0!==i?i:s,(0,m.lQ)(t)&&t.url?u=(0,m.jF)(t.url,t.layerId,l,"original-and-current-features"===o.returnServiceEditsOption):((u=(0,p.hh)()).promise.then((function(e){(e.addedFeatures.length||e.updatedFeatures.length||e.deletedFeatures.length||e.addedAttachments.length||e.updatedAttachments.length||e.deletedAttachments.length)&&t.emit("edits",e)})),c={result:u.promise},t.emit("apply-edits",c)),e.prev=3,e.next=6,S(t,a,r,o);case 6:return f=e.sent,y=f.results,b=f.edits,v=function(e){return e.filter((function(e){return!e.error})).map(d.d9)},g={edits:b,addedFeatures:v(y.addFeatureResults),updatedFeatures:v(y.updateFeatureResults),deletedFeatures:v(y.deleteFeatureResults),addedAttachments:v(y.addAttachmentResults),updatedAttachments:v(y.updateAttachmentResults),deletedAttachments:v(y.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:y.editMoment?new Date(y.editMoment):null,globalIdToObjectId:o.globalIdToObjectId},e.abrupt("return",(null!==(h=y.editedFeatureResults)&&void 0!==h&&h.length&&(g.editedFeatures=y.editedFeatureResults),u.resolve(g),y));case 14:throw e.prev=14,e.t0=e.catch(3),u.reject(e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[3,14]])}))),E.apply(this,arguments)}function S(e,t,a,r){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)((0,n.Z)().mark((function e(t,a,r,i){var o,u,s,d,c,p,h,f,y;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:if(w(a)){e.next=4;break}throw new l.Z("".concat(t.type,"-layer:no-editing-support"),"Layer source does not support applyEdits capability",{layer:t});case 4:if((0,g.ln)(t)){e.next=6;break}throw new l.Z("".concat(t.type,"-layer:editing-disabled"),"Editing is disabled for layer",{layer:t});case 6:return e.next=8,R(t,r,i);case 8:if(h=e.sent,f=h.edits,y=h.options,!(null!==(o=f.addFeatures)&&void 0!==o&&o.length||null!==(u=f.updateFeatures)&&void 0!==u&&u.length||null!==(s=f.deleteFeatures)&&void 0!==s&&s.length||null!==(d=f.addAttachments)&&void 0!==d&&d.length||null!==(c=f.updateAttachments)&&void 0!==c&&c.length||null!==(p=f.deleteAttachments)&&void 0!==p&&p.length)){e.next=19;break}return e.t1=f,e.next=15,a.applyEdits(f,y);case 15:e.t2=e.sent,e.t0={edits:e.t1,results:e.t2},e.next=20;break;case 19:e.t0={edits:f,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}};case 20:return e.abrupt("return",e.t0);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t,a){return O.apply(this,arguments)}function O(){return(O=(0,o.Z)((0,n.Z)().mark((function e(t,a,i){var o,u,s,d,p,h,f,y,m;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(0,g.S1)(t),u=a&&(a.addFeatures||a.updateFeatures||a.deleteFeatures),s=a&&(a.addAttachments||a.updateAttachments||a.deleteAttachments),d=null!=t.infoFor3D,M(a,o,i,!!u,!!s,"".concat(t.type,"-layer")),o.data.isVersioned||null===i||void 0===i||!i.gdbVersion){e.next=3;break}throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'");case 3:if(o.editing.supportsRollbackOnFailure||null===i||void 0===i||!i.rollbackOnFailureEnabled){e.next=5;break}throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'");case 5:if(null!=(p=(0,r.Z)({},i)).rollbackOnFailureEnabled||o.editing.supportsRollbackOnFailure||(p.rollbackOnFailureEnabled=!0),p.rollbackOnFailureEnabled||"original-and-current-features"!==p.returnServiceEditsOption||(!1===p.rollbackOnFailureEnabled&&c.Z.getLogger("esri.layers.graphics.editingSupport").warn("".concat(t.type,"-layer:invalid-parameter"),"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwrritten and set to true."),p.rollbackOnFailureEnabled=!0),o.editing.supportsReturnServiceEditsInSourceSpatialReference||!p.returnServiceEditsInSourceSR){e.next=8;break}throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'");case 8:if(!p.returnServiceEditsInSourceSR||"original-and-current-features"===p.returnServiceEditsOption){e.next=10;break}throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'");case 10:if(h=C(a,o,"".concat(t.type,"-layer")),f=(null===i||void 0===i?void 0:i.globalIdUsed)||d,y=t.fields.filter((function(e){return"big-integer"===e.type||"oid"===e.type&&(e.length||0)>=8})),!f){e.next=16;break}if(null!=(m=t.globalIdField)){e.next=15;break}throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"Layer does not specify a global id field.");case 15:h.addFeatures.forEach((function(e){return z(e,m)}));case 16:if(h.addFeatures.forEach((function(e){return j(e,t,f,y)})),h.updateFeatures.forEach((function(e){return T(e,t,f,y)})),h.deleteFeatures.forEach((function(e){return G(e,t,f,y)})),h.addAttachments.forEach((function(e){return B(e,t)})),h.updateAttachments.forEach((function(e){return B(e,t)})),e.t0=d,!e.t0){e.next=25;break}return e.next=25,q(h,t);case 25:return e.next=27,D(h);case 27:return e.t1=e.sent,e.t2=p,e.abrupt("return",{edits:e.t1,options:e.t2});case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t,a,r){if(a){if("attributes"in e&&!e.attributes[t.globalIdField])throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"Feature should have '".concat(t.globalIdField,"' when 'globalIdUsed' is true"));if(!("attributes"in e)&&!e.globalId)throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"`'globalId' of the feature should be passed when 'globalIdUsed' is true")}if(r.length&&"attributes"in e){var n,o=(0,i.Z)(r);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=e.attributes[u.name];if(void 0!==s&&!(0,b.d2)(u,s))throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"Big-integer field '".concat(u.name,"' of the feature must be less than ").concat(Number.MAX_SAFE_INTEGER),{feature:e})}}catch(p){o.e(p)}finally{o.f()}}if("geometry"in e&&null!=e.geometry){var d,c;if(e.geometry.hasZ&&!1===(null===(d=t.capabilities)||void 0===d?void 0:d.data.supportsZ))throw new l.Z("".concat(t.type,"-layer:z-unsupported"),"Layer does not support z values while feature has z values.");if(e.geometry.hasM&&!1===(null===(c=t.capabilities)||void 0===c?void 0:c.data.supportsM))throw new l.Z("".concat(t.type,"-layer:m-unsupported"),"Layer does not support m values while feature has m values.")}}function U(e,t){var a;if("geometry"in e&&"mesh"===(null===(a=e.geometry)||void 0===a?void 0:a.type)&&null!=t.infoFor3D&&e.geometry.vertexSpace.isGeoreferenced)throw new l.Z("".concat(t.type,"-layer:georeferenced-mesh-unsupported"),"Uploading georeferenced meshes to a layer is not supported.")}function j(e,t,a,r){L(e,t,a,r),U(e,t)}function G(e,t,a,r){L(e,t,a,r)}function T(e,t,a,r){L(e,t,a,r),U(e,t);var n=(0,g.S1)(t);if("geometry"in e&&null!=e.geometry&&(null===n||void 0===n||!n.editing.supportsGeometryUpdate))throw new l.Z("".concat(t.type,"-layer:unsupported-operation"),"Layer does not support geometry updates.")}function B(e,t){var a,r=e.feature,n=e.attachment;if(!r||"attributes"in r&&!r.attributes[t.globalIdField])throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"Attachment should have reference to a feature with 'globalId'");if(!("attributes"in r)&&!r.globalId)throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"Attachment should have reference to 'globalId' of the parent feature");if(!n.globalId)throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"Attachment should have 'globalId'");if(!n.data&&!n.uploadId)throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"Attachment should have 'data' or 'uploadId'");if(!(n.data instanceof File&&n.data.name)&&!n.name)throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"'name' is required when attachment is specified as Base64 encoded string using 'data'");if((null===(a=t.capabilities)||void 0===a||!a.editing.supportsUploadWithItemId)&&n.uploadId)throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'");if("string"==typeof n.data){var i=(0,h.sJ)(n.data);if(i&&!i.isBase64)throw new l.Z("".concat(t.type,"-layer:invalid-parameter"),"Attachment 'data' should be a Blob, File or Base64 encoded string")}}function z(e,t){var a=e.attributes;null==a[t]&&(a[t]=(0,f.zS)())}function D(e){return V.apply(this,arguments)}function V(){return(V=(0,o.Z)((0,n.Z)().mark((function e(t){var a,r,i,o,u,s,l,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null!==(a=t.addFeatures)&&void 0!==a?a:[],o=null!==(r=t.updateFeatures)&&void 0!==r?r:[],u=i.concat(o).map((function(e){return e.geometry})),e.next=5,(0,y.aX)(u);case 5:return s=e.sent,l=i.length,d=o.length,e.abrupt("return",(s.slice(0,l).forEach((function(e,t){return i[t].geometry=e})),s.slice(l,l+d).forEach((function(e,t){return o[t].geometry=e})),t));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){var t,a;return{addFeatures:Array.from(null!==(t=null===e||void 0===e?void 0:e.addFeatures)&&void 0!==t?t:[]),updateFeatures:Array.from(null!==(a=null===e||void 0===e?void 0:e.updateFeatures)&&void 0!==a?a:[]),deleteFeatures:e&&s.Z.isCollection(e.deleteFeatures)?e.deleteFeatures.toArray():e.deleteFeatures||[],addAttachments:e.addAttachments||[],updateAttachments:e.updateAttachments||[],deleteAttachments:e.deleteAttachments||[]}}function C(e,t,a){var r,n,i,o=W(e);if(null!==(r=o.addFeatures)&&void 0!==r&&r.length&&!t.operations.supportsAdd)throw new l.Z("".concat(a,":unsupported-operation"),"Layer does not support adding features.");if(null!==(n=o.updateFeatures)&&void 0!==n&&n.length&&!t.operations.supportsUpdate)throw new l.Z("".concat(a,":unsupported-operation"),"Layer does not support updating features.");if(null!==(i=o.deleteFeatures)&&void 0!==i&&i.length&&!t.operations.supportsDelete)throw new l.Z("".concat(a,":unsupported-operation"),"Layer does not support deleting features.");return o.addFeatures=o.addFeatures.map(_),o.updateFeatures=o.updateFeatures.map(_),o.addAssetFeatures=[],o}function M(e,t,a,r,n,i){if(!e||!r&&!n)throw new l.Z("".concat(i,":missing-parameters"),"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required");if(!t.editing.supportsGlobalId&&null!==a&&void 0!==a&&a.globalIdUsed)throw new l.Z("".concat(i,":invalid-parameter"),"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'");if(!t.editing.supportsGlobalId&&n)throw new l.Z("".concat(i,":invalid-parameter"),"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'");if((null===a||void 0===a||!a.globalIdUsed)&&n)throw new l.Z("".concat(i,":invalid-parameter"),"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true")}function _(e){var t=new u.Z;return e.attributes||(e.attributes={}),t.geometry=e.geometry,t.attributes=e.attributes,t}function q(e,t){return N.apply(this,arguments)}function N(){return(N=(0,o.Z)((0,n.Z)().mark((function e(t,a){var r,o,u,s,d,c,p,h,f,y,m,b,g;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=a.infoFor3D){e.next=2;break}return e.abrupt("return");case 2:if(d=a.infoFor3D,(c=null!==(r=(0,v.S0)("model/gltf-binary",d.supportedFormats))&&void 0!==r?r:(0,v.Ow)("glb",d.supportedFormats))&&d.editFormats.includes(c)){e.next=5;break}throw new l.Z("".concat(a.type,"-layer:binary-gltf-asset-not-supported"),"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.");case 5:null!==(o=t.addAssetFeatures)&&void 0!==o||(t.addAssetFeatures=[]),p=t.addAssetFeatures,h=(0,i.Z)(null!==(u=t.addFeatures)&&void 0!==u?u:[]);try{for(h.s();!(f=h.n()).done;)X(y=f.value)&&p.push(y)}catch(n){h.e(n)}finally{h.f()}m=(0,i.Z)(null!==(s=t.updateFeatures)&&void 0!==s?s:[]);try{for(m.s();!(b=m.n()).done;)X(g=b.value)&&p.push(g)}catch(n){m.e(n)}finally{m.f()}case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){var t;return"mesh"===(null===e||void 0===e||null===(t=e.geometry)||void 0===t?void 0:t.type)}function J(e,t,a,r){if(!w(t))throw new l.Z("".concat(e.type,"-layer:no-editing-support"),"Layer source does not support applyEdits capability",{layer:e});if(!t.uploadAssets)throw new l.Z("".concat(e.type,"-layer:no-asset-upload-support"),"Layer source does not support uploadAssets capability",{layer:e});return t.uploadAssets(a,r)}}}]);
//# sourceMappingURL=9887.aa890493.chunk.js.map