{"version":3,"file":"static/js/530.537282d9.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/layers/StreamLayerView2D.js","../node_modules/@arcgis/core/views/layers/StreamLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{handlesGroup as r,makeHandle as s}from\"../../../core/handleUtils.js\";import{watch as i}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../rest/support/FeatureSet.js\";import l from\"./FeatureLayerView2D.js\";import{toJSONGeometryType as p}from\"./support/util.js\";import c from\"../../layers/StreamLayerView.js\";function u(e,t){if(null==e&&null==t)return null;const r={};return null!=t&&(r.geometry=t.toJSON()),null!=e&&(r.where=e),r}let d=class extends(c(l)){constructor(){super(...arguments),this.pipelineConnectionStatus=\"disconnected\",this.pipelineErrorString=null,this._enabledEventTypes=new Set}initialize(){this.addHandles([i((()=>this.layer.customParameters),(e=>this._proxy.updateCustomParameters(e))),this.layer.on(\"send-message-to-socket\",(e=>this._proxy.sendMessageToSocket(e))),this.layer.on(\"send-message-to-client\",(e=>this._proxy.sendMessageToClient(e))),i((()=>this.layer.purgeOptions),(()=>this._update())),i((()=>this.suspended),this._onSuspendedChange.bind(this))],\"constructor\")}get connectionError(){return this.pipelineErrorString?new t(\"stream-controller\",this.pipelineErrorString):null}on(e,t){if(Array.isArray(e))return r(e.map((e=>this.on(e,t))));const i=[\"data-received\",\"message-received\"].includes(e);i&&(this._enabledEventTypes.add(e),this._proxy.enableEvent(e,!0));const n=super.on(e,t),o=this;return s((()=>{n.remove(),i&&(o._proxy.closed||o.hasEventListener(e)||o._proxy.enableEvent(e,!1))}))}queryLatestObservations(e,r){if(!(this.layer.timeInfo?.endField||this.layer.timeInfo?.startField||this.layer.timeInfo?.trackIdField))throw new t(\"streamlayer-no-timeField\",\"queryLatestObservation can only be used with services that define a TrackIdField\");return this._proxy.queryLatestObservations(this._cleanUpQuery(e),r).then((e=>{const t=a.fromJSON(e);return t.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),t}))}detach(){super.detach(),this.pipelineConnectionStatus=\"disconnected\"}get _streamConnectionStatus(){return this.pipelineConnectionStatus}_doPause(){this._proxy?.pauseStream()}_doResume(){this._proxy?.resumeStream()}_createClientOptions(){return{...super._createClientOptions(),setProperty:e=>{this.set(e.propertyName,e.value)}}}_createTileRendererHash(e){const t=`${JSON.stringify(this.layer.purgeOptions)}.${JSON.stringify(u(this.layer.definitionExpression,this.layer.geometryDefinition))})`;return super._createTileRendererHash(e)+t}async _createServiceOptions(){const e=this.layer,{objectIdField:t}=e,r=e.fields.map((e=>e.toJSON())),s=p(e.geometryType),i=e.timeInfo?.toJSON()||null,n=e.spatialReference?e.spatialReference.toJSON():null;return{type:\"stream\",isPaused:this._isUserPaused,fields:r,fieldsIndex:this.layer.fieldsIndex.toJSON(),geometryType:s,objectIdField:t,timeInfo:i,source:this.layer.parsedUrl,serviceFilter:u(this.layer.definitionExpression,this.layer.geometryDefinition),purgeOptions:this.layer.purgeOptions.toJSON(),enabledEventTypes:Array.from(this._enabledEventTypes.values()),spatialReference:n,maxReconnectionAttempts:this.layer.maxReconnectionAttempts,maxReconnectionInterval:this.layer.maxReconnectionInterval,updateInterval:this.layer.updateInterval,customParameters:e.customParameters}}};e([n()],d.prototype,\"pipelineConnectionStatus\",void 0),e([n()],d.prototype,\"pipelineErrorString\",void 0),e([n({readOnly:!0})],d.prototype,\"connectionError\",null),e([n({readOnly:!0})],d.prototype,\"_streamConnectionStatus\",null),d=e([o(\"esri.views.2d.layers.StreamLayerView2D\")],d);const y=d;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import t from\"../../layers/support/FeatureFilter.js\";const o=o=>{let i=class extends o{resume(){this._isUserPaused=!1,this.suspended||this._doResume()}pause(){this._isUserPaused=!0,this.suspended||this._doPause()}constructor(...s){super(...s),this._isUserPaused=!1,this.filter=null}get connectionStatus(){return this._isUserPaused?\"paused\":this._streamConnectionStatus}_onSuspendedChange(s){s?this._doPause():this._isUserPaused||this._doResume()}};return s([e()],i.prototype,\"_isUserPaused\",void 0),s([e({readOnly:!0})],i.prototype,\"connectionStatus\",null),s([e({type:t})],i.prototype,\"filter\",void 0),i=s([r(\"esri.layers.mixins.StreamLayerView\")],i),i};export{o as default};\n"],"names":["u","e","t","r","geometry","toJSON","where","d","_c","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","pipelineConnectionStatus","pipelineErrorString","_enabledEventTypes","Set","_createClass","key","value","_this2","this","addHandles","i","layer","customParameters","_proxy","updateCustomParameters","on","sendMessageToSocket","sendMessageToClient","purgeOptions","_update","suspended","_onSuspendedChange","bind","get","_this3","Array","isArray","map","includes","add","enableEvent","n","_get","_getPrototypeOf","prototype","call","o","s","remove","closed","hasEventListener","_this$layer$timeInfo","_this$layer$timeInfo2","_this$layer$timeInfo3","_this4","timeInfo","endField","startField","trackIdField","queryLatestObservations","_cleanUpQuery","then","a","fromJSON","features","forEach","sourceLayer","_this$_proxy","pauseStream","_this$_proxy2","resumeStream","_this5","_objectSpread","setProperty","set","propertyName","concat","JSON","stringify","definitionExpression","geometryDefinition","_createServiceOptions2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_e$timeInfo","wrap","_context","prev","next","objectIdField","fields","p","geometryType","spatialReference","abrupt","type","isPaused","_isUserPaused","fieldsIndex","source","parsedUrl","serviceFilter","enabledEventTypes","from","values","maxReconnectionAttempts","maxReconnectionInterval","updateInterval","stop","_o","_len","length","_key","filter","_doResume","_doPause","_streamConnectionStatus","readOnly","c","l","y"],"sourceRoot":""}