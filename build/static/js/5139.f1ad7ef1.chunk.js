"use strict";(self.webpackChunkamit_kumar_rathi=self.webpackChunkamit_kumar_rathi||[]).push([[5139],{11873:function(e,t,n){function r(){return[1,0,0,0,1,0,0,0,1]}function i(e,t,n,r,i,a,l,s,o){return[e,t,n,r,i,a,l,s,o]}function a(e,t){return new Float64Array(e,t,9)}n.d(t,{a:function(){return r},c:function(){return a},f:function(){return i}});Object.freeze(Object.defineProperty({__proto__:null,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},create:r,createView:a,fromValues:i},Symbol.toStringTag,{value:"Module"}))},67593:function(e,t,n){n.d(t,{E:function(){return f},H:function(){return d}});var r=n(29439),i=n(22753),a=n(11873),l=n(88396),s=n(11186),o=(0,n(71353).c)(),u=(0,a.a)(),c=(0,a.a)(),h=(0,a.a)();function d(e,t,n){return(0,s.s)(o,t[0],t[1],1),(0,s.t)(o,o,(0,i.t)(u,n)),0===o[2]?(0,l.s)(e,o[0],o[1]):(0,l.s)(e,o[0]/o[2],o[1]/o[2])}function f(e,t,n){return v(c,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),v(h,n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]),(0,i.m)(e,(0,i.a)(c,c),h),0!==e[8]&&(e[0]/=e[8],e[1]/=e[8],e[2]/=e[8],e[3]/=e[8],e[4]/=e[8],e[5]/=e[8],e[6]/=e[8],e[7]/=e[8],e[8]/=e[8]),e}function v(e,t,n,a,l,c,h,d,f){(0,i.s)(e,t,a,c,n,l,h,1,1,1),(0,s.s)(o,d,f,1),(0,i.a)(u,e);var v=(0,s.t)(o,o,(0,i.t)(u,u)),p=(0,r.Z)(v,3),y=p[0],m=p[1],_=p[2];return(0,i.s)(u,y,0,0,0,m,0,0,0,_),(0,i.m)(e,u,e)}},59568:function(e,t,n){n.d(t,{L:function(){return p}});var r=n(15671),i=n(43144),a=n(60136),l=n(29388),s=n(27366),o=n(7138),u=n(49861),c=(n(25243),n(63780),n(93169),n(69912)),h=n(80885),d=n(45925),f=n(65156),v=n(47991),p=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,e)}return(0,i.Z)(n,[{key:"bounds",get:function(){var e=this.coords;return null==(null===e||void 0===e?void 0:e.extent)?null:(0,f.oJ)(e.extent)}},{key:"coords",get:function(){var e,t=null===(e=this.element.georeference)||void 0===e?void 0:e.coords;return(0,d.projectOrLoad)(t,this.spatialReference).geometry}},{key:"normalizedCoords",get:function(){return h.Z.fromJSON((0,v.Ui)(this.coords))}},{key:"normalizedBounds",get:function(){var e=null!=this.normalizedCoords?this.normalizedCoords.extent:null;return null!=e?(0,f.oJ)(e):null}}]),n}(o.Z);(0,s._)([(0,u.Cb)()],p.prototype,"spatialReference",void 0),(0,s._)([(0,u.Cb)()],p.prototype,"element",void 0),(0,s._)([(0,u.Cb)()],p.prototype,"bounds",null),(0,s._)([(0,u.Cb)()],p.prototype,"coords",null),(0,s._)([(0,u.Cb)()],p.prototype,"normalizedCoords",null),(0,s._)([(0,u.Cb)()],p.prototype,"normalizedBounds",null),p=(0,s._)([(0,c.j)("esri.layers.support.MediaElementView")],p)},45139:function(e,t,n){n.r(t),n.d(t,{default:function(){return ve}});var r=n(29439),i=n(74165),a=n(37762),l=n(15861),s=n(15671),o=n(43144),u=n(88301),c=n(61120),h=n(60136),d=n(29388),f=n(27366),v=(n(59486),n(52639),n(94931),n(78451),n(98689),n(57823),n(32066),n(49018),n(34999),n(28189),n(9014),n(32718)),p=(n(51508),n(40281)),y=(n(93169),n(77427)),m=n(66978),_=n(94172),g=n(49861),w=(n(25243),n(63780),n(69912)),Z=n(65156),k=n(34066),b=n(66504),x=n(59568),C=n(10064),R=(n(99346),n(86741),n(42265),n(76200),n(35995),n(41978),n(87422)),E=(n(3453),n(91505),n(16889)),M=n(83826),V=(n(39484),n(80613)),T=(n(13594),n(151),n(84319),n(52120),n(8548)),S=(n(37825),n(3667),n(94109),n(84936),n(54815),n(10435),n(30575),n(41768),n(78020),n(44070)),O=(n(53634),n(46888),n(57808)),q=n(45412),A=(n(64337),n(61441),n(86909),n(82386),n(73271),n(21391),n(15245)),P=(n(10106),n(34052),n(53456),n(54711),n(99267),n(92841),n(23174),n(93985),n(13163),n(36207),n(98634),n(46228),n(78041),n(39416),n(70812),n(77318),n(26885),n(79347),n(83406),n(68860),n(49229),n(8229)),z=n(91340),G=(n(91908),n(14921),n(69610),n(37995),n(73828),n(32344)),D=n(85269),U=n(1413),H=n(98928),L=n(92026),j=n(67593),W=n(11873),I=n(88396),B=n(6394),Q=n(48202),Y=n(25999),N=n(52311),F=(0,W.a)(),J={none:Q.of.None,loop:Q.of.Loop,oscillate:Q.of.Oscillate};var X=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this)).elementView=e,r.isWrapAround=!1,r.perspectiveTransform=(0,B.a)(),r._playHandle=null,r._vertices=new Float32Array(20),r._handles=[],r._handles.push((0,_.YP)((function(){return r.elementView.element.opacity}),(function(e){return r.opacity=e}),_.nn),(0,_.YP)((function(){return[r.elementView.coords]}),(function(){r.requestRender()}),_.nn),(0,_.YP)((function(){return["animationOptions"in r.elementView.element&&r.elementView.element.animationOptions]}),(function(){var e;null!==(e=r._playHandle)&&void 0!==e&&e.remove(),r.texture=(0,L.M2)(r.texture),r.requestRender()}),_.nn),(0,_.gx)((function(){return r.elementView.element.loaded}),(function(){var e=r.elementView.element;r.ready(),"video"===e.type&&null!=e.content&&r._handles.push((0,H.on)(e.content,"play",(function(){return r.requestRender()})))}),_.nn)),e.element.load().catch((function(t){v.Z.getLogger("esri.views.2d.layers.MediaLayerView2D").error(new C.Z("element-load-error","Element cannot be displayed",{element:e,error:t}))})),r}return(0,o.Z)(n,[{key:"destroy",value:function(){var e;null!==(e=this._playHandle)&&void 0!==e&&e.remove(),this._handles.forEach((function(e){return e.remove()})),this.texture=(0,L.M2)(this.texture)}},{key:"dvsMat3",get:function(){return this.parent.dvsMat3}},{key:"beforeRender",value:function(e){var t=this,r=e.context,i=this.elementView.element.content;if(null!=i){var a=i instanceof HTMLImageElement,l=i instanceof HTMLVideoElement,s=a?i.naturalWidth:l?i.videoWidth:i.width,o=a?i.naturalHeight:l?i.videoHeight:i.height;if(this._updatePerspectiveTransform(s,o),this.texture)l&&!i.paused&&(this.texture.setData(i),this.requestRender(),(r.type===M.zO.WEBGL2||(0,E.wt)(s)&&(0,E.wt)(o))&&this.texture.generateMipmap());else{var h=new N.X;if(h.wrapMode=T.e8.CLAMP_TO_EDGE,h.preMultiplyAlpha=!0,h.width=s,h.height=o,"getFrame"in i){"animationOptions"in this.elementView.element&&(this._playHandle=(0,Y.hY)(i,function(e){return e?(0,U.Z)((0,U.Z)({},e),{},{playAnimation:e.playing,repeatType:e.repeatType?J[e.repeatType]:void 0}):{}}(this.elementView.element.animationOptions),null,(function(e){t.texture?t.texture.setData(e):t.texture=new O.x(r,h,e),t.requestRender()})))}else this.texture=new O.x(r,h,i);(r.type===M.zO.WEBGL2||(0,E.wt)(s)&&(0,E.wt)(o))&&this.texture.generateMipmap(),l&&!i.paused&&this.requestRender()}}(0,u.Z)((0,c.Z)(n.prototype),"beforeRender",this).call(this,e)}},{key:"_createTransforms",value:function(){return null}},{key:"updateDrawCoords",value:function(e,t){var n=this.elementView.coords;if(null!=n){var i=(0,r.Z)(n.rings[0],4),a=i[0],l=i[1],s=i[2],o=i[3],u=this._vertices,c=e.x,h=e.y,d=0!==t;d?u.set([l[0]-c,l[1]-h,a[0]-c,a[1]-h,s[0]-c,s[1]-h,o[0]-c,o[1]-h,o[0]-c,o[1]-h,l[0]+t-c,l[1]-h,l[0]+t-c,l[1]-h,a[0]+t-c,a[1]-h,s[0]+t-c,s[1]-h,o[0]+t-c,o[1]-h]):u.set([l[0]-c,l[1]-h,a[0]-c,a[1]-h,s[0]-c,s[1]-h,o[0]-c,o[1]-h]),this.isWrapAround=d}}},{key:"getVAO",value:function(e,t,n){if(null==this.elementView.coords)return null;var r=this._vertices;if(this._vao)this._geometryVbo.setData(r);else{this._geometryVbo=S.f.createVertex(e,T.l1.DYNAMIC_DRAW,r);var i=S.f.createVertex(e,T.l1.STATIC_DRAW,new Uint16Array([0,0,0,1,1,0,1,1,1,1,0,0,0,0,0,1,1,0,1,1]));this._vao=new q.U(e,n,t,{geometry:this._geometryVbo,tex:i})}return this._vao}},{key:"_updatePerspectiveTransform",value:function(e,t){var n=this._vertices;(0,j.E)(F,[0,0,e,0,0,t,e,t],[n[0],n[1],n[4],n[5],n[2],n[3],n[6],n[7]]),(0,I.s)(this.perspectiveTransform,F[6]/F[8]*e,F[7]/F[8]*t)}}]),n}(R.s),K=n(93433),$=n(17842),ee=n(22753),te=n(23588),ne=n(92975),re=n(86226),ie=n(62272),ae=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=t.apply(this,arguments))._localOrigin=(0,$.vW)(0,0),e._viewStateId=-1,e._dvsMat3=(0,te.c)(),e}return(0,o.Z)(n,[{key:"dvsMat3",get:function(){return this._dvsMat3}},{key:"beforeRender",value:function(e){this._updateMatrices(e),this._updateOverlays(e,this.children);var t,n=(0,a.Z)(this.children);try{for(n.s();!(t=n.n()).done;){t.value.beforeRender(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"prepareRenderPasses",value:function(e){var t=this,r=e.registerRenderPass({name:"overlay",brushes:[ie.U.overlay],target:function(){return t.children},drawPhase:V.jx.MAP});return[].concat((0,K.Z)((0,u.Z)((0,c.Z)(n.prototype),"prepareRenderPasses",this).call(this,e)),[r])}},{key:"_updateMatrices",value:function(e){var t=e.state,n=t.id,r=t.size,i=t.pixelRatio,a=t.resolution,l=t.rotation,s=t.viewpoint,o=t.displayMat3;if(this._viewStateId!==n){var u=Math.PI/180*l,c=i*r[0],h=i*r[1],d=s.targetGeometry,f=d.x,v=d.y,p=(0,z.or)(f,t.spatialReference);this._localOrigin.x=p,this._localOrigin.y=v;var y=a*c,m=a*h,_=(0,ee.g)(this._dvsMat3);(0,ee.m)(_,_,o),(0,ee.h)(_,_,(0,A.f)(c/2,h/2)),(0,ee.c)(_,_,(0,P.f)(c/y,-h/m,1)),(0,ee.r)(_,_,-u),this._viewStateId=n}}},{key:"_updateOverlays",value:function(e,t){var n=e.state,i=n.rotation,l=n.spatialReference,s=n.worldScreenWidth,o=n.size,u=n.viewpoint,c=this._localOrigin,h=0,d=(0,ne.C5)(l);if(d&&l.isWrappable){var f=o[0],v=o[1],p=180/Math.PI*i,y=Math.abs(Math.cos(p)),m=Math.abs(Math.sin(p)),_=Math.round(f*y+v*m),g=(0,r.Z)(d.valid,2),w=g[0],Z=g[1],k=(0,re.ut)(l),b=u.targetGeometry,x=b.x,C=[x,b.y],R=[0,0];n.toScreen(R,C);var E,M=[0,0];E=_>s?.5*s:.5*_;var V=Math.floor((x+.5*k)/k),T=w+V*k,S=Z+V*k,O=[R[0]+E,0];n.toMap(M,O),M[0]>S&&(h=k),O[0]=R[0]-E,n.toMap(M,O),M[0]<T&&(h=-k);var q,A=(0,a.Z)(t);try{for(A.s();!(q=A.n()).done;){var P=q.value,z=P.elementView.bounds;if(null!=z){var G=(0,r.Z)(z,3),D=G[0],U=G[2];D<w&&U>w?P.updateDrawCoords(c,k):U>Z&&D<Z?P.updateDrawCoords(c,-k):P.updateDrawCoords(c,h)}}}catch(j){A.e(j)}finally{A.f()}}else{var H,L=(0,a.Z)(t);try{for(L.s();!(H=L.n()).done;){H.value.updateDrawCoords(c,h)}}catch(j){L.e(j)}finally{L.f()}}}}]),n}(n(86438).Z),le=n(95986),se=n(67581),oe=n(53866),ue=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=t.apply(this,arguments))._overlayContainer=null,e._fetchQueue=null,e._tileStrategy=null,e._elementReferences=new Map,e._debugGraphicsView=null,e.layer=null,e.elements=new p.Z,e}return(0,o.Z)(n,[{key:"attach",value:function(){var e=this;this.addAttachHandles([(0,_.on)((function(){return e.layer.effectiveSource}),"refresh",(function(){e._tileStrategy.refresh((function(t){return e._updateTile(t)})),e.requestUpdate()})),(0,_.on)((function(){return e.layer.effectiveSource}),"change",(function(t){var n=t.element;return e._elementUpdateHandler(n)}))]),this._overlayContainer=new ae,this.container.addChild(this._overlayContainer),this._fetchQueue=new G.Z({tileInfoView:this.view.featuresTilingScheme,concurrency:10,process:function(t,n){return e._queryElements(t,n)}}),this._tileStrategy=new D.Z({cachePolicy:"purge",resampling:!0,acquireTile:function(t){return e._acquireTile(t)},releaseTile:function(t){return e._releaseTile(t)},tileInfoView:this.view.featuresTilingScheme}),this.requestUpdate()}},{key:"detach",value:function(){var e;this.elements.removeAll(),this._tileStrategy.destroy(),this._fetchQueue.destroy(),this._overlayContainer.removeAllChildren(),this.container.removeAllChildren(),this._elementReferences.clear(),null===(e=this._debugGraphicsView)||void 0===e||e.destroy()}},{key:"supportsSpatialReference",value:function(e){return!0}},{key:"moveStart",value:function(){this.requestUpdate()}},{key:"viewChange",value:function(){this.requestUpdate()}},{key:"moveEnd",value:function(){this.requestUpdate()}},{key:"update",value:function(e){var t;this._tileStrategy.update(e),null===(t=this._debugGraphicsView)||void 0===t||t.update(e)}},{key:"hitTest",value:function(){var e=(0,l.Z)((0,i.Z)().mark((function e(t,n){var r,l,s,o,u,c,h,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],l=t.normalize(),s=[l.x,l.y],o=(0,a.Z)(this._elementReferences.values());try{for(o.s();!(u=o.n()).done;)c=u.value.projectedElement,h=c.normalizedCoords,d=c.element,null!=h&&(0,k.wP)(h.rings,s)&&r.push({type:"media",element:d,layer:this.layer,mapPoint:t,sourcePoint:d.toSource(t)})}catch(n){o.e(n)}finally{o.f()}return e.abrupt("return",r.reverse());case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"canResume",value:function(){return null!=this.layer.source&&(0,u.Z)((0,c.Z)(n.prototype),"canResume",this).call(this)}},{key:"doRefresh",value:function(){var e=(0,l.Z)((0,i.Z)().mark((function e(){var t=this;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._fetchQueue.reset(),this._tileStrategy.refresh((function(e){return t._updateTile(e)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_acquireTile",value:function(e){var t=new fe(e.clone());return this._updateTile(t),t}},{key:"_updateTile",value:function(e){var t=this;this._updatingHandles.addPromise(this._fetchQueue.push(e.key).then((function(n){var i=e.setElements(n),a=(0,r.Z)(i,2),l=a[0],s=a[1];t._referenceElements(e,l),t._dereferenceElements(e,s),t.requestUpdate()}),(function(e){(0,m.D_)(e)||v.Z.getLogger(t).error(e)})))}},{key:"_releaseTile",value:function(e){this._fetchQueue.abort(e.key.id),e.elements&&this._dereferenceElements(e,e.elements),this.requestUpdate()}},{key:"_queryElements",value:function(){var e=(0,l.Z)((0,i.Z)().mark((function e(t,n){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(r=this.layer.effectiveSource)){e.next=3;break}return e.abrupt("return",[]);case 3:return this.view.featuresTilingScheme.getTileBounds(ce,t,!0),a=new oe.Z({xmin:ce[0],ymin:ce[1],xmax:ce[2],ymax:ce[3],spatialReference:this.view.spatialReference}),e.abrupt("return",r.queryElements(a,n));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_referenceElements",value:function(e,t){if(null!=this.layer.source){var n,r=(0,a.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._referenceElement(e,i)}}catch(l){r.e(l)}finally{r.f()}}}},{key:"_referenceElement",value:function(e,t){var n=this;(0,y.s1)(this._elementReferences,t.uid,(function(){var e=new x.L({element:t,spatialReference:n.view.spatialReference}),r=new X(e);n._overlayContainer.addChild(r),n.elements.add(t);return{tiles:new Set,projectedElement:e,overlay:r,debugGraphic:null}})).tiles.add(e)}},{key:"_dereferenceElements",value:function(e,t){var n,r=(0,a.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._dereferenceElement(e,i)}}catch(l){r.e(l)}finally{r.f()}}},{key:"_dereferenceElement",value:function(e,t){var n,r=this._elementReferences.get(t.uid);r.tiles.delete(e),r.tiles.size||(this._overlayContainer.removeChild(r.overlay),r.overlay.destroy(),r.projectedElement.destroy(),this._elementReferences.delete(t.uid),this.elements.remove(t),null===(n=this._debugGraphicsView)||void 0===n||n.graphics.remove(r.debugGraphic))}},{key:"_elementUpdateHandler",value:function(e){var t=this._elementReferences.get(e.uid);if(t){var n,r,i=t.projectedElement.normalizedCoords;if(null==i)return this._overlayContainer.removeChild(t.overlay),t.overlay.destroy(),t.projectedElement.destroy(),this._elementReferences.delete(e.uid),this.elements.remove(e),void(null===(n=this._debugGraphicsView)||void 0===n||n.graphics.remove(t.debugGraphic));var l,s=[],o=[],u=(0,a.Z)(this._tileStrategy.tiles);try{for(u.s();!(l=u.n()).done;){var c=l.value,h=de(this.view.featuresTilingScheme,c,i);t.tiles.has(c)?h||o.push(c):h&&s.push(c)}}catch(k){u.e(k)}finally{u.f()}for(var d=0,f=s;d<f.length;d++){var v=f[d];this._referenceElement(v,e)}for(var p=0,y=o;p<y.length;p++){var m=y[p];this._dereferenceElement(m,e)}(null===(r=t=this._elementReferences.get(e.uid))||void 0===r?void 0:r.debugGraphic)&&(t.debugGraphic.geometry=t.projectedElement.normalizedCoords,this._debugGraphicsView.graphicUpdateHandler({graphic:t.debugGraphic,property:"geometry"}))}else{var _=new x.L({element:e,spatialReference:this.view.spatialReference}).normalizedCoords;if(null!=_){var g,w=(0,a.Z)(this._tileStrategy.tiles);try{for(w.s();!(g=w.n()).done;){var Z=g.value;de(this.view.featuresTilingScheme,Z,_)&&this._referenceElement(Z,e)}}catch(k){w.e(k)}finally{w.f()}}}}}]),n}((0,le.y)(se.Z));(0,f._)([(0,g.Cb)()],ue.prototype,"layer",void 0),(0,f._)([(0,g.Cb)({readOnly:!0})],ue.prototype,"elements",void 0),ue=(0,f._)([(0,w.j)("esri.views.2d.layers.MediaLayerView2D")],ue);var ce=(0,Z.Ue)(),he={xmin:0,ymin:0,xmax:0,ymax:0};function de(e,t,n){return e.getTileBounds(ce,t.key,!0),he.xmin=ce[0],he.ymin=ce[1],he.xmax=ce[2],he.ymax=ce[3],(0,b.Nl)(he,n)}var fe=function(){function e(t){(0,s.Z)(this,e),this.key=t,this.elements=null,this.isReady=!1,this.visible=!0}return(0,o.Z)(e,[{key:"setElements",value:function(e){var t=[],n=new Set(this.elements);this.elements=e;var r,i=(0,a.Z)(e);try{for(i.s();!(r=i.n()).done;){var l=r.value;n.has(l)?n.delete(l):t.push(l)}}catch(s){i.e(s)}finally{i.f()}return this.isReady=!0,[t,Array.from(n)]}},{key:"destroy",value:function(){}}]),e}(),ve=ue}}]);
//# sourceMappingURL=5139.f1ad7ef1.chunk.js.map